(function(){"use strict";L.Utils={initTranslation(){const t={deleteImage:"Delete Image",deleteImages:"Delete Images",distortImage:"Distort Image",dragImage:"Drag Image",exportImage:"Export Image",exportImages:"Export Images",removeBorder:"Remove Border",addBorder:"Add Border",freeRotateImage:"Free rotate Image",geolocateImage:"Geolocate Image",lockMode:"Lock Mode",lockImages:"Lock Images",makeImageOpaque:"Make Image Opaque",makeImageTransparent:"Make Image Transparent",restoreImage:"Restore Natural Image",rotateImage:"Rotate Image",scaleImage:"Scale Image",stackToFront:"Stack to Front",stackToBack:"Stack to Back",unlockImages:"Unlock Images",confirmImageDelete:"Are you sure? This image will be permanently deleted from the map.",confirmImagesDeletes:"Are you sure? These images will be permanently deleted from the map."};if(!this.options.translation)this.options.translation=t;else for(const e in t)this.options.translation.hasOwnProperty(e)||(this.options.translation[e]=t[e]);L.DomUtil.initTranslation(this.options.translation)},getNestedVal(t,e,i){return[e,i].reduce(function(s,n){return s&&s[n]},t)}},L.DomUtil=L.extend(L.DomUtil,{initTranslation(t){this.translation=t},getMatrixString(t){const e=L.Browser.webkit3d||L.Browser.gecko3d||L.Browser.ie3d,i=[t[0],t[3],0,t[6],t[1],t[4],0,t[7],0,0,1,0,t[2],t[5],0,t[8]],o=e?"matrix3d("+i.join(",")+")":"";return e||console.log("Your browser must support 3D CSS transformsin order to use DistortableImageOverlay."),o},toggleClass(t,e){const i=e;return this.hasClass(t,i)?this.removeClass(t,i):this.addClass(t,i)},confirmDelete(){return window.confirm(this.translation.confirmImageDelete)},confirmDeletes(t){if(t===1)return this.confirmDelete();const e=this.translation.confirmImagesDeletes;let i="";return typeof e=="function"?i=e(t):i=e,window.confirm(i)}}),L.IconUtil={create(t){return/^#/.test(t)&&(t=t.replace(/^#/,"")),'<svg class="ldi-icon ldi-'+t+'"role="img" focusable="false"><use xlink:href="#'+t+'"></use></svg>'},addClassToSvg(t,e){const i=t.querySelector("svg");i&&L.DomUtil.addClass(i,e)},toggleXlink(t,e,i){/^#/.test(e)||(e="#"+e),/^#/.test(i)||(i="#"+i);const o=t.querySelector("use");if(o){const s=o.getAttribute("xlink:href")===e?i:e;return o.setAttribute("xlink:href",s),s}return!1},toggleTitle(t,e,i){const o=t.getAttribute("title")===e?i:e;return t.setAttribute("title",o),t.hasAttribute("aria-label")&&t.setAttribute("aria-label",o),o}},L.ImageUtil={getCmPerPixel(t){const e=t._map;return e.latLngToLayerPoint(t.getCorner(0)).distanceTo(e.latLngToLayerPoint(t.getCorner(1)))*100/t.getElement().width}},L.MatrixUtil={adj(t){return[t[4]*t[8]-t[5]*t[7],t[2]*t[7]-t[1]*t[8],t[1]*t[5]-t[2]*t[4],t[5]*t[6]-t[3]*t[8],t[0]*t[8]-t[2]*t[6],t[2]*t[3]-t[0]*t[5],t[3]*t[7]-t[4]*t[6],t[1]*t[6]-t[0]*t[7],t[0]*t[4]-t[1]*t[3]]},multmm(t,e){const i=[];let o;for(o=0;o<3;o++)for(let s=0;s<3;s++){let n=0;for(let a=0;a<3;a++)n+=t[3*o+a]*e[3*a+s];i[3*o+s]=n}return i},multmv(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},multsm(t,e){const i=[];for(let o=0,s=e.length;o<s;o++)i.push(t*e[o]);return i},basisToPoints(t,e,i,o,s,n,a,l){const r=[t,i,s,e,o,n,1,1,1],c=L.MatrixUtil.multmv(L.MatrixUtil.adj(r),[a,l,1]);return L.MatrixUtil.multmm(r,[c[0],0,0,0,c[1],0,0,0,c[2]])},project(t,e,i){const o=L.MatrixUtil.multmv(t,[e,i,1]);return[o[0]/o[2],o[1]/o[2]]},general2DProjection(t,e,i,o,s,n,a,l,r,c,d,m,u,_,f,b){const v=L.MatrixUtil.basisToPoints(t,e,s,n,r,c,u,_),k=L.MatrixUtil.basisToPoints(i,o,a,l,d,m,f,b),p=L.MatrixUtil.multmm(k,L.MatrixUtil.adj(v));return L.MatrixUtil.multsm(1/p[8],p)}},L.TrigUtil={calcAngle(t,e,i="deg"){return i==="deg"?this.radiansToDegrees(Math.atan2(e,t)):Math.atan2(e,t)},radiansToDegrees(t){return t*180/Math.PI},degreesToRadians(t){return t*Math.PI/180}},L.DistortableImageOverlay=L.ImageOverlay.extend({options:{height:200,crossOrigin:!0,edgeMinWidth:50,editable:!0,mode:"distort",selected:!1,interactive:!0,tooltipText:""},initialize(t,e){L.setOptions(this,e),L.Utils.initTranslation.call(this),this.edgeMinWidth=this.options.edgeMinWidth,this.editable=this.options.editable,this._selected=this.options.selected,this._url=t,this.rotation={},this._corners=this.options.corners||[],this.interactive=this.options.interactive,this.tooltipText=this.options.tooltipText},onAdd(t){this._map=t,this.getElement()||this._initImage(),t.on("viewreset",this._reset,this),this.options.corners&&(this._corners=this.options.corners,t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this)),L.DomEvent.on(this.getElement(),"load",()=>{if(this.getPane().appendChild(this.getElement()),this._initImageDimensions(),this.options.rotation){const i=this.options.rotation.deg>=0?"deg":"rad";this.setAngle(this.options.rotation[i],i)}else this.rotation={deg:0,rad:0},this._reset();this._corners||t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this);const e=this._eventParents;e?(this.eP=e[Object.keys(e)[0]],this.eP.editable&&this.editing.enable()):(this.editable&&this.editing.enable(),this.eP=null)}),L.DomEvent.on(this.getElement(),"click",this.select,this),L.DomEvent.on(t,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick},this),t.doubleClickZoom.enabled()||t.doubleClickLabels.enabled()||L.DomEvent.on(t,"click",this.deselect,this),this.fire("add"),L.DomEvent.on(this.getElement(),"mousemove",this.activateTooltip,this),L.DomEvent.on(this.getElement(),"mouseout",this.closeTooltip,this)},onRemove(t){L.DomEvent.off(this.getElement(),"click",this.select,this),L.DomEvent.off(t,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick},this),L.DomEvent.off(t,"click",this.deselect,this),this.editing&&this.editing.disable(),this.fire("remove"),L.ImageOverlay.prototype.onRemove.call(this,t),L.DomEvent.on(this.getElement(),"mouseout",this.closeTooltip,this),L.DomEvent.off(this.getElement(),"mousemove",this.deactivateTooltip,this)},_initImageDimensions(){const t=this._map,e=L.DomUtil.getStyle(this.getElement(),"width"),i=L.DomUtil.getStyle(this.getElement(),"height"),o=parseInt(e)/parseInt(i),s=this.options.height,n=parseInt(o*s),a=t.project(t.getCenter()),l=L.point(n,s).divideBy(2);this.options.corners?this._corners=this.options.corners:this._corners=[t.unproject(a.subtract(l)),t.unproject(a.add(L.point(l.x,-l.y))),t.unproject(a.add(L.point(-l.x,l.y))),t.unproject(a.add(l))],this._initialDimensions={center:a,offset:l,zoom:t.getZoom()},this.setBounds(L.latLngBounds(this.getCorners()))},_singleClick(t){if(t.type==="singleclick")this.deselect();else return},_singleClickListeners(){const t=this._map;L.DomEvent.off(t,"click",this.deselect,this),L.DomEvent.on(t,"singleclick",this.deselect,this)},_resetClickListeners(){const t=this._map;L.DomEvent.on(t,"click",this.deselect,this),L.DomEvent.off(t,"singleclick",this.deselect,this)},isSelected(){return this._selected},deselect(){const t=this.editing;if(t.enabled())return t._removeToolbar(),t._hideMarkers(),this._selected=!1,this.fire("deselect"),this},select(t){const e=this.editing,i=this.eP;if(e.enabled()){if(t&&L.DomEvent.stopPropagation(t),this._programmaticGrouping(),this._selected=!0,e._addToolbar(),e._showMarkers(),this.fire("select"),i&&i.anyCollected()){this.deselect();return}return this}},_programmaticGrouping(){this._map.eachLayer(t=>{t instanceof L.DistortableImageOverlay&&t.deselect()})},setCorner(t,e){const i=this.editing;return this._corners[t]=e,this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),i.toolbar&&i.toolbar instanceof L.DistortableImage.PopupBar&&i._updateToolbarPos(),this.edited=!0,this},_cornerExceedsMapLats(t,e,i){if(i.options.crs.Simple==L.CRS.Simple)return!1;{let o,s;return t===0?(o=i.project(e).y<2,s=i.project(e).y>=255):(o=i.project(e).y/t<2,s=i.project(e).y/Math.pow(2,t)>=255),o||s}},activateTooltip(){this._selected||this.bindTooltip(this.tooltipText,{direction:"top"}).openTooltip()},closeToolTip(){this.closeTooltip()},deactivateTooltip(){this.unbindTooltip()},getTooltipText(){return this.tooltipText},setCorners(t){const e=this._map,i=e.getZoom(),o=this.editing;let s=0;for(const n in t)if(this._cornerExceedsMapLats(i,t[n],e)){this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update");return}for(const n in t)this._corners[s]=t[n],s+=1;return this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),o.toolbar&&o.toolbar instanceof L.DistortableImage.PopupBar&&o._updateToolbarPos(),this.edited=!0,this},setCornersFromPoints(t){const e=this._map,i=e.getZoom(),o=this.editing;let s=0;for(const n in t){const a=e.layerPointToLatLng(t[n]);if(this._cornerExceedsMapLats(i,a,e)){this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update");return}}for(const n in t)this._corners[s]=e.layerPointToLatLng(t[n]),s+=1;return this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),o.toolbar&&o.toolbar instanceof L.DistortableImage.PopupBar&&o._updateToolbarPos(),this.edited=!0,this},scaleBy(t){const e=this._map,i=e.project(this.getCenter());let o,s;const n={};if(t!==0){for(o=0;o<4;o++)s=e.project(this.getCorner(o)).subtract(i).multiplyBy(t).add(i),n[o]=e.unproject(s);return this.setCorners(n),this}},getAngle(t="deg"){const e=this.getElement().style[L.DomUtil.TRANSFORM].split("matrix3d")[1].slice(1,-1).split(","),i=e[0],o=e[1],s=e[4],n=e[5],a=i*n-o*s;let l=L.TrigUtil.calcAngle(i,o,"rad");return a<0&&(l+=l<0?Math.PI:-Math.PI),l<0&&(l=2*Math.PI+l),t==="deg"?Math.round(L.TrigUtil.radiansToDegrees(l)):L.Util.formatNum(l,2)},setAngle(t,e="deg"){const i=this.getAngle(e),o=t-i;return this.rotateBy(o,e),this},rotateBy(t,e="deg"){const i=this._map,o=i.project(this.getCenter()),s={};let n,a,l;for(e==="deg"&&(t=L.TrigUtil.degreesToRadians(t)),n=0;n<4;n++)a=i.project(this.getCorner(n)).subtract(o),l=L.point(Math.cos(t)*a.x-Math.sin(t)*a.y,Math.sin(t)*a.x+Math.cos(t)*a.y),s[n]=i.unproject(l.add(o));return this.setCorners(s),this},dragBy(t,e){const i=this._map;let o,s;const n={},a=i.project(t).subtract(i.project(e));for(o=0;o<4;o++)s=i.project(this.getCorner(o)).subtract(a),n[o]=i.unproject(s);this.setCorners(n)},restore(){const t=this._map,e=this._initialDimensions.center,i=this._initialDimensions.offset,o=this._initialDimensions.zoom,s=[e.subtract(i),e.add(L.point(i.x,-i.y)),e.add(L.point(-i.x,i.y)),e.add(i)];for(let n=0;n<4;n++)t.unproject(s[n],o).equals(this.getCorner(n))||this.setCorner(n,t.unproject(s[n],o));return this.edited=!1,this.fire("restore"),this},_getTranslateString(t){const e=L.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",o=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+o},_reset(){const t=this._map,e=this.getElement(),i=L.bind(t.latLngToLayerPoint,t),o=this._calculateProjectiveTransform(i),s=i(this.getCorner(0)),n=L.DomUtil.getMatrixString(o),a=this._getTranslateString(s);e._leaflet_pos=s,e.style[L.DomUtil.TRANSFORM]=[a,n].join(" "),e.style[L.DomUtil.TRANSFORM+"-origin"]="0 0 0",this.rotation.deg=this.getAngle(),this.rotation.rad=this.getAngle("rad")},_animateZoom(t){const e=this._map,i=this.getElement(),o=function(r){return e._latLngToNewLayerPoint(r,t.zoom,t.center)},s=this._calculateProjectiveTransform(o),n=o(this.getCorner(0)),a=L.DomUtil.getMatrixString(s),l=this._getTranslateString(n);i._leaflet_pos=n,i.style[L.DomUtil.TRANSFORM]=[l,a].join(" ")},getCorners(){return this._corners},getCorner(t){return this._corners[t]},getCenter(){const t=this._map,e=this.getCorners().reduce(function(i,o){return i.add(t.project(o))},L.point(0,0));return t.unproject(e.divideBy(4))},_calculateProjectiveTransform(t){const e=t(this.getCorner(0)),i=this.getElement().offsetWidth||500,o=this.getElement().offsetHeight||375,s=[];let n;for(n=0;n<4;n++)s.push(t(this.getCorner(n))._subtract(e));return L.MatrixUtil.general2DProjection(0,0,s[0].x,s[0].y,i,0,s[1].x,s[1].y,0,o,s[2].x,s[2].y,i,o,s[3].x,s[3].y)}}),L.distortableImageOverlay=function(t,e){return new L.DistortableImageOverlay(t,e)},L.Map.addInitHook(function(){L.DomUtil.hasClass(this.getContainer(),"ldi")||L.DomUtil.addClass(this.getContainer(),"ldi")});const h=[];L.DistortableCollection=L.FeatureGroup.extend({options:{editable:!0,exportOpts:{exportStartUrl:"//export.mapknitter.org/export",statusUrl:"//export.mapknitter.org",exportUrl:"http://export.mapknitter.org/"}},initialize(t){L.setOptions(this,t),L.FeatureGroup.prototype.initialize.call(this,t),L.Utils.initTranslation.call(this),this.editable=this.options.editable},onAdd(t){L.FeatureGroup.prototype.onAdd.call(this,t),this._map=t,this.editable&&this.editing.enable(),this.on("layeradd",this._addEvents,this),this.on("layerremove",this._removeEvents,this)},onRemove(){this.editing&&this.editing.disable(),this.off("layeradd",this._addEvents,this),this.off("layerremove",this._removeEvents,this)},_addEvents(t){const e=t.layer;L.DomEvent.on(e,{dragstart:this._dragStartMultiple,drag:this._dragMultiple},this),L.DomEvent.on(e.getElement(),{mousedown:this._deselectOthers,contextmenu:this._longPressMultiSelect},this)},_removeEvents(t){const e=t.layer;L.DomEvent.off(e,{dragstart:this._dragStartMultiple,drag:this._dragMultiple},this),L.DomEvent.off(e.getElement(),{mousedown:this._deselectOthers,contextmenu:this._longPressMultiSelect},this)},_longPressMultiSelect(t){this.editable&&(t.preventDefault(),this.eachLayer(e=>{const i=e.editing;e.getElement()===t.target&&i.enabled()&&(L.DomUtil.toggleClass(e.getElement(),"collected"),this.anyCollected()?(e.deselect(),this.editing._addToolbar()):this.editing._removeToolbar())}))},isCollected(t){return L.DomUtil.hasClass(t.getElement(),"collected")},anyCollected(){return this.getLayers().some(this.isCollected.bind(this))},_toggleCollected(t,e){t.shiftKey&&e.editing.enabled()&&(L.DomUtil.toggleClass(t.target,"collected"),h.every(o=>o._leaflet_id!==e._leaflet_id)?h.push(e):h.splice(h.indexOf(e),1)),this.anyCollected()?e.deselect():this.editing._removeToolbar()},_deselectOthers(t){this.editable&&(this.eachLayer(e=>{e.getElement()!==t.target?e.deselect():this._toggleCollected(t,e)}),t&&L.DomEvent.stopPropagation(t))},_dragStartMultiple(t){const e=t.target,i=this._map;let o;this.isCollected(e)&&this.eachLayer(s=>{for(s._dragStartPoints={},s.deselect(),o=0;o<4;o++){const n=s.getCorner(o);s._dragStartPoints[o]=i.latLngToLayerPoint(n)}})},_dragMultiple(t){const e=t.target,i=this._map;if(!this.isCollected(e))return;const o=i.latLngToLayerPoint(e.getCorner(0)),s=e._dragStartPoints[0].subtract(o);this._updateCollectionFromPoints(s,e)},_toRemove(){return this.getLayers().filter(e=>{const i=e.editing._mode;return this.isCollected(e)&&i!=="lock"})},_toMove(t){return this.getLayers().filter(i=>{const o=i.editing._mode;return i!==t&&this.isCollected(i)&&o!=="lock"})},_updateCollectionFromPoints(t,e){const i=this._toMove(e),o=new L.Transformation(1,-t.x,1,-t.y);let s;i.forEach(n=>{const a={};for(s=0;s<4;s++)a[s]=o.transform(n._dragStartPoints[s]);n.setCornersFromPoints(a)})},_getAvgCmPerPixel(t){return t.reduce(function(i,o){return i+o.cm_per_pixel},0)/t.length},async fetchRemoteJson(t){let e=0;const i=[];try{const o=await axios.get(t);return o.data.hasOwnProperty("avg_cm_per_pixel")?o.data.collection.length>1?(o.data.collection.forEach(s=>{i[e]=s,e++}),{avg_cm_per_pixel:o.data.avg_cm_per_pixel,imgCollectionProps:i}):(i[e]=o.data.collection,{avg_cm_per_pixel:o.data.avg_cm_per_pixel,imgCollectionProps:i}):o.data.length>1?(o.data.forEach(s=>{i[e]=s,e++}),{imgCollectionProps:i}):(i[e]=o.data,{imgCollectionProps:i})}catch(o){console.log("err",o)}},async recreateImagesFromJsonUrl(t){let e={};return t&&(e=await this.fetchRemoteJson(t)),e},generateExportJson(t=!1){const e={};return e.images=[],this.eachLayer(function(i){if(t||this.isCollected(i)){const o=i._image.src.split("/"),s=o[o.length-1],n=i.getCorners(),a=[{lat:n[0].lat,lon:n[0].lng||n[0].lon},{lat:n[1].lat,lon:n[1].lng||n[1].lon},{lat:n[3].lat,lon:n[3].lng||n[3].lon},{lat:n[2].lat,lon:n[2].lng||n[2].lon}];e.images.push({id:i._leaflet_id,src:i._image.src,width:i._image.width,height:i._image.height,tooltipText:i.getTooltipText(),image_file_name:s,nodes:a,cm_per_pixel:L.ImageUtil.getCmPerPixel(i)})}},this),e.images=e.images.reverse(),e.avg_cm_per_pixel=this._getAvgCmPerPixel(e.images),e}}),L.distortableCollection=function(t,e){return new L.DistortableCollection(t,e)},L.EXIF=function(e){if(Object.keys(EXIF.getAllTags(e)).length!==0){console.log(EXIF.getAllTags(e));const i=EXIF.getAllTags(e);typeof i.GPSLatitude<"u"&&typeof i.GPSLongitude<"u"&&(i.GPSLatitude[0]+i.GPSLatitude[1]/60+i.GPSLatitude[2]/3600,i.GPSLongitude[0]+i.GPSLongitude[1]/60+i.GPSLongitude[2]/3600,i.GPSLatitudeRef,i.GPSLongitudeRef),i.GPSImgDirectionRef==="T"||i.GPSImgDirectionRef==="M"?Math.PI/180*(i.GPSImgDirection.numerator/i.GPSImgDirection.denominator-90):console.log("No compass data found"),console.log("Orientation:",i.Orientation),i.Orientation===6||i.Orientation===8||i.Orientation,typeof i.GPSAltitude<"u"&&typeof i.GPSAltitudeRef<"u"&&typeof i.GPSAltitude<"u"&&typeof i.GPSAltitudeRef<"u"&&i.GPSAltitude.numerator/i.GPSAltitude.denominator+i.GPSAltitudeRef}else alert("EXIF initialized. Press again to view data in console.")},L.EditHandle=L.Marker.extend({initialize(t,e,i){const o=t.getCorner(e);L.setOptions(this,i),this._handled=t,this._corner=e;const s={draggable:!0,zIndexOffset:10};i&&i.hasOwnProperty("draggable")&&(s.draggable=i.draggable),L.Marker.prototype.initialize.call(this,o,s)},onAdd(t){L.Marker.prototype.onAdd.call(this,t),this._bindListeners(),this.updateHandle()},onRemove(t){this._unbindListeners(),L.Marker.prototype.onRemove.call(this,t)},_onHandleDragStart(){this._handled.fire("editstart")},_onHandleDragEnd(){this._fireEdit()},_fireEdit(){this._handled.edited=!0,this._handled.fire("edit")},_bindListeners(){this.on({contextmenu:L.DomEvent.stop,dragstart:this._onHandleDragStart,drag:this._onHandleDrag,dragend:this._onHandleDragEnd},this),this._handled._map.on("zoomend",this.updateHandle,this),this._handled.on("update",this.updateHandle,this)},_unbindListeners(){this.off({contextmenu:L.DomEvent.stop,dragstart:this._onHandleDragStart,drag:this._onHandleDrag,dragend:this._onHandleDragEnd},this),this._handled._map.off("zoomend",this.updateHandle,this),this._handled.off("update",this.updateHandle,this)},_calculateScalingFactor(t,e){const i=this._handled,o=i._map,s=o.latLngToLayerPoint(i.getCenter()),n=o.latLngToLayerPoint(t),a=o.latLngToLayerPoint(e),l=this._d2(s,n),r=this._d2(s,a);return Math.sqrt(r/l)},_d2(t,e){const i=t.x-e.x,o=t.y-e.y;return Math.pow(i,2)+Math.pow(o,2)},calculateAngleDelta(t,e){const i=this._handled,o=i._map,s=o.latLngToLayerPoint(i.getCenter()),n=o.latLngToLayerPoint(t),a=o.latLngToLayerPoint(e),l=Math.atan2(s.y-n.y,s.x-n.x);return Math.atan2(s.y-a.y,s.x-a.x)-l}}),L.DistortHandle=L.EditHandle.extend({options:{TYPE:"distort",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAChSURBVO3BIU4DURgGwNkvL2B6AkQTLBqP4QCoSm7DDXoBLBZHDbfgICAIZjEV3YTn9uVHdMZZtcnCfI13bIzxg0emg6Nm6QVbYz3jylEsXRrvwommb49X67jFkz80fR9Mb1YxTzqiWBSLYlEsikWxKBbFolgUi2JRLIpFsSgWxaJY03fHHOu40dH07bAzWCx9Ge/TiWbpHgdsjPGNB2f/yS+7xRCyiiZPJQAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){this._handled.setCorner(this._corner,this.getLatLng())},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.distortHandle=function(t,e,i){return new L.DistortHandle(t,e,i)},L.DragHandle=L.EditHandle.extend({options:{TYPE:"drag",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAsVJREFUeNrMVztLXEEUvnNVFAVBAhY2aRKbTZEHJNpYabuNjSgYg/GxdsmPSJkUAa/ZdVEX8mgWYVutbHxAHkVskjQBuUUgBISVhCQk3wnfwMlk1rusN1wHPubOzJlzvjlz5sxc01Ma/hUEwQnwDIjqc7uvgv9YYO86qgIwCXQbdNTlQ8kcCBHgBch8TcloF6oJGr6phk6EQAkfdz3zvgDr9Mr7Fg1fptEZoM8jsmrokpfsiIFO4IIjuE2v1EDmR4LRdlR5Gh51hj8D34ABtm8YTtqna0TgklIw5CgQguKxIojEjmFROg/MKQO27NkFAB+4wAPouGUJiIvWKHwbAxX2XyWRKWkqhT+pbJntJZJuUzISW0+5hW+obxrVBsfvoH/dqCCJuU97GBh2VteLSiYvArmErT8EVoAK9Bw7enbpVYmvAQlyowYforrH5jXL2rPHI/TKONDB7u9AlavdaTBPvPmazUeQuy8f7UomUgTEwIJPEQ3sQGE/6ll2l9H/KcEzBcfWn2IclluM3DpddJxSHujlFkscbUPvmB0LHVnLrId7nlaZVkEc6QGXQI1MAwZcWmVRHeNaQwJMMiU2cwy4s7p/RJ2ckpvIQs+cIs+5GzitloLKHUV3MPREuXbTOKO91dX387gGTONxIgEWm+E61FFrpcyqXLHsEwiDjEsjAksqw5XPoL9MHVrn6QR4q+XZrDaR4RoWzq2ymafuRA/Mq1stSsHLVkcbdf9VjOcx8ZH3+SFWcCWlVPyWuUBOwUWdC1wP5NVjYiXFWLO69PZ6CRTUY6KSIoEKdf6T3IzzgHxnsyHctNBEkmn6Oob8ExUDg/ahGybd177cDjzH5xHwgDiSvoS7I/LZyvxJZj0wod7tkX5G0XVC7rEyLhfLJjBGbKoLLEfZWObyKeZ6oY82g+yf5Zn/mJyHX7PMf04z/T3/LcAAu4E6iiyJqf0AAAAASUVORK5CYII=",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t.getCorner(this._corner),i=this.getLatLng();t.dragBy(e,i)},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.dragHandle=function(t,e,i){return new L.DragHandle(t,e,i)},L.FreeRotateHandle=L.EditHandle.extend({options:{TYPE:"freeRotate",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAHiSURBVMXBa3HbShgA0PMp/1sCCo8oCEpgTaCXgIXAJiDzyCJoAUTm4UVQAns1Y8+snWnTvJyeE16hkjDgDrfoNTMKcpC9UPiLSo8JyetkjEHxjPCMyoS199kFoz8Iv1HpMaN3qWDCHoegOKkkRwnJpRmroHgiPFEZ8IBekzEGxQtUEhKSS/fB7Ew4U+lxcGkVZG9QWWPSFAxBcdK59KApuA+yNwp2uEdx1GN25sZJZULSfAtm77SlbNjju6MvG75u+WHRWVR6rDVjMPsgwYyVZl3pLTpHkyYHOx8syMiayaJzlDTZ9YyaZNFVkiYH2ZUEBcVJJXVImuz6Js3Qofe59pq7DoOTILu+g+a288mCouk7/1iH4qTS+2QdDppbV1ZJmrnDXnPnc5UOs2Z0fUmTuyBr+krvSioJyUmQO0dZM7mepMkWnaNRkyrJB6uskTSjxY3Fll8bvmJwlDb83FJ8gMqAB80uyBY3Trb82PAfvjj6vuHnluIdKgMeNXOwctK5NKBoHitrb1RJeHRp5Ux4ojLg0aWMHGQvUOkxIWkKVsHsTPiNSo8HDC5lZIsgO6n0uMUdRvQuFQxB8UR4RmXC2vvsgtEfhL+o9JiQvE7GGBTPCK9QSUjoMWgKDthjDrIX+h/k0I7gth6N5gAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t._map,i=t.getCorner(this._corner),o=this.getLatLng(),s=this.calculateAngleDelta(i,o),n=this._calculateScalingFactor(i,o);s!==0&&t.rotateBy(s,"rad");let a=t.edgeMinWidth;a||(a=50);const l=e.latLngToContainerPoint(t.getCorner(0)),r=e.latLngToContainerPoint(t.getCorner(1)),c=Math.abs(l.x-r.x),d=Math.abs(l.y-r.y);Math.sqrt(c*c+d*d)>a||n>1?t.scaleBy(n):t.scaleBy(1)},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.freeRotateHandle=(t,e,i)=>new L.FreeRotateHandle(t,e,i),L.LockHandle=L.EditHandle.extend({options:{TYPE:"lock",interactive:!1,icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAD8SURBVO3BPU7CYAAA0AdfjIcQlRCQBG7C3gk2uIPG2RC3Dk16Gz0FTO1WZs/gwGCMP/2+xsSl7+n1er1Iz9LtRQjaPeMeO+TinLDCJV78YqjdA04YodKuxhUaPGoRxMmxwRQZSt87Yo4KExGCeAUyLLFB4bMacxywEClIU2KDKXbInTUYo8JCgoFuGoxQO5uiwY1EA91VmDqrcKeDoX8WdNNgjApvmGGLXKIgXY0xGkxQYItrrFFIEKQ5Yo4KEx9yrDFDhlKkIF6NOQ5Y+KpAhiXWKEQI4pxwiwoLPyuxwQw75FoE7fZYocFEuwI7jHCBV39gL92TXq/Xi/AOcmczZmaIMScAAAAASUVORK5CYII=",iconSize:[32,32],iconAnchor:[16,16]})},onRemove(t){this.unbindTooltip(),L.EditHandle.prototype.onRemove.call(this,t)},_bindListeners(){const t=this.getElement();L.EditHandle.prototype._bindListeners.call(this),L.DomEvent.on(t,{mousedown:this._tooltipOn,mouseup:this._tooltipOff},this),L.DomEvent.on(document,"pointerleave",this._tooltipOff,this)},_unbindListeners(){const t=this.getElement();L.EditHandle.prototype._bindListeners.call(this),L.DomEvent.off(t,{mousedown:this._tooltipOn,mouseup:this._tooltipOff},this),L.DomEvent.off(document,"pointerleave",this._tooltipOff,this)},_onHandleDrag(){},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))},_tooltipOn(t){const e=this._handled.parentGroup,i=e?e.editing:this._handled.editing;if(t.shiftKey||!this._handled.isSelected()&&e&&!e.isCollected(this._handled))return;const o=i._lockHandles;this._timer=setTimeout(L.bind(function(){this._timeout&&clearTimeout(this._timeout),this.getTooltip()?o.eachLayer(function(s){this!==s&&s.closeTooltip()}):this.bindTooltip("Locked!",{permanent:!0}),this.openTooltip()},this),500)},_tooltipOff(t){const e=this._handled.parentGroup,i=e?e.editing:this._handled.editing;if(t.shiftKey||!this._handled.isSelected()&&e&&!e.isCollected(this._handled))return;const o=i._lockHandles;t.currentTarget===document&&o.eachLayer(function(s){s.closeTooltip()}),this._timer&&clearTimeout(this._timer),this._timeout=setTimeout(L.bind(function(){this.closeTooltip()},this),400)}}),L.lockHandle=function(t,e,i){return new L.LockHandle(t,e,i)},L.RotateHandle=L.EditHandle.extend({options:{TYPE:"rotate",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAHiSURBVMXBa3HbShgA0PMp/1sCCo8oCEpgTaCXgIXAJiDzyCJoAUTm4UVQAns1Y8+snWnTvJyeE16hkjDgDrfoNTMKcpC9UPiLSo8JyetkjEHxjPCMyoS199kFoz8Iv1HpMaN3qWDCHoegOKkkRwnJpRmroHgiPFEZ8IBekzEGxQtUEhKSS/fB7Ew4U+lxcGkVZG9QWWPSFAxBcdK59KApuA+yNwp2uEdx1GN25sZJZULSfAtm77SlbNjju6MvG75u+WHRWVR6rDVjMPsgwYyVZl3pLTpHkyYHOx8syMiayaJzlDTZ9YyaZNFVkiYH2ZUEBcVJJXVImuz6Js3Qofe59pq7DoOTILu+g+a288mCouk7/1iH4qTS+2QdDppbV1ZJmrnDXnPnc5UOs2Z0fUmTuyBr+krvSioJyUmQO0dZM7mepMkWnaNRkyrJB6uskTSjxY3Fll8bvmJwlDb83FJ8gMqAB80uyBY3Trb82PAfvjj6vuHnluIdKgMeNXOwctK5NKBoHitrb1RJeHRp5Ux4ojLg0aWMHGQvUOkxIWkKVsHsTPiNSo8HDC5lZIsgO6n0uMUdRvQuFQxB8UR4RmXC2vvsgtEfhL+o9JiQvE7GGBTPCK9QSUjoMWgKDthjDrIX+h/k0I7gth6N5gAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t.getCorner(this._corner),i=this.getLatLng(),o=this.calculateAngleDelta(e,i);t.rotateBy(o,"rad")},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.rotateHandle=function(t,e,i){return new L.RotateHandle(t,e,i)},L.ScaleHandle=L.EditHandle.extend({options:{TYPE:"scale",icon:L.icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NTkiIGhlaWdodD0iNDY0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iIj48cmVjdCBpZD0iYmFja2dyb3VuZHJlY3QiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9IjAiIHk9IjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgY2xhc3M9IiIgc3R5bGU9IiIvPjxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiIHN0eWxlPSIiPjx0aXRsZT5MYXllciAxPC90aXRsZT48cGF0aCBkPSJNNDU5LjA0OTE1OTUzMDQ3MTM0LDg2LjkyNjIzNDUxMjU1MDAyIFYwIGgtODUuNzE0NTczMzU2MzEyMDkgdjI3LjA0MzcxNzQwMzkwNDQ1MiBIODUuNzE0NTczMzU2MzEyMDMgVjAgSDAgdjg2LjkyNjIzNDUxMjU1MDAyIGgyNS43MTQzNzIwMDY4OTM2MjYgdjI4OS43NTQxMTUwNDE4MzM0IEgwIHY4Ni45MjYyMzQ1MTI1NTAwMiBoODUuNzE0NTczMzU2MzEyMDkgdi0yNy4wNDM3MTc0MDM5MDQ0NTIgaDI4NS43MTUyNDQ1MjEwNDAzIHYyNy4wNDM3MTc0MDM5MDQ0NTIgaDg1LjcxNDU3MzM1NjMxMjA5IHYtODYuOTI2MjM0NTEyNTUwMDIgaC0yMy44MDk2MDM3MTAwODY2OSBWODYuOTI2MjM0NTEyNTUwMDIgSDQ1OS4wNDkxNTk1MzA0NzEzNCB6TTM4NC43NjMxOTU5NTUwMDA5LDEyLjU1NjAxMTY1MTgxMjc4MSBoNjEuOTA0OTY5NjQ2MjI1Mzk2IHY2Mi43ODAwNTgyNTkwNjM5MSBoLTYxLjkwNDk2OTY0NjIyNTM5NiBWMTIuNTU2MDExNjUxODEyNzgxIHpNMTIuMzgwOTkzOTI5MjQ1MDUsMTIuNTU2MDExNjUxODEyNzgxIGg2MS45MDQ5Njk2NDYyMjUzOTYgdjYyLjc4MDA1ODI1OTA2MzkxIEgxMi4zODA5OTM5MjkyNDUwNSBWMTIuNTU2MDExNjUxODEyNzgxIHpNNzQuMjg1OTYzNTc1NDcwNTMsNDUxLjA1MDU3MjQxNTEyMDY2IEgxMi4zODA5OTM5MjkyNDUwNSB2LTYyLjc4MDA1ODI1OTA2MzkxIGg2MS45MDQ5Njk2NDYyMjUzOTYgVjQ1MS4wNTA1NzI0MTUxMjA2NiB6TTQ0NS43MTU3ODE0NTI4MjI3NCw0NTEuMDUwNTcyNDE1MTIwNjYgaC02Mi44NTczNTM3OTQ2Mjg4NjQgdi02Mi43ODAwNTgyNTkwNjM5MSBoNjIuODU3MzUzNzk0NjI4ODY0IFY0NTEuMDUwNTcyNDE1MTIwNjYgek00MDcuNjIwNDE1NTE2Njg0MjYsMzc2LjY4MDM0OTU1NDM4MzQ0IGgtMzYuMTkwNTk3NjM5MzMxNzcgdjMyLjgzODc5OTcwNDc0MTEyIEg4NS43MTQ1NzMzNTYzMTIwMyB2LTMyLjgzODc5OTcwNDc0MTEyIEg0OS41MjM5NzU3MTY5ODAzMiBWODYuOTI2MjM0NTEyNTUwMDIgaDM2LjE5MDU5NzYzOTMzMTc3IFY1MC4yMjQwNDY2MDcyNTExMjUgaDI4Ny42MjAwMTI4MTc4NDcyIHYzNi43MDIxODc5MDUyOTg5IGgzNC4yODU4MjkzNDI1MjQ4MzUgVjM3Ni42ODAzNDk1NTQzODM0NCB6IiBpZD0ic3ZnXzIiIGNsYXNzPSIiIGZpbGw9IiMxYTFhZWIiIGZpbGwtb3BhY2l0eT0iMSIvPjwvZz48L3N2Zz4=",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t._map;let i=t.edgeMinWidth;const o=t.getCorner(this._corner),s=this.getLatLng(),n=this._calculateScalingFactor(o,s);i||(i=50);const a=e.latLngToLayerPoint(t.getCorner(0)),l=e.latLngToLayerPoint(t.getCorner(1)),r=Math.abs(a.x-l.x),c=Math.abs(a.y-l.y);Math.sqrt(r*r+c*c)>i||n>1?t.scaleBy(n):t.scaleBy(1)},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.scaleHandle=function(t,e,i){return new L.ScaleHandle(t,e,i)},L.IconSet=L.Class.extend({_svg:'<svg xmlns="http://www.w3.org/2000/svg">',_symbols:"",render(){return this.addSymbols(this._symbols),this._svg},addSymbols(t){this._svg+=t}}),L.KeymapperIconSet=L.IconSet.extend({_symbols:'<symbol viewBox="0 0 25 25" id="keyboard_open"><path d="M12 23l4-4H8l4 4zm7-15h-2V6h2v2zm0 3h-2V9h2v2zm-3-3h-2V6h2v2zm0 3h-2V9h2v2zm0 4H8v-2h8v2zM7 8H5V6h2v2zm0 3H5V9h2v2zm1-2h2v2H8V9zm0-3h2v2H8V6zm3 3h2v2h-2V9zm0-3h2v2h-2V6zm9-3H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></symbol>'}),L.ToolbarIconSet=L.IconSet.extend({_symbols:'<symbol viewBox="0 0 18 18" id="border_clear"><path d="M5.25 3.75h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm3-3h1.5v-1.5h-1.5v1.5zm0 3h1.5v-1.5h-1.5v1.5zm-6 0h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm6 6h1.5v-1.5h-1.5v1.5zm6 3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm0-9h1.5v-1.5h-1.5v1.5zm-6 0h1.5v-1.5h-1.5v1.5zm6-4.5v1.5h1.5v-1.5h-1.5zm-6 1.5h1.5v-1.5h-1.5v1.5zm3 12h1.5v-1.5h-1.5v1.5zm0-6h1.5v-1.5h-1.5v1.5zm0-6h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="border_outer"><path d="M9.75 5.25h-1.5v1.5h1.5v-1.5zm0 3h-1.5v1.5h1.5v-1.5zm3 0h-1.5v1.5h1.5v-1.5zm-10.5-6v13.5h13.5V2.25H2.25zm12 12H3.75V3.75h10.5v10.5zm-4.5-3h-1.5v1.5h1.5v-1.5zm-3-3h-1.5v1.5h1.5v-1.5z"/></symbol><symbol viewBox="0 0 18 18" id="cancel"><path d="M13.279 5.779l-1.058-1.058L9 7.942 5.779 4.721 4.721 5.779 7.942 9l-3.221 3.221 1.058 1.058L9 10.057l3.221 3.222 1.058-1.058L10.057 9z"/></symbol><symbol viewBox="0 0 18 18" id="crop_rotate"><path d="M5.603 16.117C3.15 14.947 1.394 12.57 1.125 9.75H0C.383 14.37 4.245 18 8.963 18c.172 0 .33-.015.495-.023L6.6 15.113l-.997 1.005zM9.037 0c-.172 0-.33.015-.495.03L11.4 2.888l.998-.998a7.876 7.876 0 0 1 4.477 6.36H18C17.617 3.63 13.755 0 9.037 0zM12 10.5h1.5V6A1.5 1.5 0 0 0 12 4.5H7.5V6H12v4.5zM6 12V3H4.5v1.5H3V6h1.5v6A1.5 1.5 0 0 0 6 13.5h6V15h1.5v-1.5H15V12H6z"/></symbol><symbol viewBox="0 0 18 18" id="delete_forever"><path d="M4.5 14.25c0 .825.675 1.5 1.5 1.5h6c.825 0 1.5-.675 1.5-1.5v-9h-9v9zm1.845-5.34l1.058-1.058L9 9.443l1.59-1.59 1.058 1.058-1.59 1.59 1.59 1.59-1.058 1.058L9 11.558l-1.59 1.59-1.058-1.058 1.59-1.59-1.597-1.59zM11.625 3l-.75-.75h-3.75l-.75.75H3.75v1.5h10.5V3h-2.625z"/></symbol><symbol viewBox="0 0 18 18" id="distort"><path d="M1.7 1.4H6v1.4h5.8V1.4h4.3v4.3h-1.4v5.8h1.4v4.4h-4.3v-1.5H6v1.5H1.7v-4.4h1.4V5.7H1.7V1.4zm10.1 4.3V4.3H6v1.4H4.6v5.8H6V13h5.8v-1.5h1.4V5.7h-1.4zM3.1 2.8v1.5h1.5V2.8H3.1zm10.1 0v1.5h1.5V2.8h-1.5zM3.1 13v1.4h1.5V13H3.1zm10.1 0v1.4h1.5V13h-1.5z"/></symbol><symbol viewBox="0 0 18 18" id="explore"><path d="M9 1.5C4.86 1.5 1.5 4.86 1.5 9c0 4.14 3.36 7.5 7.5 7.5 4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5zM9 15c-3.308 0-6-2.693-6-6 0-3.308 2.692-6 6-6 3.307 0 6 2.692 6 6 0 3.307-2.693 6-6 6zm-4.125-1.875l5.633-2.617 2.617-5.633-5.633 2.617-2.617 5.633zM9 8.175c.457 0 .825.367.825.825A.823.823 0 0 1 9 9.825.823.823 0 0 1 8.175 9c0-.457.367-.825.825-.825z"/></symbol><symbol viewBox="0 0 18 18" id="flip_to_back"><path d="M6.75 5.25h-1.5v1.5h1.5v-1.5zm0 3h-1.5v1.5h1.5v-1.5zm0-6a1.5 1.5 0 0 0-1.5 1.5h1.5v-1.5zm3 9h-1.5v1.5h1.5v-1.5zm4.5-9v1.5h1.5c0-.825-.675-1.5-1.5-1.5zm-4.5 0h-1.5v1.5h1.5v-1.5zm-3 10.5v-1.5h-1.5a1.5 1.5 0 0 0 1.5 1.5zm7.5-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0 6c.825 0 1.5-.675 1.5-1.5h-1.5v1.5zm-10.5-7.5h-1.5v9a1.5 1.5 0 0 0 1.5 1.5h9v-1.5h-9v-9zm7.5-1.5h1.5v-1.5h-1.5v1.5zm0 9h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="flip_to_front"><path d="M2.25 9.75h1.5v-1.5h-1.5v1.5zm0 3h1.5v-1.5h-1.5v1.5zm1.5 3v-1.5h-1.5a1.5 1.5 0 0 0 1.5 1.5zm-1.5-9h1.5v-1.5h-1.5v1.5zm9 9h1.5v-1.5h-1.5v1.5zm3-13.5h-7.5a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h7.5c.825 0 1.5-.675 1.5-1.5v-7.5c0-.825-.675-1.5-1.5-1.5zm0 9h-7.5v-7.5h7.5v7.5zm-6 4.5h1.5v-1.5h-1.5v1.5zm-3 0h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="get_app"><path d="M14.662 6.95h-3.15v-4.5H6.787v4.5h-3.15L9.15 12.2l5.512-5.25zM3.637 13.7v1.5h11.025v-1.5H3.637z"/></symbol><symbol viewBox="0 0 18 18" id="lock"><path d="M13.5 6h-.75V4.5C12.75 2.43 11.07.75 9 .75 6.93.75 5.25 2.43 5.25 4.5V6H4.5C3.675 6 3 6.675 3 7.5V15c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5V7.5c0-.825-.675-1.5-1.5-1.5zM6.75 4.5A2.247 2.247 0 0 1 9 2.25a2.247 2.247 0 0 1 2.25 2.25V6h-4.5V4.5zM13.5 15h-9V7.5h9V15zM9 12.75c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z"/></symbol><symbol viewBox="0 0 18 18" id="opacity"><path d="M13.245 6L9 1.763 4.755 6A6.015 6.015 0 0 0 3 10.23c0 1.5.585 3.082 1.755 4.252a5.993 5.993 0 0 0 8.49 0A6.066 6.066 0 0 0 15 10.23c0-1.5-.585-3.06-1.755-4.23zM4.5 10.5c.008-1.5.465-2.453 1.32-3.3L9 3.952l3.18 3.285c.855.84 1.313 1.763 1.32 3.263h-9z"/></symbol><symbol viewBox="0 0 14 18" id="opacity_empty"><path stroke="#0078A8" stroke-width="1.7" d="M10.708 6.25A5.113 5.113 0 0 1 12.2 9.846c0 1.275-.497 2.62-1.492 3.614a5.094 5.094 0 0 1-7.216 0A5.156 5.156 0 0 1 2 9.846c0-1.275.497-2.601 1.492-3.596L7.1 2.648l3.608 3.602zm0 0L7.1 2.648 3.492 6.25A5.113 5.113 0 0 0 2 9.846c0 1.275.497 2.62 1.492 3.614a5.094 5.094 0 0 0 7.216 0A5.156 5.156 0 0 0 12.2 9.846a5.113 5.113 0 0 0-1.492-3.596z"/></symbol><symbol viewBox="0 0 14 18" id="opacities"><g fill="#0078a8"><path d="m2.1 10.85c.2.98.68 1.89 1.39 2.61 0 0 .01.01.01.01.99.99 2.3 1.49 3.6 1.49h.01c1.3 0 2.6-.5 3.59-1.5.73-.73 1.19-1.66 1.39-2.61z" opacity=".75"/><path d="m2 9.85c0 .34.04.68.1 1.01h9.99c.07-.34.11-.67.11-1.01 0-1.13-.4-2.21-1.08-3.09h-8.04c-.7.91-1.08 2.01-1.08 3.09z" opacity=".5"/><path d="m3.08 6.75h8.03c-.13-.17-.26-.35-.41-.5l-3.6-3.6-3.61 3.6c-.15.16-.27.33-.41.5z" opacity=".25"/></g><path d="m10.71 6.25c.95.96 1.49 2.25 1.49 3.6 0 1.27-.5 2.62-1.49 3.61-1.99 1.99-5.21 2-7.2.01 0 0-.01-.01-.01-.01-.96-.96-1.5-2.26-1.5-3.61 0-1.27.5-2.6 1.49-3.6l3.61-3.6z" fill="none" stroke="#0078a8" stroke-width=".1"/><path d="m10.71 6.25c.95.96 1.49 2.25 1.49 3.6 0 1.27-.5 2.62-1.49 3.61-1.99 1.99-5.21 2-7.2.01 0 0-.01-.01-.01-.01-.96-.96-1.5-2.26-1.5-3.61 0-1.27.5-2.6 1.49-3.6l3.61-3.6z" fill="none" stroke="#0078a8" stroke-width="1.7"/></symbol><symbol viewBox="0 0 18 18" id="restore"><path d="M15.67 3.839a.295.295 0 0 0-.22.103l-5.116 3.249V4.179a.342.342 0 0 0-.193-.315.29.29 0 0 0-.338.078L3.806 7.751v-4.63h-.002l.002-.022c0-.277-.204-.502-.456-.502h-.873V2.6c-.253 0-.457.225-.457.503l.002.026v10.883h.005c.021.257.217.454.452.455l.016-.002h.822c.013.001.025.004.038.004.252 0 .457-.225.457-.502a.505.505 0 0 0-.006-.068V9.318l6.001 3.811a.288.288 0 0 0 .332.074.34.34 0 0 0 .194-.306V9.878l5.12 3.252a.288.288 0 0 0 .332.073.34.34 0 0 0 .194-.306V4.18a.358.358 0 0 0-.09-.24.296.296 0 0 0-.218-.1z"/></symbol><symbol viewBox="0 0 18 18" id="rotate"><path d="M5.505 4.808L.645 9.675l4.867 4.86 4.868-4.86-4.875-4.868zM2.768 9.675L5.513 6.93 8.25 9.675 5.505 12.42 2.768 9.675zM14.52 4.98A6.713 6.713 0 009.75 3V.57L6.57 3.75l3.18 3.18V4.5a5.23 5.23 0 013.713 1.537 5.255 5.255 0 010 7.426 5.23 5.23 0 01-5.843 1.08L6.503 15.66a6.76 6.76 0 003.247.84c1.725 0 3.457-.66 4.77-1.98a6.735 6.735 0 000-9.54z"/></symbol><symbol viewBox="0 0 18 18" id="scale"><path d="M8.25 9h-6a.75.75 0 00-.75.75v6c0 .414.336.75.75.75h6a.75.75 0 00.75-.75v-6A.75.75 0 008.25 9zm-.75 6H3v-4.5h4.5V15zm8.94-13.035a.75.75 0 00-.405-.405.75.75 0 00-.285-.06h-4.5a.75.75 0 000 1.5h2.692L9.967 6.968a.75.75 0 000 1.064.75.75 0 001.065 0L15 4.057V6.75a.75.75 0 101.5 0v-4.5a.75.75 0 00-.06-.285z" /></symbol><symbol viewBox="0 0 18 18" id="spinner"><path d="M9 6.48c-.216 0-.36-.144-.36-.36V3.24c0-.216.144-.36.36-.36s.36.144.36.36v2.88c0 .216-.144.36-.36.36z"/><path d="M9 15.12c-.216 0-.36-.144-.36-.36v-2.88c0-.216.144-.36.36-.36s.36.144.36.36v2.88c0 .216-.144.36-.36.36zm1.44-8.28c-.072 0-.108 0-.18-.036-.144-.108-.216-.288-.108-.468l1.44-2.484c.108-.144.288-.216.468-.108.144.108.216.288.108.468l-1.44 2.484c-.072.072-.18.144-.288.144zm-4.32 7.488c-.072 0-.108 0-.18-.036-.144-.108-.216-.288-.108-.468l1.44-2.484c.108-.144.288-.216.468-.108.144.108.216.288.108.468l-1.44 2.484c-.072.072-.18.144-.288.144z" opacity=".3"/><path d="M7.56 6.84c-.108 0-.216-.072-.288-.18l-1.44-2.484c-.108-.144-.036-.36.108-.468.144-.108.36-.036.468.108L7.848 6.3c.108.144.036.36-.108.468-.072.072-.108.072-.18.072z" opacity=".93"/><path d="M11.88 14.328c-.108 0-.216-.072-.288-.18l-1.44-2.484c-.108-.144-.036-.36.108-.468.144-.108.36-.036.468.108l1.44 2.484c.108.144.036.36-.108.468-.072.036-.108.072-.18.072z" opacity=".3"/><path d="M6.12 9.36H3.24c-.216 0-.36-.144-.36-.36s.144-.36.36-.36h2.88c.216 0 .36.144.36.36s-.144.36-.36.36z" opacity=".65"/><path d="M14.76 9.36h-2.88c-.216 0-.36-.144-.36-.36s.144-.36.36-.36h2.88c.216 0 .36.144.36.36s-.144.36-.36.36z" opacity=".3"/><path d="M6.516 7.884c-.072 0-.108 0-.18-.036l-2.484-1.44c-.144-.108-.216-.288-.108-.468.108-.144.288-.216.468-.108l2.484 1.44c.144.108.216.288.108.468a.327.327 0 01-.288.144z" opacity=".86"/><path d="M14.004 12.204c-.072 0-.108 0-.18-.036l-2.484-1.44c-.144-.108-.216-.288-.108-.468.108-.144.288-.216.468-.108l2.484 1.44c.144.108.216.288.108.468a.327.327 0 01-.288.144z" opacity=".3"/><path d="M3.996 12.204c-.108 0-.216-.072-.288-.18-.108-.144-.036-.36.108-.468l2.484-1.44c.144-.108.36-.036.468.108.108.144.036.36-.108.468l-2.484 1.44c-.036.072-.108.072-.18.072z" opacity=".44"/><path d="M11.484 7.884c-.108 0-.216-.072-.288-.18-.108-.144-.036-.36.108-.468l2.484-1.44c.144-.108.36-.036.468.108.108.144.036.36-.108.468l-2.484 1.44c-.072.072-.108.072-.18.072z" opacity=".3"/></symbol><symbol viewBox="0 0 18 18" id="drag"><path d="M2.3 16.5c-0.2 0-0.4-0.1-0.5-0.2 -0.2-0.2-0.3-0.5-0.2-0.8l2.5-6.5 -2.5-6.5C1.5 2.3 1.5 2 1.7 1.8c0.2-0.2 0.5-0.3 0.8-0.2l6.5 2.5 6.5-2.5c0.3-0.1 0.6 0 0.8 0.2 0.2 0.2 0.3 0.5 0.2 0.8l-2.5 6.5 2.5 6.5c0.1 0.3 0 0.6-0.2 0.8 -0.2 0.2-0.5 0.3-0.8 0.2l-6.5-2.5 -6.5 2.5C2.4 16.5 2.3 16.5 2.3 16.5zM3.6 3.6l2 5.1c0.1 0.2 0.1 0.4 0 0.5l-2 5.1 5.1-2c0.2-0.1 0.4-0.1 0.5 0l5.1 2L12.4 9.3c-0.1-0.2-0.1-0.4 0-0.5l2-5.1L9.3 5.6c-0.2 0.1-0.4 0.1-0.5 0L3.6 3.6z" /></symbol><symbol viewBox="0 0 18 18" id="unlock"><path d="M13.5 6h-.75V4.5C12.75 2.43 11.07.75 9 .75 6.93.75 5.25 2.43 5.25 4.5h1.5A2.247 2.247 0 0 1 9 2.25a2.247 2.247 0 0 1 2.25 2.25V6H4.5C3.675 6 3 6.675 3 7.5V15c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5V7.5c0-.825-.675-1.5-1.5-1.5zm0 9h-9V7.5h9V15zM9 12.75c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z"/></symbol>'}),L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.action_map={},L.EditAction=L.Toolbar2.Action.extend({options:{toolbarIcon:{svg:!1,html:"",className:"",tooltip:""}},initialize(t,e,i){this._overlay=e,this._map=t,L.setOptions(this,i),L.Toolbar2.Action.prototype.initialize.call(this,i),this._injectIconSet()},_createIcon(t,e,i){const o=this.options.toolbarIcon,s=o.className,n=this._overlay.editing,a=this.options.toolbarIcon.style;this.toolbar=t,this._icon=L.DomUtil.create("li","",e),this._link=L.DomUtil.create("a","",this._icon),o.svg?this._link.innerHTML=L.IconUtil.create(o.html):this._link.innerHTML=o.html,this._link.setAttribute("href","#"),this._link.setAttribute("title",o.tooltip),a&&this._link.setAttribute("style",a),this._link.setAttribute("role","button"),L.DomUtil.addClass(this._link,this.constructor.baseClass),s&&(L.DomUtil.addClass(this._link,s),s==="disabled"&&L.DomUtil.addClass(this._icon,s),s===n._mode?L.DomUtil.addClass(this._link,"selected-mode"):L.DomUtil.removeClass(this._link,"selected-mode")),L.DomEvent.on(this._link,"click",this.enable,this),L.DomEvent.on(this._overlay,"update",()=>{const l=this._link.innerHTML.match(/xlink:href="#restore"/);l&&l.length===1&&this._enableAction()}),this._addSubToolbar(t,this._icon,i)},_injectIconSet(){if(document.querySelector("#iconset"))return;const t=document.createElement("div");t.id="iconset",t.setAttribute("hidden","hidden"),t.innerHTML=new L.ToolbarIconSet().render(),document.querySelector(".leaflet-marker-pane").appendChild(t)},_enableAction(){L.DomUtil.removeClass(this._link.parentElement,"disabled"),L.DomUtil.removeClass(this._link,"disabled")},_disableAction(){L.DomUtil.addClass(this._link.parentElement,"disabled"),L.DomUtil.addClass(this._link,"disabled")}}),L.editAction=function(t,e,i){return new L.EditAction(t,e,i)},L.BorderAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing,s=o._mode;let n,a;o._outlined?(n="border_outer",a=e.options.translation.removeBorder):(n="border_clear",a=e.options.translation.addBorder),i=i||{},i.toolbarIcon={svg:!0,html:n,tooltip:a,className:s==="lock"?"disabled":""},L.DistortableImage.action_map.b=s==="lock"?"":"_toggleBorder",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;L.IconUtil.toggleXlink(this._link,"border_clear","border_outer"),L.IconUtil.toggleTitle(this._link,"Remove Border","Add Border"),t._toggleBorder()}}),L.DeleteAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing,s="delete_forever";let n;o instanceof L.DistortableImage.Edit?(n=e.options.translation.deleteImage,L.DistortableImage.action_map.Backspace=o._mode==="lock"?"":"_removeOverlay"):(n=e.options.translation.deleteImages,L.DistortableImage.group_action_map.Backspace=o._mode==="lock"?"":"_removeGroup"),i=i||{},i.toolbarIcon={svg:!0,html:s,tooltip:n,className:o._mode==="lock"?"disabled":""},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;t instanceof L.DistortableImage.Edit?t._removeOverlay():t._removeGroup()}}),L.DistortAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"distort",tooltip:e.options.translation.distortImage,className:"distort"},L.DistortableImage.action_map.d="_distortMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._distortMode()}}),L.DragAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"drag",tooltip:e.options.translation.dragImage,className:"drag"},L.DistortableImage.action_map.D="_dragMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._dragMode()}}),L.ExportAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;let s;this.isExporting=!1,this.mouseLeaveSkip=!0,this.isHooksExecuted=!1,o instanceof L.DistortableImage.Edit?(L.DistortableImage.action_map.e="_getExport",s=e.options.translation.exportImage):(L.DistortableImage.group_action_map.e="runExporter",s=e.options.translation.exportImages),i=i||{},i.toolbarIcon={svg:!0,html:"get_app",tooltip:s},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;if(t instanceof L.DistortableImage.Edit){t._getExport();return}if(this.isHooksExecuted)return;this.isHooksExecuted=!0;const e=this._link.parentElement;this.mouseEnterHandler=this.handleMouseEnter.bind(this),this.mouseLeaveHandler=this.handleMouseLeave.bind(this),L.DomEvent.on(e,"click",function(){if(!this.isExporting)this.isExporting=!0,this.renderExportIcon(),setTimeout(this.attachMouseEventListeners.bind(this,e),100),t.runExporter().then((function(){this.resetState(),this.detachMouseEventListeners(e)}).bind(this));else{if(this.mouseLeaveSkip)return;this.resetState(),this.detachMouseEventListeners(e),t.cancelExport()}},this)},resetState(){this.renderDownloadIcon(),this.isExporting=!1,this.mouseLeaveSkip=!0},attachMouseEventListeners(t){t.addEventListener("mouseenter",this.mouseEnterHandler),t.addEventListener("mouseleave",this.mouseLeaveHandler)},detachMouseEventListeners(t){t.removeEventListener("mouseenter",this.mouseEnterHandler),t.removeEventListener("mouseleave",this.mouseLeaveHandler)},handleMouseEnter(){this.renderCancelIcon()},handleMouseLeave(){this.mouseLeaveSkip?this.mouseLeaveSkip=!1:this.renderExportIcon()},renderDownloadIcon(){L.IconUtil.toggleXlink(this._link,"get_app","spinner"),L.IconUtil.toggleTitle(this._link,"Export Images","Loading..."),L.DomUtil.removeClass(this._link.firstChild,"loader")},renderExportIcon(){L.IconUtil.toggleXlink(this._link,"spinner"),L.IconUtil.toggleTitle(this._link,"Export Images","Loading..."),L.IconUtil.addClassToSvg(this._link,"loader")},renderCancelIcon(){L.IconUtil.toggleXlink(this._link,"cancel"),L.IconUtil.toggleTitle(this._link,"Cancel Export","Loading..."),L.DomUtil.removeClass(this._link.firstChild,"loader")}}),L.FreeRotateAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"crop_rotate",tooltip:e.options.translation.freeRotateImage,className:"freeRotate"},L.DistortableImage.action_map.f="_freeRotateMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._freeRotateMode()}}),L.GeolocateAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;i=i||{},i.toolbarIcon={svg:!0,html:"explore",tooltip:e.options.translation.geolocateImage,className:o._mode==="lock"?"disabled":""},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.getElement();EXIF.getData(t,L.EXIF(t))}}),L.LockAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;let s,n;o instanceof L.DistortableImage.Edit?(L.DistortableImage.action_map.u="_unlock",L.DistortableImage.action_map.l="_lock",n=e.options.translation.lockMode,s=o.isMode("lock")?"lock":"unlock"):(L.DistortableImage.group_action_map.l="_lockGroup",n=e.options.translation.lockImages,s="lock"),i=i||{},i.toolbarIcon={svg:!0,html:s,tooltip:n,className:"lock"},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;t instanceof L.DistortableImage.Edit?t._toggleLockMode():t._lockGroup()}});let g=[100,80,60,40,20,0];g=g.map(t=>((isNaN(t)||t>100)&&(t=100),t<0&&(t=0),L.EditAction.extend({options:{toolbarIcon:{html:t,tooltip:"Opacity "+t+"%",className:"leaflet-toolbar-icon-vertical",style:"background-color:rgb("+(100-t)+"%,"+(100-t)+"%,"+(100-t)+"%);"}},addHooks(){this._overlay.editing._setOpacities(t/100)}}))),L.OpacitiesToolbar2=L.Toolbar2.extend({options:{className:"",filter:function(){return!0},actions:[],style:`translate(-1px, -${(g.length+1)*30}px)`},appendToContainer(t){let i=this.constructor.baseClass+"-"+this._calculateDepth()+" "+this.options.className,o,s,n,a,l,r;for(this._container=t,this._ul=L.DomUtil.create("ul",i,t),this._ul.style.transform=this.options.style?this.options.style:"",this._disabledEvents=["click","mousemove","dblclick","mousedown","mouseup","touchstart"],a=0,r=this._disabledEvents.length;a<r;a++)L.DomEvent.on(this._ul,this._disabledEvents[a],L.DomEvent.stopPropagation);for(n=0,l=this.options.actions.length;n<l;n++)o=this._getActionConstructor(this.options.actions[n]),s=new o,s._createIcon(this,this._ul,this._arguments)}}),L.OpacitiesAction=L.EditAction.extend({initialize(t,e,i){const s=e.editing._mode;i=i||{},i.toolbarIcon={svg:!0,html:"opacities",tooltip:"Set custom opacity",className:s==="lock"?"disabled":""},i.subToolbar=new L.OpacitiesToolbar2({actions:g}),L.DistortableImage.action_map.o=s==="lock"?"":"_setOpacities",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._link;L.DomUtil.hasClass(t,"subtoolbar_enabled")?(L.DomUtil.removeClass(t,"subtoolbar_enabled"),setTimeout(()=>{this.options.subToolbar._hide()},100)):L.DomUtil.addClass(t,"subtoolbar_enabled"),L.IconUtil.toggleXlink(t,"opacities","cancel"),L.IconUtil.toggleTitle(t,"Make Image Transparent","Cancel")}}),L.OpacityAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing,s=o._mode;let n,a;o._transparent?(n="opacity_empty",a=e.options.translation.makeImageOpaque):(n="opacity",a=e.options.translation.makeImageTransparent),i=i||{},i.toolbarIcon={svg:!0,html:n,tooltip:a,className:s==="lock"?"disabled":""},L.DistortableImage.action_map.o=s==="lock"?"":"_toggleOpacity",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing,e=this._link;L.IconUtil.toggleXlink(e,"opacity","opacity_empty"),L.IconUtil.toggleTitle(e,"Make Image Transparent","Make Image Opaque"),t._toggleOpacity()}}),L.RestoreAction=L.EditAction.extend({initialize(t,e,i){const o=L.Utils.getNestedVal(e,"editing","_mode"),s=e.edited;i=i||{},i.toolbarIcon={svg:!0,html:"restore",tooltip:e.options.translation.restoreImage,className:s&&o!=="lock"?"":"disabled"},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay;L.DomEvent.on(t,{edit:this._enableAction,restore:this._disableAction},this),t.restore()}}),L.RotateAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"rotate",tooltip:e.options.translation.rotateImage,className:"rotate"},L.DistortableImage.action_map.r="_rotateMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._rotateMode()}}),L.ScaleAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"scale",tooltip:e.options.translation.scaleImage,className:"scale"},L.DistortableImage.action_map.s="_scaleMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._scaleMode()}}),L.StackAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;let s,n;o._toggledImage?(s="flip_to_back",n=e.options.translation.stackToFront):(s="flip_to_front",n=e.options.translation.stackToBack),i=i||{},i.toolbarIcon={svg:!0,html:s,tooltip:n,className:o._mode==="lock"?"disabled":""},L.DistortableImage.action_map.q=o._mode==="lock"?"":"_stackUp",L.DistortableImage.action_map.a=o._mode==="lock"?"":"_stackDown",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;L.IconUtil.toggleXlink(this._link,"flip_to_front","flip_to_back"),L.IconUtil.toggleTitle(this._link,"Stack to Front","Stack to Back"),t._toggleOrder()}}),L.UnlockAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"unlock",tooltip:e.options.translation.unlockImages},L.DistortableImage.group_action_map.u="_unlockGroup",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._unlockGroup()}}),L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.action_map={},L.DistortableImage.PopupBar=L.Toolbar2.Popup.extend({options:{anchor:[0,-10]},initialize(t,e){L.setOptions(this,e),L.Toolbar2.Popup.prototype.initialize.call(this,t,e)},addHooks(t,e){this.map=t,this.ov=e},tools(){if(this._ul)return this._ul.children},clickTool(t){const e=this.tools();for(let i=0;i<e.length;i++){const o=e.item(i).children[0];if(L.DomUtil.hasClass(o,t))return o.click(),o}return!1}}),L.distortableImage.popupBar=function(t,e){return new L.DistortableImage.PopupBar(t,e)},L.DistortableImageOverlay.addInitHook(function(){this.ACTIONS=[L.DragAction,L.ScaleAction,L.DistortAction,L.RotateAction,L.FreeRotateAction,L.LockAction,L.OpacityAction,L.OpacitiesAction,L.BorderAction,L.ExportAction,L.DeleteAction],L.DistortableImage.Edit.MODES={drag:L.DragAction,scale:L.ScaleAction,distort:L.DistortAction,rotate:L.RotateAction,freeRotate:L.FreeRotateAction,lock:L.LockAction};const t=this.options.actions?this.options.actions:this.ACTIONS;this.editing=L.distortableImage.edit(this,{actions:t})}),L.distortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.group_action_map={},L.DistortableImage.ControlBar=L.Toolbar2.Control.extend({}),L.distortableImage.controlBar=function(t){return new L.DistortableImage.ControlBar(t)},L.DistortableCollection.addInitHook(function(){this.ACTIONS=[L.ExportAction,L.DeleteAction,L.LockAction,L.UnlockAction],L.DistortableCollection.Edit.MODES={lock:L.LockAction,unlock:L.UnlockAction};const t=this.options.actions?this.options.actions:this.ACTIONS;this.editing=L.distortableCollection.edit(this,{actions:t})}),L.DistortableImage=L.DistortableImage||{},L.DistortableImage.Edit=L.Handler.extend({options:{opacity:.5,outline:"1px solid red",keymap:L.distortableImage.action_map},initialize(t,e){this._overlay=t,this._toggledImage=!1,this._mode=t.options.mode,this._transparent=!1,this._outlined=!1,this._opacity=e.opacity,L.setOptions(this,e),L.distortableImage.action_map.Escape="_deselect"},addHooks(){const t=this._overlay;this.editActions=this.options.actions,t.bringToFront(),this._initModes(),this._initHandles(),this._appendHandlesandDragable(),t.isSelected()&&!t.options.suppressToolbar&&this._addToolbar(),this.parentGroup=t.eP?t.eP:!1,L.DomEvent.on(t.getElement(),{dblclick:this.nextMode},this),L.DomEvent.on(window,"keydown",this._onKeyDown,this)},removeHooks(){const t=this._overlay,e=this.parentGroup;this._disableDragging(),this.toolbar&&this._removeToolbar();for(const i in this._handles)L.DomUtil.remove(i);L.DomUtil.hasClass(t.getElement(),"collected")&&L.DomUtil.removeClass(t.getElement(),"collected"),e&&!e.anyCollected()&&e.editing.toolbar&&e.editing._removeToolbar(),L.DomEvent.off(t.getElement(),{dblclick:this.nextMode},this),L.DomEvent.off(window,"keydown",this._onKeyDown,this)},disable(){return this._enabled?(this._overlay.deselect(),this._enabled=!1,this.removeHooks(),this):this},_initModes(){this._modes={};for(const t in L.DistortableImage.Edit.MODES){const e=L.DistortableImage.Edit.MODES[t];this.editActions.indexOf(e)!==-1&&(this._modes[t]=e)}this._modes[this._mode]||(this._mode=Object.keys(this._modes)[0])},_initHandles(){const t=this._overlay;let e;for(this._dragHandles=L.layerGroup(),e=0;e<4;e++)this._dragHandles.addLayer(L.dragHandle(t,e));for(this._scaleHandles=L.layerGroup(),e=0;e<4;e++)this._scaleHandles.addLayer(L.scaleHandle(t,e));for(this._distortHandles=L.layerGroup(),e=0;e<4;e++)this._distortHandles.addLayer(L.distortHandle(t,e));for(this._rotateHandles=L.layerGroup(),e=0;e<4;e++)this._rotateHandles.addLayer(L.rotateHandle(t,e));for(this._freeRotateHandles=L.layerGroup(),e=0;e<4;e++)this._freeRotateHandles.addLayer(L.freeRotateHandle(t,e));for(this._lockHandles=L.layerGroup(),e=0;e<4;e++)this._lockHandles.addLayer(L.lockHandle(t,e,{draggable:!1}));this._handles={drag:this._dragHandles,scale:this._scaleHandles,distort:this._distortHandles,rotate:this._rotateHandles,freeRotate:this._freeRotateHandles,lock:this._lockHandles}},_appendHandlesandDragable(){const t=this._overlay;if(!this._mode){this._enableDragging();return}this._updateHandle(),!t.isSelected()&&this.currentHandle&&this.currentHandle.eachLayer(e=>{e.setOpacity(0),e.dragging&&e.dragging.disable()}),this.isMode("lock")||this._enableDragging()},_onKeyDown(t){const i=this.options.keymap[t.key],o=this._overlay,s=this.parentGroup;s&&s.anyCollected()||this[i]!==void 0&&!o.options.suppressToolbar&&o.isSelected()&&this.toolbar&&this[i].call(this)},replaceTool(t,e){return e.baseClass!=="leaflet-toolbar-icon"||this.hasTool(e)?this:(this.editActions.some((i,o)=>{if(i===t){this._removeToolbar(),this.editActions[o]=e,this._addToolbar();for(const s in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[s]===t?(delete this._modes[s],this._nextOrNone(s)):L.DistortableImage.Edit.MODES[s]===e&&(this._modes[s]=e);return!0}}),this)},addTool(t){if(t.baseClass==="leaflet-toolbar-icon"&&!this.hasTool(t)){this._removeToolbar(),this.editActions.push(t),this._addToolbar();for(const e in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[e]===t&&(this._modes[e]=t);this._overlay.isSelected()||this._removeToolbar()}return this},hasTool(t){return this.editActions.some(e=>e===t)},removeTool(t){return this.editActions.some((e,i)=>{if(e===t){this._removeToolbar(),this.editActions.splice(i,1),this._addToolbar();for(const o in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[o]===t&&(delete this._modes[o],this._nextOrNone(o));return!0}}),this._overlay.isSelected()||this._removeToolbar(),this},_nextOrNone(t){this.isMode(t)&&(Object.keys(this.getModes()).length>=1?this.nextMode():(t==="lock"&&this._enableDragging(),this._mode="",this._updateHandle()))},_removeToolbar(){const e=this._overlay._map;this.toolbar&&(e.removeLayer(this.toolbar),this.toolbar=!1)},_enableDragging(){const t=this._overlay,e=t._map;this.dragging=new L.Draggable(t.getElement()),this.dragging.enable(),this.dragging.on("dragstart",()=>{t.fire("dragstart"),this._removeToolbar()}),this.dragging._updatePosition=function(){const i=t.getCorner(0),o=this._newPos.subtract(e.latLngToLayerPoint(i));let s;const n={};let a;for(this.fire("predrag"),a=0;a<4;a++)s=e.latLngToLayerPoint(t.getCorner(a)),n[a]=e.layerPointToLatLng(s.add(o));t.setCorners(n),t.fire("drag"),this.fire("drag")},this.dragging.on("dragend",()=>{t.fire("dragend")})},_disableDragging(){this.dragging&&(this.dragging.disable(),delete this.dragging)},_dragMode(){this.setMode("drag")},_scaleMode(){this.setMode("scale")},_distortMode(){this.setMode("distort")},_rotateMode(){this.setMode("rotate")},_freeRotateMode(){this.setMode("freeRotate")},_toggleLockMode(){this.isMode("lock")?this._unlock():this._lock()},_toggleOpacity(){const t=this._overlay.getElement();if(!this.hasTool(L.OpacityAction))return;this._transparent=!this._transparent;const e=this._transparent?this.options.opacity:1;L.DomUtil.setOpacity(t,e),t.setAttribute("opacity",e),this._refresh()},_setOpacities(t){const e=this._overlay.getElement();this._opacity=t,this.hasTool(L.OpacitiesAction)&&(this._opacity<1?this._transparent=!0:this._transparent=!1,L.DomUtil.setOpacity(e,this._opacity),e.setAttribute("opacity",this._opacity),this._refresh())},_toggleBorder(){const t=this._overlay.getElement();if(!this.hasTool(L.BorderAction))return;this._outlined=!this._outlined;const e=this._outlined?this.options.outline:"none";t.style.outline=e,this._refresh()},_toggleOrder(){this._toggledImage?this._stackUp():this._stackDown()},_removeOverlay(){const t=this._overlay,e=this.parentGroup;this.isMode("lock")||!this.hasTool(L.DeleteAction)||!L.DomUtil.confirmDelete()||(this._removeToolbar(),e?e.removeLayer(t):t._map.removeLayer(t))},_getExport(){const t=this._overlay,e=t._map,i=t.getElement();if(!this.hasTool(L.ExportAction))return;const o=new Image;o.id=o.id||"tempId12345",document.body.appendChild(o),o.onload=function(){const n=o.height,a=o.width,l=e.latLngToLayerPoint(t.getCorner(0)),r=e.latLngToLayerPoint(t.getCorner(1)),c=e.latLngToLayerPoint(t.getCorner(2)),d=e.latLngToLayerPoint(t.getCorner(3));o.onload=function(){L.DomUtil.remove(o)},window&&window.hasOwnProperty("warpWebGl")&&warpWebGl(o.id,[0,0,a,0,a,n,0,n],[l.x,l.y,r.x,r.y,d.x,d.y,c.x,c.y],!0)},o.src=t.options.fullResolutionSrc||i.src},_stackUp(){!this._toggledImage||!this.hasTool(L.StackAction)||(this._toggledImage=!1,this._overlay.bringToFront(),this._refresh())},_stackDown(){this._toggledImage||!this.hasTool(L.StackAction)||(this._toggledImage=!0,this._overlay.bringToBack(),this._refresh())},_unlock(){const t=this._overlay,e=t._map,i=this.parentGroup;this.isMode("lock")&&((i&&!i.isCollected(t)||!i)&&!this.hasTool(L.LockAction)||(this.currentHandle&&e.removeLayer(this.currentHandle),t.options.mode==="lock"||!this.hasMode(t.options.mode)?(this._mode="",this.currentHandle=""):this._mode=t.options.mode,this._updateHandle(),this._enableDragging(),this._refresh()))},_lock(){const t=this._overlay,e=t._map,i=this.parentGroup;this.isMode("lock")||(i&&!i.isCollected(t)||!i)&&!this.hasTool(L.LockAction)||(this.currentHandle&&e.removeLayer(this.currentHandle),this._mode="lock",this._updateHandle(),this._disableDragging(),this._refresh())},_deselect(){this._overlay.deselect()},_showMarkers(t){const e=this.parentGroup;this.currentHandle&&(!this.isMode("lock")&&e&&e.anyCollected()||this.currentHandle.eachLayer(i=>{i.setOpacity(1),i.dragging&&i.dragging.enable(),L.DomUtil.addClass(i.getElement(),"leaflet-interactive")}))},_hideMarkers(){const t=this._overlay,e=this.parentGroup;this._handles||this._initHandles(),this.currentHandle&&(this.isMode("lock")&&e&&e.isCollected(t)||this.currentHandle.eachLayer(i=>{i.setOpacity(0),i.dragging&&i.dragging.disable(),L.DomUtil.removeClass(i.getElement(),"leaflet-interactive")}))},_updateHandle(){const e=this._overlay._map,i=this.getMode();this.currentHandle&&e.removeLayer(this.currentHandle),this.currentHandle=i===""?"":this._handles[i],this.currentHandle!==""&&e.addLayer(this.currentHandle)},_addToolbar(){const t=this._overlay,e=this.parentGroup,i=t._map,o=t.getCorners();let s=-1/0;if(e&&e.anyCollected()){e.editing._addToolbar();return}if(t.options.suppressToolbar||this.toolbar)return;for(let a=0;a<o.length;a++)o[a].lat>s&&(s=o[a].lat);const n=t.getCenter();n.lat=s,this.toolbar=L.distortableImage.popupBar(n,{actions:this.editActions}).addTo(i,t),t.fire("toolbar:created")},_refresh(){this.toolbar&&this._removeToolbar(),this._addToolbar()},_updateToolbarPos(){const t=this._overlay,e=t.getCorners(),i=this.toolbar;let o=-1/0;if(i&&i instanceof L.DistortableImage.PopupBar){for(let n=0;n<e.length;n++)e[n].lat>o&&(o=e[n].lat);const s=t.getCenter();s.lat=o,t.options.suppressToolbar||this.toolbar.setLatLng(s)}},hasMode(t){return!!this._modes[t]},getMode(){if(this.enabled())return this._mode},getModes(){return this._modes},isMode(t){return this.enabled()?this._mode===t:!1},setMode(t){const e=this._overlay,i=this.parentGroup;if(!(this.getMode()===t||!this.hasMode(t)||!this.enabled()))return this.toolbar&&this.toolbar.clickTool(t),this.isMode("lock")&&!this.dragging&&this._enableDragging(),this._mode=t,this.isMode("lock")&&this._disableDragging(),this._updateHandle(),this._refresh(),i&&i.isCollected(e)&&e.deselect(),this},nextMode(t){const e=this.getMode(),i=this.parentGroup,o=Object.keys(this.getModes()),n=(o.indexOf(e)+1)%o.length,a=o[n];if(t){if(i&&i.anyCollected())return;L.DomEvent.stop(t)}return this.setMode(a)}}),L.distortableImage.edit=(t,e)=>new L.DistortableImage.Edit(t,e),L.DistortableImage=L.DistortableImage||{},L.DistortableCollection.Edit=L.Handler.extend({options:{keymap:L.distortableImage.group_action_map},initialize(t,e){this._group=t,this._exportOpts=t.options.exportOpts,L.setOptions(this,e),L.distortableImage.group_action_map.Escape="_decollectAll"},addHooks(){const e=this._group._map;this.editActions=this.options.actions,this.runExporter=L.bind(L.Utils.getNestedVal(this,"_exportOpts","exporter")||this.startExport,this),L.DomEvent.on(document,"keydown",this._onKeyDown,this),e.doubleClickZoom.enabled()||e.doubleClickLabels.enabled()||L.DomEvent.on(e,"click",this._decollectAll,this),L.DomEvent.on(e,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick,boxcollectend:this._addCollections},this),this._group.editable=!0,this._group.eachLayer(i=>i.editing.enable())},removeHooks(){const e=this._group._map;L.DomEvent.off(document,"keydown",this._onKeyDown,this),e.doubleClickZoom.enabled()||e.doubleClickLabels.enabled()||L.DomEvent.off(e,"click",this._decollectAll,this),L.DomEvent.off(e,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick,boxcollectend:this._addCollections},this),this._decollectAll(),this._group.editable=!1,this._group.eachLayer(i=>i.editing.disable())},enable(){return this._enabled=!0,this.addHooks(),this},disable(){return this._enabled=!1,this.removeHooks(),this},_onKeyDown(t){const i=this.options.keymap[t.key];this[i]&&this._group.anyCollected()&&this[i].call(this)},_singleClick(t){if(t.type==="singleclick")this._decollectAll(t);else return},_singleClickListeners(){const t=this._group._map;L.DomEvent.off(t,"click",this._decollectAll,this),L.DomEvent.on(t,"singleclick",this._decollectAll,this)},_resetClickListeners(){const t=this._group._map;L.DomEvent.on(t,"click",this._decollectAll,this),L.DomEvent.off(t,"singleclick",this._decollectAll,this)},_decollectAll(t){let e;t&&(e=t.originalEvent),!(e&&(e.shiftKey||e.target instanceof HTMLImageElement))&&(this._group.eachLayer(i=>{L.DomUtil.removeClass(i.getElement(),"collected"),i.deselect()}),this._removeToolbar(),t&&L.DomEvent.stopPropagation(t))},_unlockGroup(){this.hasTool(L.UnlockAction)&&this._group.eachLayer(t=>{this._group.isCollected(t)&&(t.editing._unlock(),t.deselect())})},_lockGroup(){this.hasTool(L.LockAction)&&this._group.eachLayer(t=>{this._group.isCollected(t)&&(t.editing._lock(),L.DomUtil.addClass(t.getElement(),"collected"))})},_addCollections(t){const e=t.boxCollectBounds,i=this._group._map;this._group.eachLayer(o=>{const s=o.editing;o.isSelected()&&o.deselect();const n=i.getZoom(),a=i.getCenter();let l=L.latLngBounds(o.getCorner(2),o.getCorner(1));l=i._latLngBoundsToNewLayerBounds(l,n,a),e.intersects(l)&&s.enabled()&&(this.toolbar||this._addToolbar(),L.DomUtil.addClass(o.getElement(),"collected"))})},_removeGroup(t){if(!this.hasTool(L.DeleteAction))return;const e=this._group._toRemove(),i=e.length;if(i===0)return;L.DomUtil.confirmDeletes(i)&&(e.forEach(s=>{this._group.removeLayer(s)}),this._group.anyCollected()||this._removeToolbar()),t&&L.DomEvent.stopPropagation(t)},cancelExport(){this.customCollection||(this._exportOpts.collection=void 0),clearInterval(this.updateInterval)},_addToolbar(){const t=this._group,e=t._map;t.options.suppressToolbar||this.toolbar||(this.toolbar=L.distortableImage.controlBar({actions:this.editActions,position:"topleft"}).addTo(e,t))},_removeToolbar(){const t=this._group._map;if(this.toolbar)t.removeLayer(this.toolbar),this.toolbar=!1;else return!1},hasTool(t){return this.editActions.some(e=>e===t)},addTool(t){return t.baseClass==="leaflet-toolbar-icon"&&!this.hasTool(t)&&(this._removeToolbar(),this.editActions.push(t),this._addToolbar()),this},removeTool(t){return this.editActions.some((e,i)=>this.editActions[i]===t?(this._removeToolbar(),this.editActions.splice(i,1),this._addToolbar(),!0):!1),this},startExport(){if(this.hasTool(L.ExportAction))return new Promise(t=>{const e=this._exportOpts;e.resolve=t;let i;this.updateInterval=null;const o=a=>{a=JSON.parse(a),a.status_url&&(i!==a.status_url&&a.status_url.match(".json")&&(i=a.status_url),a.status==="complete"&&(clearInterval(this.updateInterval),this.customCollection||(this._exportOpts.collection=void 0),t(),a.jpg!==null&&alert("Export succeeded. "+e.exportUrl+a.jpg)),console.log(a))},s=a=>{i=e.statusUrl+a,this.updateInterval=setInterval(()=>{const l={method:"GET"},r=new Request(`${i}?${Date.now()}`,l);fetch(r).then(c=>{if(c.ok)return c.text()}).then(e.updater)},e.frequency)},n=a=>{const l=new FormData;l.append("collection",JSON.stringify(a.collection)),l.append("scale",a.scale),l.append("upload",!0);const r={method:"POST",body:l},c=new Request(a.exportStartUrl,r);fetch(c).then(d=>{if(d.ok)return d.text()}).then(a.handleStatusRes)};this.customCollection=!!e.collection,this.customCollection||(e.collection=this._group.generateExportJson().images),e.frequency=e.frequency||3e3,e.scale=e.scale||100,e.updater=e.updater||o,e.handleStatusRes=e.handleStatusRes||s,e.fetchStatusUrl=e.fetchStatusUrl||n,e.fetchStatusUrl(e)})}}),L.distortableCollection.edit=(t,e)=>new L.DistortableCollection.Edit(t,e),L.DomUtil=L.DomUtil||{},L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.Keymapper=L.Handler.extend({options:{position:"topright"},initialize(t,e){this._map=t,L.setOptions(this,e)},addHooks(){this._keymapper||(this._container=this._buildContainer(),this._scrollWrapper=this._wrap(),this._toggler=this._createButton(),this._setMapper(this._container,this._scrollWrapper,this._toggler),L.DomEvent.on(this._toggler,"click",this._toggleKeymapper,this),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container))},removeHooks(){this._keymapper&&(L.DomEvent.off(this._toggler,"click",this._toggleKeymapper,this),L.DomUtil.remove(this._toggler),L.DomUtil.remove(this._scrollWrapper),L.DomUtil.remove(this._container),this._keymapper=!1)},_buildContainer(){const t=L.DomUtil.create("div","ldi-keymapper-hide");t.setAttribute("id","ldi-keymapper");const e=L.DomUtil.create("br","divider");return t.appendChild(e),t},_createButton(){const t=L.DomUtil.create("a","");return t.innerHTML=L.IconUtil.create("keyboard_open"),t.setAttribute("id","toggle-keymapper"),t.setAttribute("href","#"),t.setAttribute("title","Show keymap"),t.setAttribute("role","button"),t.setAttribute("aria-label","Show keymap"),t},_wrap(){const t=L.DomUtil.create("div","");return t.setAttribute("id","keymapper-wrapper"),t.style.display="none",t},_setMapper(t,e,i){this._keymapper=L.control({position:this.options.position}),this._keymapper.onAdd=function(){return t.appendChild(e),e.insertAdjacentHTML("beforeend",'<table><tbody><hr id="keymapper-hr"><tr><td><div class="left"><span>Rotate Mode</span></div><div class="right"><kbd>R</kbd></div></td></tr><tr><td><div class="left"><span>RotateScale Mode</span></div><div class="right"><kbd>r</kbd></div></td></tr><tr><td><div class="left"><span>Scale Mode</span></div><div class="right"><kbd>s</kbd></div></td></tr><tr><td><div class="left"><span>Distort Mode</span></div><div class="right"><kbd>d</kbd></div></td></tr><tr><td><div class="left"><span>Drag Mode</span></div><div class="right"><kbd>D</kbd></div></td></tr><tr><td><div class="left"><span>Lock (Mode) / Unlock Image</span></div><div class="right"><kbd>l</kbd> <kbd>u</kbd></div></td></tr><tr><td><div class="left"><span>Stack up / down</span></div><div class="right"><kbd>q</kbd> <kbd>a</kbd></div></td></tr><tr><td><div class="left"><span>Add / Remove Image Border</span></div><div class="right"><kbd>b</kbd></div></td></tr><tr><td><div class="left"><span>Toggle Opacity</span></div><div class="right"><kbd>o</kbd></div></td></tr><tr><td><div class="left"><span>Deselect All</span></div><div class="right"><kbd>esc</kbd></div></td></tr><tr><td><div class="left"><span>Delete Image(s)</span></div><div class="right"><kbd>delete</kbd> <kbd>backspace</kbd></div></td></tr><tr><td><div class="left"><span>Export Image(s)</span></div><div class="right"><kbd>e</kbd></div></td></tr></tbody></table>'),t.appendChild(i),t},this._keymapper.addTo(this._map)},_toggleKeymapper(t){t.preventDefault(),this._container.className=this._container.className==="ldi-keymapper leaflet-control"?"ldi-keymapper-hide leaflet-control":"ldi-keymapper leaflet-control",this._scrollWrapper.style.display=this._scrollWrapper.style.display==="none"?"block":"none",this._toggler.innerHTML=this._toggler.innerHTML==="close"?L.IconUtil.create("keyboard_open"):"close",L.IconUtil.toggleTitle(this._toggler,"Show keymap","Hide keymap"),L.DomUtil.toggleClass(this._toggler,"close-icon")},_injectIconSet(){if(document.querySelector("#keymapper-iconset"))return;const t=L.DomUtil.create("div","");t.id="keymapper-iconset",t.setAttribute("hidden","hidden"),this._iconset=new L.KeymapperIconSet().render(),t.innerHTML=this._iconset,document.querySelector(".leaflet-control-container").appendChild(t)}}),L.DistortableImage.Keymapper.addInitHook(()=>{L.DistortableImage.Keymapper.prototype._n=L.DistortableImage.Keymapper.prototype._n?L.DistortableImage.Keymapper.prototype._n+1:1,L.DistortableImage.Keymapper.prototype._n===1&&!L.Browser.mobile&&((void 0).enable(),(void 0)._injectIconSet())}),L.distortableImage.keymapper=(t,e)=>new L.DistortableImage.Keymapper(t,e),L.Map.DoubleClickZoom.include({addHooks(){this._map.on({click:this._fireIfSingle,dblclick:this._onDoubleClick},this)},removeHooks(){this._map.off({click:this._fireIfSingle,dblclick:this._onDoubleClick},this)},enable(){return this._enabled?this:this._map.doubleClickLabels&&this._map.doubleClickLabels.enabled()?this:(this._map.fire("singleclickon"),this._enabled=!0,this.addHooks(),this)},disable(){return this._enabled?(this._map.fire("singleclickoff"),this._enabled=!1,this.removeHooks(),this):this},_fireIfSingle(t){const e=this._map,i=t.originalEvent;i&&i.shiftKey||(e._clicked+=1,this._map._clickTimeout=setTimeout(function(){e._clicked===1?(e._clicked=0,e.fire("singleclick",{type:"singleclick"})):L.Browser.touch&&i&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents&&e._fireDOMEvent(i,"dblclick",[e])},250))},_onDoubleClick(t){const e=this._map,i=t.originalEvent;if(setTimeout(function(){e._clicked=0,clearTimeout(e._clickTimeout)},0),!i)return!1;const o=e.getZoom(),s=e.options.zoomDelta,n=i.shiftKey?o-s:o+s;e.options.doubleClickZoom==="center"?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),L.Map.mergeOptions({boxCollector:!0,boxZoom:!1}),L.Map.BoxCollector=L.Map.BoxZoom.extend({initialize(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks(){L.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks(){L.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved(){return this._moved},_destroy(){L.DomUtil.remove(this._pane),delete this._pane},_resetState(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),L.DomEvent.on(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},_onMouseMove(t){this._moved||(this._moved=!0,this._box=L.DomUtil.create("div","leaflet-zoom-box",this._container),L.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t),this._bounds=L.bounds(this._startPoint,this._point);const e=this._bounds.getSize();L.DomUtil.setPosition(this._box,this._bounds.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish(){this._moved&&(L.DomUtil.remove(this._box),L.DomUtil.removeClass(this._container,"leaflet-crosshair")),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),L.DomEvent.off(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},_onMouseUp(t){if(t.which!==1&&t.button!==1||(this._finish(),!this._moved))return;this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(L.Util.bind(this._resetState,this),0);let e=L.latLngBounds(this._map.containerPointToLatLng(this._bounds.getBottomLeft()),this._map.containerPointToLatLng(this._bounds.getTopRight()));const i=this._map.getZoom(),o=this._map.getCenter();e=this._map._latLngBoundsToNewLayerBounds(e,i,o),this._map.fire("boxcollectend",{boxCollectBounds:e})}}),L.Map.addInitHook("addHandler","boxCollector",L.Map.BoxCollector),L.Map.mergeOptions({doubleClickLabels:!0}),L.Map.DoubleClickLabels=L.Map.DoubleClickZoom.extend({enable(){const t=this._map;return this._enabled?this:(t.doubleClickZoom.enabled()&&t.doubleClickZoom.disable(),this._map.fire("singleclickon"),this._enabled=!0,this.addHooks(),this)},disable(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},_fireIfSingle(t){const e=this._map,i=t.originalEvent;i&&i.shiftKey||(e._clicked+=1,this._map._clickTimeout=setTimeout(function(){e._clicked===1?(e._clicked=0,e.fire("singleclick",{type:"singleclick"})):L.Browser.touch&&i&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents&&e.fire("dblclick")},250))},_onDoubleClick(){const t=this._map,e=t._labels;setTimeout(function(){t._clicked=0,clearTimeout(t._clickTimeout)},0),e&&(e.options.opacity===1?(e.options.opacity=0,e.setOpacity(0)):(e.options.opacity=1,e.setOpacity(1)))}}),L.Map.addInitHook("addHandler","doubleClickLabels",L.Map.DoubleClickLabels),L.Map.include({_clicked:0,addGoogleMutant(t){const e="http://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}";return t=this.mutantOptions=L.extend({mutantOpacity:.8,maxZoom:24,maxNativeZoom:20,minZoom:0,labels:!0,labelOpacity:1,doubleClickLabels:!0},t),t.labels||(this.mutantOptions=L.extend(this.mutantOptions,{labelOpacity:t.labels?1:void 0,doubleClickLabels:t.labels?!0:void 0})),this._googleMutant=L.tileLayer(e,{maxZoom:t.maxZoom,maxNativeZoom:t.maxNativeZoom,minZoom:t.minZoom,opacity:t.mutantOpacity}).addTo(this),t.labels?this._addLabels(t):this.doubleClickLabels=void 0,this},_addLabels(t){const e="https://stamen-tiles-{s}.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}{r}.{ext}";return t.labelOpacity!==0&&t.labelOpacity!==1&&(t.labelOpacity=1),this._labels=L.tileLayer(e,{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",interactive:!1,opacity:t.labelOpacity,maxZoom:t.maxZoom,maxNativeZoom:t.maxNativeZoom,minZoom:t.minZoom,ext:"png"}).addTo(this),this.mutantOptions.doubleClickLabels&&this.doubleClickLabels.enable(),this}}),L.Map.addInitHook(function(){this.doubleClickLabels.disable(),this.doubleClickZoom.enable()})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZmxldC5kaXN0b3J0YWJsZWltYWdlLmlpZmUuanMiLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlsL1V0aWxzLmpzIiwiLi4vc3JjL3V0aWwvRG9tVXRpbC5qcyIsIi4uL3NyYy91dGlsL0ljb25VdGlsLmpzIiwiLi4vc3JjL3V0aWwvSW1hZ2VVdGlsLmpzIiwiLi4vc3JjL3V0aWwvTWF0cml4VXRpbC5qcyIsIi4uL3NyYy91dGlsL1RyaWdVdGlsLmpzIiwiLi4vc3JjL0Rpc3RvcnRhYmxlSW1hZ2VPdmVybGF5LmpzIiwiLi4vc3JjL0Rpc3RvcnRhYmxlQ29sbGVjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2dldEVYSUZkYXRhLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9FZGl0SGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9EaXN0b3J0SGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9EcmFnSGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9GcmVlUm90YXRlSGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9Mb2NrSGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9Sb3RhdGVIYW5kbGUuanMiLCIuLi9zcmMvZWRpdC9oYW5kbGVzL1NjYWxlSGFuZGxlLmpzIiwiLi4vc3JjL2ljb25zZXRzL0ljb25TZXQuanMiLCIuLi9zcmMvaWNvbnNldHMvS2V5bWFwcGVySWNvblNldC5qcyIsIi4uL3NyYy9pY29uc2V0cy9Ub29sYmFySWNvblNldC5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvRWRpdEFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvQm9yZGVyQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9EZWxldGVBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL0Rpc3RvcnRBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL0RyYWdBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL0V4cG9ydEFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvRnJlZVJvdGF0ZUFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvR2VvbG9jYXRlQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9Mb2NrQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9PcGFjaXRpZXNBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL09wYWNpdHlBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL1Jlc3RvcmVBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL1JvdGF0ZUFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvU2NhbGVBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL1N0YWNrQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9VbmxvY2tBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC90b29sYmFycy9EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyLmpzIiwiLi4vc3JjL2VkaXQvdG9vbGJhcnMvRGlzdG9ydGFibGVJbWFnZS5Db250cm9sQmFyLmpzIiwiLi4vc3JjL2VkaXQvRGlzdG9ydGFibGVJbWFnZS5FZGl0LmpzIiwiLi4vc3JjL2VkaXQvRGlzdG9ydGFibGVDb2xsZWN0aW9uLkVkaXQuanMiLCIuLi9zcmMvY29tcG9uZW50cy9EaXN0b3J0YWJsZUltYWdlLktleW1hcHBlci5qcyIsIi4uL3NyYy9tYXBtaXhpbnMvRG91YmxlQ2xpY2tab29tLmpzIiwiLi4vc3JjL21hcG1peGlucy9Cb3hDb2xsZWN0b3IuanMiLCIuLi9zcmMvbWFwbWl4aW5zL0RvdWJsZUNsaWNrTGFiZWxzLmpzIiwiLi4vc3JjL21hcG1peGlucy9NYXBNaXhpbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiTC5VdGlscyA9IHtcbiAgaW5pdFRyYW5zbGF0aW9uKCkge1xuICAgIGNvbnN0IHRyYW5zbGF0aW9uID0ge1xuICAgICAgZGVsZXRlSW1hZ2U6ICdEZWxldGUgSW1hZ2UnLFxuICAgICAgZGVsZXRlSW1hZ2VzOiAnRGVsZXRlIEltYWdlcycsXG4gICAgICBkaXN0b3J0SW1hZ2U6ICdEaXN0b3J0IEltYWdlJyxcbiAgICAgIGRyYWdJbWFnZTogJ0RyYWcgSW1hZ2UnLFxuICAgICAgZXhwb3J0SW1hZ2U6ICdFeHBvcnQgSW1hZ2UnLFxuICAgICAgZXhwb3J0SW1hZ2VzOiAnRXhwb3J0IEltYWdlcycsXG4gICAgICByZW1vdmVCb3JkZXI6ICdSZW1vdmUgQm9yZGVyJyxcbiAgICAgIGFkZEJvcmRlcjogJ0FkZCBCb3JkZXInLFxuICAgICAgZnJlZVJvdGF0ZUltYWdlOiAnRnJlZSByb3RhdGUgSW1hZ2UnLFxuICAgICAgZ2VvbG9jYXRlSW1hZ2U6ICdHZW9sb2NhdGUgSW1hZ2UnLFxuICAgICAgbG9ja01vZGU6ICdMb2NrIE1vZGUnLFxuICAgICAgbG9ja0ltYWdlczogJ0xvY2sgSW1hZ2VzJyxcbiAgICAgIG1ha2VJbWFnZU9wYXF1ZTogJ01ha2UgSW1hZ2UgT3BhcXVlJyxcbiAgICAgIG1ha2VJbWFnZVRyYW5zcGFyZW50OiAnTWFrZSBJbWFnZSBUcmFuc3BhcmVudCcsXG4gICAgICByZXN0b3JlSW1hZ2U6ICdSZXN0b3JlIE5hdHVyYWwgSW1hZ2UnLFxuICAgICAgcm90YXRlSW1hZ2U6ICdSb3RhdGUgSW1hZ2UnLFxuICAgICAgc2NhbGVJbWFnZTogJ1NjYWxlIEltYWdlJyxcbiAgICAgIHN0YWNrVG9Gcm9udDogJ1N0YWNrIHRvIEZyb250JyxcbiAgICAgIHN0YWNrVG9CYWNrOiAnU3RhY2sgdG8gQmFjaycsXG4gICAgICB1bmxvY2tJbWFnZXM6ICdVbmxvY2sgSW1hZ2VzJyxcbiAgICAgIGNvbmZpcm1JbWFnZURlbGV0ZTpcbiAgICAgICAgJ0FyZSB5b3Ugc3VyZT8gVGhpcyBpbWFnZSB3aWxsIGJlIHBlcm1hbmVudGx5IGRlbGV0ZWQgZnJvbSB0aGUgbWFwLicsXG4gICAgICBjb25maXJtSW1hZ2VzRGVsZXRlczpcbiAgICAgICAgJ0FyZSB5b3Ugc3VyZT8gVGhlc2UgaW1hZ2VzIHdpbGwgYmUgcGVybWFuZW50bHkgZGVsZXRlZCBmcm9tIHRoZSBtYXAuJyxcbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMudHJhbnNsYXRpb24pIHtcbiAgICAgIHRoaXMub3B0aW9ucy50cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgdHJhbnNsYXRpb24gZm9yIGEgd29yZCBpcyBub3Qgc3BlY2lmaWVkLCBmYWxsYmFjayB0byBFbmdsaXNoLlxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhbnNsYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudHJhbnNsYXRpb24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2xhdGlvbltrZXldID0gdHJhbnNsYXRpb25ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIEwuRG9tVXRpbC5pbml0VHJhbnNsYXRpb24odGhpcy5vcHRpb25zLnRyYW5zbGF0aW9uKTtcbiAgfSxcblxuICBnZXROZXN0ZWRWYWwob2JqLCBrZXksIG5lc3RlZEtleSkge1xuICAgIGNvbnN0IGRpZyA9IFtrZXksIG5lc3RlZEtleV07XG4gICAgcmV0dXJuIGRpZy5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBrKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9ialtrXTtcbiAgICB9LCBvYmopO1xuICB9LFxufTtcbiIsIkwuRG9tVXRpbCA9IEwuZXh0ZW5kKEwuRG9tVXRpbCwge1xuICBpbml0VHJhbnNsYXRpb24ob2JqKSB7XG4gICAgdGhpcy50cmFuc2xhdGlvbiA9IG9iajtcbiAgfSxcblxuICBnZXRNYXRyaXhTdHJpbmcobSkge1xuICAgIGNvbnN0IGlzM2QgPSBMLkJyb3dzZXIud2Via2l0M2QgfHwgTC5Ccm93c2VyLmdlY2tvM2QgfHwgTC5Ccm93c2VyLmllM2Q7XG5cbiAgICAvKlxuICAgICAqIFNpbmNlIG1hdHJpeDNkIHRha2VzIGEgNCo0IG1hdHJpeCwgd2UgYWRkIGluIGFuIGVtcHR5IHJvdyBhbmQgY29sdW1uLFxuICAgICAqIHdoaWNoIGFjdCBhcyB0aGUgaWRlbnRpdHkgb24gdGhlIHotYXhpcy5cbiAgICAgKiBTZWU6XG4gICAgICogICAgIGh0dHA6Ly9mcmFua2xpbnRhLmNvbS8yMDE0LzA5LzA4L2NvbXB1dGluZy1jc3MtbWF0cml4M2QtdHJhbnNmb3Jtcy9cbiAgICAgKiAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RyYW5zZm9ybS1mdW5jdGlvbiNNLkMzLkI2Yml1cydfaG9tb2dlbmVvdXNfY29vcmRpbmF0ZXNfaW5fcHJvamVjdGl2ZV9nZW9tZXRyeVxuICAgICAqL1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIG1bMF0sIG1bM10sIDAsIG1bNl0sXG4gICAgICBtWzFdLCBtWzRdLCAwLCBtWzddLFxuICAgICAgMCwgMCwgMSwgMCxcbiAgICAgIG1bMl0sIG1bNV0sIDAsIG1bOF0sXG4gICAgXTtcblxuICAgIGNvbnN0IHN0ciA9IGlzM2QgPyAnbWF0cml4M2QoJyArIG1hdHJpeC5qb2luKCcsJykgKyAnKScgOiAnJztcblxuICAgIGlmICghaXMzZCkge1xuICAgICAgY29uc29sZVxuICAgICAgICAgIC5sb2coJ1lvdXIgYnJvd3NlciBtdXN0IHN1cHBvcnQgM0QgQ1NTIHRyYW5zZm9ybXMnICtcbiAgICAgICAgICAnaW4gb3JkZXIgdG8gdXNlIERpc3RvcnRhYmxlSW1hZ2VPdmVybGF5LicpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH0sXG5cbiAgdG9nZ2xlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgIGNvbnN0IGMgPSBjbGFzc05hbWU7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ2xhc3MoZWwsIGMpID9cbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoZWwsIGMpIDogdGhpcy5hZGRDbGFzcyhlbCwgYyk7XG4gIH0sXG5cbiAgY29uZmlybURlbGV0ZSgpIHtcbiAgICByZXR1cm4gd2luZG93LmNvbmZpcm0odGhpcy50cmFuc2xhdGlvbi5jb25maXJtSW1hZ2VEZWxldGUpO1xuICB9LFxuXG4gIGNvbmZpcm1EZWxldGVzKG4pIHtcbiAgICBpZiAobiA9PT0gMSkgeyByZXR1cm4gdGhpcy5jb25maXJtRGVsZXRlKCk7IH1cblxuICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gdGhpcy50cmFuc2xhdGlvbi5jb25maXJtSW1hZ2VzRGVsZXRlcztcbiAgICBsZXQgd2FybmluZ01zZyA9ICcnO1xuXG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2FybmluZ01zZyA9IHRyYW5zbGF0aW9uKG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nTXNnID0gdHJhbnNsYXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpbmRvdy5jb25maXJtKHdhcm5pbmdNc2cpO1xuICB9LFxufSk7XG4iLCJMLkljb25VdGlsID0ge1xuICAvKiBjcmVhdGVzIGFuIHN2ZyBlbGVtZW5ldCB3aXRoIGJ1aWx0IGluIGFjY2Vzc2liaWxpdHkgcHJvcGVydGllc1xuICAgKiBhbmQgc3RhbmRhcmRpemVkIGNsYXNzZXMgZm9yIHN0eWxpbmcsIHRha2VzIGluIHRoZSBmcmFnbWVudFxuICAgKiBpZGVudGlmaWVyIChpZCkgb2YgdGhlIHN5bWJvbCB0byByZWZlcmVuY2UuIG5vdGUgZm9yIHN5bXBsaWNpdHlcbiAgICogd2UgYWxsb3cgcHJvdmlkaW5nIHRoZSBpY29uIHRhcmdldCB3aXRoIG9yIHdpdGhvdXQgdGhlICcjJyBwcmVmaXhcbiAgICovXG4gIGNyZWF0ZShyZWYpIHtcbiAgICBpZiAoL14jLy50ZXN0KHJlZikpIHtcbiAgICAgIHJlZiA9IHJlZi5yZXBsYWNlKC9eIy8sICcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgJzxzdmcgY2xhc3M9XCJsZGktaWNvbiBsZGktJyArIHJlZiArICdcInJvbGU9XCJpbWdcIiBmb2N1c2FibGU9XCJmYWxzZVwiPicgK1xuICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIiMnICsgcmVmICsgJ1wiPjwvdXNlPicgK1xuICAgICAgJzwvc3ZnPidcbiAgICApO1xuICB9LFxuXG4gIGFkZENsYXNzVG9TdmcoY29udGFpbmVyLCBsb2FkZXIpIHtcbiAgICBjb25zdCBzdmcgPSBjb250YWluZXIucXVlcnlTZWxlY3Rvcignc3ZnJyk7XG5cbiAgICBpZiAoc3ZnKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3Moc3ZnLCBsb2FkZXIpO1xuICAgIH1cbiAgfSxcblxuICAvLyBmaW5kcyB0aGUgdXNlIGVsZW1lbnQgYW5kIHRvZ2dsZXMgaXRzIGljb24gcmVmZXJlbmNlXG4gIHRvZ2dsZVhsaW5rKGNvbnRhaW5lciwgcmVmMSwgcmVmMikge1xuICAgIGlmICghL14jLy50ZXN0KHJlZjEpKSB7XG4gICAgICByZWYxID0gJyMnICsgcmVmMTtcbiAgICB9XG4gICAgaWYgKCEvXiMvLnRlc3QocmVmMikpIHtcbiAgICAgIHJlZjIgPSAnIycgKyByZWYyO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICBpZiAodXNlKSB7XG4gICAgICBjb25zdCB0b2dnbGVkID0gdXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpID09PSByZWYxID8gcmVmMiA6IHJlZjE7XG4gICAgICB1c2Uuc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgdG9nZ2xlZCk7XG4gICAgICByZXR1cm4gdG9nZ2xlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIHRvZ2dsZVRpdGxlKGNvbnRhaW5lciwgdGl0bGUxLCB0aXRsZTIpIHtcbiAgICBjb25zdCB0b2dnbGVkID0gY29udGFpbmVyLmdldEF0dHJpYnV0ZSgndGl0bGUnKSA9PT0gdGl0bGUxID8gdGl0bGUyIDogdGl0bGUxO1xuXG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0b2dnbGVkKTtcbiAgICBpZiAoY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpKSB7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdG9nZ2xlZCk7XG4gICAgfVxuICAgIHJldHVybiB0b2dnbGVkO1xuICB9LFxufTtcbiIsIkwuSW1hZ2VVdGlsID0ge1xuXG4gIGdldENtUGVyUGl4ZWwob3ZlcmxheSkge1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcblxuICAgIGNvbnN0IGRpc3QgPSBtYXBcbiAgICAgICAgLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigwKSlcbiAgICAgICAgLmRpc3RhbmNlVG8obWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigxKSkpO1xuXG4gICAgcmV0dXJuIChkaXN0ICogMTAwKSAvIG92ZXJsYXkuZ2V0RWxlbWVudCgpLndpZHRoO1xuICB9LFxufTtcbiIsIkwuTWF0cml4VXRpbCA9IHtcblxuICAvLyBDb21wdXRlIHRoZSBhZGp1Z2F0ZSBvZiBtXG4gIGFkaihtKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG1bNF0qbVs4XS1tWzVdKm1bN10sIG1bMl0qbVs3XS1tWzFdKm1bOF0sIG1bMV0qbVs1XS1tWzJdKm1bNF0sXG4gICAgICBtWzVdKm1bNl0tbVszXSptWzhdLCBtWzBdKm1bOF0tbVsyXSptWzZdLCBtWzJdKm1bM10tbVswXSptWzVdLFxuICAgICAgbVszXSptWzddLW1bNF0qbVs2XSwgbVsxXSptWzZdLW1bMF0qbVs3XSwgbVswXSptWzRdLW1bMV0qbVszXSxcbiAgICBdO1xuICB9LFxuXG4gIC8vIG11bHRpcGx5IHR3byAzKjMgbWF0cmljZXNcbiAgbXVsdG1tKGEsIGIpIHtcbiAgICBjb25zdCBjID0gW107XG4gICAgbGV0IGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICBsZXQgY2lqID0gMDtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykge1xuICAgICAgICAgIGNpaiArPSBhWzMqaSArIGtdKmJbMyprICsgal07XG4gICAgICAgIH1cblxuICAgICAgICBjWzMqaSArIGpdID0gY2lqO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9LFxuXG4gIC8vIG11bHRpcGx5IGEgMyozIG1hdHJpeCBhbmQgYSAzLXZlY3RvclxuICBtdWx0bXYobSwgdikge1xuICAgIHJldHVybiBbXG4gICAgICBtWzBdKnZbMF0gKyBtWzFdKnZbMV0gKyBtWzJdKnZbMl0sXG4gICAgICBtWzNdKnZbMF0gKyBtWzRdKnZbMV0gKyBtWzVdKnZbMl0sXG4gICAgICBtWzZdKnZbMF0gKyBtWzddKnZbMV0gKyBtWzhdKnZbMl0sXG4gICAgXTtcbiAgfSxcblxuICAvLyBtdWx0aXBseSBhIHNjYWxhciBhbmQgYSAzKjMgbWF0cml4XG4gIG11bHRzbShzLCBtKSB7XG4gICAgY29uc3QgbWF0cml4ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IG0ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBtYXRyaXgucHVzaChzKm1baV0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH0sXG5cbiAgYmFzaXNUb1BvaW50cyh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICBjb25zdCBtID0gW1xuICAgICAgeDEsIHgyLCB4MyxcbiAgICAgIHkxLCB5MiwgeTMsXG4gICAgICAxLCAxLCAxLFxuICAgIF07XG4gICAgY29uc3QgdiA9IEwuTWF0cml4VXRpbC5tdWx0bXYoTC5NYXRyaXhVdGlsLmFkaihtKSwgW3g0LCB5NCwgMV0pO1xuXG4gICAgcmV0dXJuIEwuTWF0cml4VXRpbC5tdWx0bW0obSwgW1xuICAgICAgdlswXSwgMCwgMCxcbiAgICAgIDAsIHZbMV0sIDAsXG4gICAgICAwLCAwLCB2WzJdLFxuICAgIF0pO1xuICB9LFxuXG4gIHByb2plY3QobSwgeCwgeSkge1xuICAgIGNvbnN0IHYgPSBMLk1hdHJpeFV0aWwubXVsdG12KG0sIFt4LCB5LCAxXSk7XG5cbiAgICByZXR1cm4gW3ZbMF0vdlsyXSwgdlsxXS92WzJdXTtcbiAgfSxcblxuICBnZW5lcmFsMkRQcm9qZWN0aW9uKFxuICAgICAgeDFzLCB5MXMsIHgxZCwgeTFkLFxuICAgICAgeDJzLCB5MnMsIHgyZCwgeTJkLFxuICAgICAgeDNzLCB5M3MsIHgzZCwgeTNkLFxuICAgICAgeDRzLCB5NHMsIHg0ZCwgeTRkXG4gICkge1xuICAgIGNvbnN0IHMgPSBMLk1hdHJpeFV0aWwuYmFzaXNUb1BvaW50cyh4MXMsIHkxcywgeDJzLCB5MnMsIHgzcywgeTNzLCB4NHMsIHk0cyk7XG4gICAgY29uc3QgZCA9IEwuTWF0cml4VXRpbC5iYXNpc1RvUG9pbnRzKHgxZCwgeTFkLCB4MmQsIHkyZCwgeDNkLCB5M2QsIHg0ZCwgeTRkKTtcbiAgICBjb25zdCBtID0gTC5NYXRyaXhVdGlsLm11bHRtbShkLCBMLk1hdHJpeFV0aWwuYWRqKHMpKTtcblxuICAgIC8vIE5vcm1hbGl6ZSB0byB0aGUgdW5pcXVlIG1hdHJpeCB3aXRoIG1bOF0gPT0gMS5cbiAgICAvLyBTZWU6IGh0dHA6Ly9mcmFua2xpbnRhLmNvbS8yMDE0LzA5LzA4L2NvbXB1dGluZy1jc3MtbWF0cml4M2QtdHJhbnNmb3Jtcy9cblxuICAgIHJldHVybiBMLk1hdHJpeFV0aWwubXVsdHNtKDEvbVs4XSwgbSk7XG4gIH0sXG59O1xuIiwiTC5UcmlnVXRpbCA9IHtcblxuICBjYWxjQW5nbGUoeCwgeSwgdW5pdCA9ICdkZWcnKSB7XG4gICAgcmV0dXJuIHVuaXQgPT09ICdkZWcnID9cbiAgICAgICAgdGhpcy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoeSwgeCkpIDpcbiAgICAgICAgTWF0aC5hdGFuMih5LCB4KTtcbiAgfSxcblxuICByYWRpYW5zVG9EZWdyZWVzKGFuZ2xlKSB7XG4gICAgcmV0dXJuIChhbmdsZSAqIDE4MCkgLyBNYXRoLlBJO1xuICB9LFxuXG4gIGRlZ3JlZXNUb1JhZGlhbnMoYW5nbGUpIHtcbiAgICByZXR1cm4gKGFuZ2xlICogTWF0aC5QSSkgLyAxODA7XG4gIH0sXG59O1xuIiwiTC5EaXN0b3J0YWJsZUltYWdlT3ZlcmxheSA9IEwuSW1hZ2VPdmVybGF5LmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBoZWlnaHQ6IDIwMCxcbiAgICBjcm9zc09yaWdpbjogdHJ1ZSxcbiAgICAvLyB0b2RvOiBmaW5kIGlkZWFsIG51bWJlciB0byBwcmV2ZW50IGRpc3RvcnRpb25zIGR1cmluZyBSb3RhdGVTY2FsZSwgYW5kIG1ha2UgaXQgZHluYW1pYyAocmVtb3ZlIGhhcmRjb2RpbmcpXG4gICAgZWRnZU1pbldpZHRoOiA1MCxcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICBtb2RlOiAnZGlzdG9ydCcsXG4gICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgIHRvb2x0aXBUZXh0OiAnJyxcbiAgfSxcblxuICBpbml0aWFsaXplKHVybCwgb3B0aW9ucykge1xuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICBMLlV0aWxzLmluaXRUcmFuc2xhdGlvbi5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lZGdlTWluV2lkdGggPSB0aGlzLm9wdGlvbnMuZWRnZU1pbldpZHRoO1xuICAgIHRoaXMuZWRpdGFibGUgPSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gICAgdGhpcy5fc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnMuc2VsZWN0ZWQ7XG4gICAgdGhpcy5fdXJsID0gdXJsO1xuICAgIHRoaXMucm90YXRpb24gPSB7fTtcbiAgICB0aGlzLl9jb3JuZXJzID0gdGhpcy5vcHRpb25zLmNvcm5lcnMgfHwgW107XG5cbiAgICB0aGlzLmludGVyYWN0aXZlID0gdGhpcy5vcHRpb25zLmludGVyYWN0aXZlO1xuICAgIHRoaXMudG9vbHRpcFRleHQgPSB0aGlzLm9wdGlvbnMudG9vbHRpcFRleHQ7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIGlmICghdGhpcy5nZXRFbGVtZW50KCkpIHtcbiAgICAgIHRoaXMuX2luaXRJbWFnZSgpO1xuICAgIH1cblxuICAgIG1hcC5vbigndmlld3Jlc2V0JywgdGhpcy5fcmVzZXQsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb3JuZXJzKSB7XG4gICAgICB0aGlzLl9jb3JuZXJzID0gdGhpcy5vcHRpb25zLmNvcm5lcnM7XG4gICAgICBpZiAobWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbiAmJiBMLkJyb3dzZXIuYW55M2QpIHtcbiAgICAgICAgbWFwLm9uKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYXZlIHRvIHdhaXQgZm9yIHRoZSBpbWFnZSB0byBsb2FkIGJlY2F1c2UgbmVlZCB0byBhY2Nlc3MgaXRzIHcvaFxuICAgIEwuRG9tRXZlbnQub24odGhpcy5nZXRFbGVtZW50KCksICdsb2FkJywgKCkgPT4ge1xuICAgICAgdGhpcy5nZXRQYW5lKCkuYXBwZW5kQ2hpbGQodGhpcy5nZXRFbGVtZW50KCkpO1xuICAgICAgdGhpcy5faW5pdEltYWdlRGltZW5zaW9ucygpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJvdGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHVuaXRzID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uLmRlZyA+PSAwID8gJ2RlZycgOiAncmFkJztcbiAgICAgICAgdGhpcy5zZXRBbmdsZSh0aGlzLm9wdGlvbnMucm90YXRpb25bdW5pdHNdLCB1bml0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0ge2RlZzogMCwgcmFkOiAwfTtcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIH1cblxuICAgICAgLyogSW5pdGlhbGl6ZSBkZWZhdWx0IGNvcm5lcnMgaWYgbm90IGFscmVhZHkgc2V0ICovXG4gICAgICBpZiAoIXRoaXMuX2Nvcm5lcnMpIHtcbiAgICAgICAgaWYgKG1hcC5vcHRpb25zLnpvb21BbmltYXRpb24gJiYgTC5Ccm93c2VyLmFueTNkKSB7XG4gICAgICAgICAgbWFwLm9uKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiogaWYgdGhlcmUgaXMgYSBmZWF0dXJlR3JvdXAsIG9ubHkgaXRzIGVkaXRhYmxlIG9wdGlvbiBtYXR0ZXJzICovXG4gICAgICBjb25zdCBldmVudFBhcmVudHMgPSB0aGlzLl9ldmVudFBhcmVudHM7XG4gICAgICBpZiAoZXZlbnRQYXJlbnRzKSB7XG4gICAgICAgIHRoaXMuZVAgPSBldmVudFBhcmVudHNbT2JqZWN0LmtleXMoZXZlbnRQYXJlbnRzKVswXV07XG4gICAgICAgIGlmICh0aGlzLmVQLmVkaXRhYmxlKSB7XG4gICAgICAgICAgdGhpcy5lZGl0aW5nLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5lZGl0YWJsZSkge1xuICAgICAgICAgIHRoaXMuZWRpdGluZy5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVQID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIEwuRG9tRXZlbnQub24odGhpcy5nZXRFbGVtZW50KCksICdjbGljaycsIHRoaXMuc2VsZWN0LCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKFxuICAgICAgbWFwLFxuICAgICAge1xuICAgICAgICBzaW5nbGVjbGlja29uOiB0aGlzLl9zaW5nbGVDbGlja0xpc3RlbmVycyxcbiAgICAgICAgc2luZ2xlY2xpY2tvZmY6IHRoaXMuX3Jlc2V0Q2xpY2tMaXN0ZW5lcnMsXG4gICAgICAgIHNpbmdsZWNsaWNrOiB0aGlzLl9zaW5nbGVDbGljayxcbiAgICAgIH0sXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIGN1c3RvbSBldmVudHMgZmlyZWQgZnJvbSBEb3VibGVDbGlja0xhYmVscy5qcy4gVXNlZCB0byBkaWZmZXJlbnRpYXRlXG4gICAgICogc2luZ2xlIC8gZGJsY2xpY2sgdG8gbm90IGRlc2VsZWN0IGltYWdlcyBvbiBtYXAgZGJsY2xpY2suXG4gICAgICovXG4gICAgaWYgKCEobWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGVkKCkgfHwgbWFwLmRvdWJsZUNsaWNrTGFiZWxzLmVuYWJsZWQoKSkpIHtcbiAgICAgIEwuRG9tRXZlbnQub24obWFwLCAnY2xpY2snLCB0aGlzLmRlc2VsZWN0LCB0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLmZpcmUoJ2FkZCcpO1xuXG4gICAgTC5Eb21FdmVudC5vbih0aGlzLmdldEVsZW1lbnQoKSwgJ21vdXNlbW92ZScsIHRoaXMuYWN0aXZhdGVUb29sdGlwLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuZ2V0RWxlbWVudCgpLCAnbW91c2VvdXQnLCB0aGlzLmNsb3NlVG9vbHRpcCwgdGhpcyk7XG4gIH0sXG5cbiAgb25SZW1vdmUobWFwKSB7XG4gICAgTC5Eb21FdmVudC5vZmYodGhpcy5nZXRFbGVtZW50KCksICdjbGljaycsIHRoaXMuc2VsZWN0LCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZihcbiAgICAgIG1hcCxcbiAgICAgIHtcbiAgICAgICAgc2luZ2xlY2xpY2tvbjogdGhpcy5fc2luZ2xlQ2xpY2tMaXN0ZW5lcnMsXG4gICAgICAgIHNpbmdsZWNsaWNrb2ZmOiB0aGlzLl9yZXNldENsaWNrTGlzdGVuZXJzLFxuICAgICAgICBzaW5nbGVjbGljazogdGhpcy5fc2luZ2xlQ2xpY2ssXG4gICAgICB9LFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgTC5Eb21FdmVudC5vZmYobWFwLCAnY2xpY2snLCB0aGlzLmRlc2VsZWN0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmVkaXRpbmcpIHtcbiAgICAgIHRoaXMuZWRpdGluZy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHRoaXMuZmlyZSgncmVtb3ZlJyk7XG5cbiAgICBMLkltYWdlT3ZlcmxheS5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuXG4gICAgTC5Eb21FdmVudC5vbih0aGlzLmdldEVsZW1lbnQoKSwgJ21vdXNlb3V0JywgdGhpcy5jbG9zZVRvb2x0aXAsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgdGhpcy5nZXRFbGVtZW50KCksXG4gICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgIHRoaXMuZGVhY3RpdmF0ZVRvb2x0aXAsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfSxcblxuICBfaW5pdEltYWdlRGltZW5zaW9ucygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3Qgb3JpZ2luYWxJbWFnZVdpZHRoID0gTC5Eb21VdGlsLmdldFN0eWxlKHRoaXMuZ2V0RWxlbWVudCgpLCAnd2lkdGgnKTtcbiAgICBjb25zdCBvcmlnaW5hbEltYWdlSGVpZ2h0ID0gTC5Eb21VdGlsLmdldFN0eWxlKHRoaXMuZ2V0RWxlbWVudCgpLCAnaGVpZ2h0Jyk7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPVxuICAgICAgcGFyc2VJbnQob3JpZ2luYWxJbWFnZVdpZHRoKSAvIHBhcnNlSW50KG9yaWdpbmFsSW1hZ2VIZWlnaHQpO1xuICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcbiAgICBjb25zdCBpbWFnZVdpZHRoID0gcGFyc2VJbnQoYXNwZWN0UmF0aW8gKiBpbWFnZUhlaWdodCk7XG4gICAgY29uc3QgY2VudGVyID0gbWFwLnByb2plY3QobWFwLmdldENlbnRlcigpKTtcbiAgICBjb25zdCBvZmZzZXQgPSBMLnBvaW50KGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KS5kaXZpZGVCeSgyKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvcm5lcnMpIHtcbiAgICAgIHRoaXMuX2Nvcm5lcnMgPSB0aGlzLm9wdGlvbnMuY29ybmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29ybmVycyA9IFtcbiAgICAgICAgbWFwLnVucHJvamVjdChjZW50ZXIuc3VidHJhY3Qob2Zmc2V0KSksXG4gICAgICAgIG1hcC51bnByb2plY3QoY2VudGVyLmFkZChMLnBvaW50KG9mZnNldC54LCAtb2Zmc2V0LnkpKSksXG4gICAgICAgIG1hcC51bnByb2plY3QoY2VudGVyLmFkZChMLnBvaW50KC1vZmZzZXQueCwgb2Zmc2V0LnkpKSksXG4gICAgICAgIG1hcC51bnByb2plY3QoY2VudGVyLmFkZChvZmZzZXQpKSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdGlhbERpbWVuc2lvbnMgPSB7XG4gICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgem9vbTogbWFwLmdldFpvb20oKSxcbiAgICB9O1xuICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gIH0sXG5cbiAgX3NpbmdsZUNsaWNrKGUpIHtcbiAgICBpZiAoZS50eXBlID09PSAnc2luZ2xlY2xpY2snKSB7XG4gICAgICB0aGlzLmRlc2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgX3NpbmdsZUNsaWNrTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBMLkRvbUV2ZW50Lm9mZihtYXAsICdjbGljaycsIHRoaXMuZGVzZWxlY3QsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub24obWFwLCAnc2luZ2xlY2xpY2snLCB0aGlzLmRlc2VsZWN0LCB0aGlzKTtcbiAgfSxcblxuICBfcmVzZXRDbGlja0xpc3RlbmVycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgTC5Eb21FdmVudC5vbihtYXAsICdjbGljaycsIHRoaXMuZGVzZWxlY3QsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKG1hcCwgJ3NpbmdsZWNsaWNrJywgdGhpcy5kZXNlbGVjdCwgdGhpcyk7XG4gIH0sXG5cbiAgaXNTZWxlY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XG4gIH0sXG5cbiAgZGVzZWxlY3QoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuZWRpdGluZztcbiAgICBpZiAoIWVkaXQuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWRpdC5fcmVtb3ZlVG9vbGJhcigpO1xuICAgIGVkaXQuX2hpZGVNYXJrZXJzKCk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuZmlyZSgnZGVzZWxlY3QnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBzZWxlY3QoZSkge1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLmVkaXRpbmc7XG4gICAgY29uc3QgZVAgPSB0aGlzLmVQO1xuXG4gICAgaWYgKCFlZGl0LmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZSkge1xuICAgICAgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBlbnN1cmVzIGRlc2VsZWN0aW9uIG9mIGFsbCBvdGhlciBpbWFnZXMsIGFsbG93aW5nIHVzIHRvIGtlZXAgY29sbGVjdGlvbiBncm91cCBvcHRpb25hbFxuICAgIHRoaXMuX3Byb2dyYW1tYXRpY0dyb3VwaW5nKCk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZCA9IHRydWU7XG4gICAgZWRpdC5fYWRkVG9vbGJhcigpO1xuICAgIGVkaXQuX3Nob3dNYXJrZXJzKCk7XG4gICAgdGhpcy5maXJlKCdzZWxlY3QnKTtcblxuICAgIC8vIHdlIHJ1biB0aGUgc2VsZWN0aW9uIGxvZ2ljIDFzdCBhbnl3YXkgYmVjYXVzZSB0aGUgY29sbGVjdGlvbiBncm91cCdzIF9hZGRUb29sYmFyIG1ldGhvZCBkZXBlbmRzIG9uIGl0XG4gICAgaWYgKGVQICYmIGVQLmFueUNvbGxlY3RlZCgpKSB7XG4gICAgICB0aGlzLmRlc2VsZWN0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3Byb2dyYW1tYXRpY0dyb3VwaW5nKCkge1xuICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2VPdmVybGF5KSB7XG4gICAgICAgIGxheWVyLmRlc2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgc2V0Q29ybmVyKGNvcm5lciwgbGF0bG5nKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuZWRpdGluZztcblxuICAgIHRoaXMuX2Nvcm5lcnNbY29ybmVyXSA9IGxhdGxuZztcblxuICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gICAgdGhpcy5maXJlKCd1cGRhdGUnKTtcblxuICAgIGlmIChlZGl0LnRvb2xiYXIgJiYgZWRpdC50b29sYmFyIGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyKSB7XG4gICAgICBlZGl0Ll91cGRhdGVUb29sYmFyUG9zKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lZGl0ZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX2Nvcm5lckV4Y2VlZHNNYXBMYXRzKHpvb20sIGNvcm5lciwgbWFwKSB7XG4gICAgaWYgKG1hcC5vcHRpb25zLmNycy5TaW1wbGUgPT0gTC5DUlMuU2ltcGxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBleGNlZWRzVG9wO1xuICAgICAgbGV0IGV4Y2VlZHNCb3R0b207XG4gICAgICBpZiAoem9vbSA9PT0gMCkge1xuICAgICAgICBleGNlZWRzVG9wID0gbWFwLnByb2plY3QoY29ybmVyKS55IDwgMjtcbiAgICAgICAgZXhjZWVkc0JvdHRvbSA9IG1hcC5wcm9qZWN0KGNvcm5lcikueSA+PSAyNTU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleGNlZWRzVG9wID0gbWFwLnByb2plY3QoY29ybmVyKS55IC8gem9vbSA8IDI7XG4gICAgICAgIGV4Y2VlZHNCb3R0b20gPSBtYXAucHJvamVjdChjb3JuZXIpLnkgLyBNYXRoLnBvdygyLCB6b29tKSA+PSAyNTU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhjZWVkc1RvcCB8fCBleGNlZWRzQm90dG9tO1xuICAgIH1cbiAgfSxcblxuICBhY3RpdmF0ZVRvb2x0aXAoKSB7XG4gICAgaWYgKCF0aGlzLl9zZWxlY3RlZCkge1xuICAgICAgdGhpcy5iaW5kVG9vbHRpcCh0aGlzLnRvb2x0aXBUZXh0LCB7ZGlyZWN0aW9uOiAndG9wJ30pLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuICB9LFxuXG4gIGNsb3NlVG9vbFRpcCgpIHtcbiAgICB0aGlzLmNsb3NlVG9vbHRpcCgpO1xuICB9LFxuXG4gIGRlYWN0aXZhdGVUb29sdGlwKCkge1xuICAgIHRoaXMudW5iaW5kVG9vbHRpcCgpO1xuICB9LFxuXG4gIGdldFRvb2x0aXBUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2x0aXBUZXh0O1xuICB9LFxuXG4gIHNldENvcm5lcnMobGF0bG5nT2JqKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLmVkaXRpbmc7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgLy8gdGhpcyBpcyB0byBmaXggaHR0cHM6Ly9naXRodWIuY29tL3B1YmxpY2xhYi9MZWFmbGV0LkRpc3RvcnRhYmxlSW1hZ2UvaXNzdWVzLzQwMlxuICAgIGZvciAoY29uc3QgayBpbiBsYXRsbmdPYmopIHtcbiAgICAgIGlmICh0aGlzLl9jb3JuZXJFeGNlZWRzTWFwTGF0cyh6b29tLCBsYXRsbmdPYmpba10sIG1hcCkpIHtcbiAgICAgICAgLy8gY2FsbGluZyByZXNldCAvIHVwZGF0ZSB3LyB0aGUgc2FtZSBjb3JuZXJzIGJjIGl0IHByZXZlbnRzIGEgbWFya2VyIGZsaWNrZXIgZm9yIHJvdGF0ZVxuICAgICAgICB0aGlzLnNldEJvdW5kcyhMLmxhdExuZ0JvdW5kcyh0aGlzLmdldENvcm5lcnMoKSkpO1xuICAgICAgICB0aGlzLmZpcmUoJ3VwZGF0ZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrIGluIGxhdGxuZ09iaikge1xuICAgICAgdGhpcy5fY29ybmVyc1tpXSA9IGxhdGxuZ09ialtrXTtcbiAgICAgIGkgKz0gMTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEJvdW5kcyhMLmxhdExuZ0JvdW5kcyh0aGlzLmdldENvcm5lcnMoKSkpO1xuICAgIHRoaXMuZmlyZSgndXBkYXRlJyk7XG5cbiAgICBpZiAoZWRpdC50b29sYmFyICYmIGVkaXQudG9vbGJhciBpbnN0YW5jZW9mIEwuRGlzdG9ydGFibGVJbWFnZS5Qb3B1cEJhcikge1xuICAgICAgZWRpdC5fdXBkYXRlVG9vbGJhclBvcygpO1xuICAgIH1cblxuICAgIHRoaXMuZWRpdGVkID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIHNldENvcm5lcnNGcm9tUG9pbnRzKHBvaW50c09iaikge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5lZGl0aW5nO1xuICAgIGxldCBpID0gMDtcblxuICAgIGZvciAoY29uc3QgayBpbiBwb2ludHNPYmopIHtcbiAgICAgIGNvbnN0IGNvcm5lciA9IG1hcC5sYXllclBvaW50VG9MYXRMbmcocG9pbnRzT2JqW2tdKTtcblxuICAgICAgaWYgKHRoaXMuX2Nvcm5lckV4Y2VlZHNNYXBMYXRzKHpvb20sIGNvcm5lciwgbWFwKSkge1xuICAgICAgICAvLyBjYWxsaW5nIHJlc2V0IC8gdXBkYXRlIHcvIHRoZSBzYW1lIGNvcm5lcnMgYmMgaXQgcHJldmVudHMgYSBtYXJrZXIgZmxpY2tlciBmb3Igcm90YXRlXG4gICAgICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gICAgICAgIHRoaXMuZmlyZSgndXBkYXRlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGsgaW4gcG9pbnRzT2JqKSB7XG4gICAgICB0aGlzLl9jb3JuZXJzW2ldID0gbWFwLmxheWVyUG9pbnRUb0xhdExuZyhwb2ludHNPYmpba10pO1xuICAgICAgaSArPSAxO1xuICAgIH1cblxuICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gICAgdGhpcy5maXJlKCd1cGRhdGUnKTtcblxuICAgIGlmIChlZGl0LnRvb2xiYXIgJiYgZWRpdC50b29sYmFyIGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyKSB7XG4gICAgICBlZGl0Ll91cGRhdGVUb29sYmFyUG9zKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lZGl0ZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgc2NhbGVCeShzY2FsZSkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBjZW50ZXIgPSBtYXAucHJvamVjdCh0aGlzLmdldENlbnRlcigpKTtcbiAgICBsZXQgaTtcbiAgICBsZXQgcDtcbiAgICBjb25zdCBzY2FsZWRDb3JuZXJzID0ge307XG5cbiAgICBpZiAoc2NhbGUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBwID0gbWFwXG4gICAgICAgIC5wcm9qZWN0KHRoaXMuZ2V0Q29ybmVyKGkpKVxuICAgICAgICAuc3VidHJhY3QoY2VudGVyKVxuICAgICAgICAubXVsdGlwbHlCeShzY2FsZSlcbiAgICAgICAgLmFkZChjZW50ZXIpO1xuICAgICAgc2NhbGVkQ29ybmVyc1tpXSA9IG1hcC51bnByb2plY3QocCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRDb3JuZXJzKHNjYWxlZENvcm5lcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZ2V0QW5nbGUodW5pdCA9ICdkZWcnKSB7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5nZXRFbGVtZW50KClcbiAgICAgIC5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXS5zcGxpdCgnbWF0cml4M2QnKVsxXVxuICAgICAgLnNsaWNlKDEsIC0xKVxuICAgICAgLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCByb3cweCA9IG1hdHJpeFswXTtcbiAgICBjb25zdCByb3cweSA9IG1hdHJpeFsxXTtcbiAgICBjb25zdCByb3cxeCA9IG1hdHJpeFs0XTtcbiAgICBjb25zdCByb3cxeSA9IG1hdHJpeFs1XTtcblxuICAgIGNvbnN0IGRldGVybWluYW50ID0gcm93MHggKiByb3cxeSAtIHJvdzB5ICogcm93MXg7XG5cbiAgICBsZXQgYW5nbGUgPSBMLlRyaWdVdGlsLmNhbGNBbmdsZShyb3cweCwgcm93MHksICdyYWQnKTtcblxuICAgIGlmIChkZXRlcm1pbmFudCA8IDApIHtcbiAgICAgIGFuZ2xlICs9IGFuZ2xlIDwgMCA/IE1hdGguUEkgOiAtTWF0aC5QSTtcbiAgICB9XG5cbiAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICBhbmdsZSA9IDIgKiBNYXRoLlBJICsgYW5nbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXQgPT09ICdkZWcnXG4gICAgICA/IE1hdGgucm91bmQoTC5UcmlnVXRpbC5yYWRpYW5zVG9EZWdyZWVzKGFuZ2xlKSlcbiAgICAgIDogTC5VdGlsLmZvcm1hdE51bShhbmdsZSwgMik7XG4gIH0sXG5cbiAgc2V0QW5nbGUoYW5nbGUsIHVuaXQgPSAnZGVnJykge1xuICAgIGNvbnN0IGN1cnJlbnRBbmdsZSA9IHRoaXMuZ2V0QW5nbGUodW5pdCk7XG4gICAgY29uc3QgYW5nbGVUb1JvdGF0ZUJ5ID0gYW5nbGUgLSBjdXJyZW50QW5nbGU7XG4gICAgdGhpcy5yb3RhdGVCeShhbmdsZVRvUm90YXRlQnksIHVuaXQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcm90YXRlQnkoYW5nbGUsIHVuaXQgPSAnZGVnJykge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBjZW50ZXIgPSBtYXAucHJvamVjdCh0aGlzLmdldENlbnRlcigpKTtcbiAgICBjb25zdCBjb3JuZXJzID0ge307XG4gICAgbGV0IGk7XG4gICAgbGV0IHA7XG4gICAgbGV0IHE7XG5cbiAgICBpZiAodW5pdCA9PT0gJ2RlZycpIHtcbiAgICAgIGFuZ2xlID0gTC5UcmlnVXRpbC5kZWdyZWVzVG9SYWRpYW5zKGFuZ2xlKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBwID0gbWFwLnByb2plY3QodGhpcy5nZXRDb3JuZXIoaSkpLnN1YnRyYWN0KGNlbnRlcik7XG4gICAgICBxID0gTC5wb2ludChcbiAgICAgICAgTWF0aC5jb3MoYW5nbGUpICogcC54IC0gTWF0aC5zaW4oYW5nbGUpICogcC55LFxuICAgICAgICBNYXRoLnNpbihhbmdsZSkgKiBwLnggKyBNYXRoLmNvcyhhbmdsZSkgKiBwLnlcbiAgICAgICk7XG4gICAgICBjb3JuZXJzW2ldID0gbWFwLnVucHJvamVjdChxLmFkZChjZW50ZXIpKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldENvcm5lcnMoY29ybmVycyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBkcmFnQnkoZm9ybWVyUG9pbnQsIG5ld1BvaW50KSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGxldCBpO1xuICAgIGxldCBwO1xuICAgIGNvbnN0IHRyYW5zQ29ybmVycyA9IHt9O1xuICAgIGNvbnN0IGRlbHRhID0gbWFwLnByb2plY3QoZm9ybWVyUG9pbnQpLnN1YnRyYWN0KG1hcC5wcm9qZWN0KG5ld1BvaW50KSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBwID0gbWFwLnByb2plY3QodGhpcy5nZXRDb3JuZXIoaSkpLnN1YnRyYWN0KGRlbHRhKTtcbiAgICAgIHRyYW5zQ29ybmVyc1tpXSA9IG1hcC51bnByb2plY3QocCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRDb3JuZXJzKHRyYW5zQ29ybmVycyk7XG4gIH0sXG5cbiAgcmVzdG9yZSgpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5faW5pdGlhbERpbWVuc2lvbnMuY2VudGVyO1xuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2luaXRpYWxEaW1lbnNpb25zLm9mZnNldDtcbiAgICBjb25zdCB6b29tID0gdGhpcy5faW5pdGlhbERpbWVuc2lvbnMuem9vbTtcbiAgICBjb25zdCBjb3JuZXJzID0gW1xuICAgICAgY2VudGVyLnN1YnRyYWN0KG9mZnNldCksXG4gICAgICBjZW50ZXIuYWRkKEwucG9pbnQob2Zmc2V0LngsIC1vZmZzZXQueSkpLFxuICAgICAgY2VudGVyLmFkZChMLnBvaW50KC1vZmZzZXQueCwgb2Zmc2V0LnkpKSxcbiAgICAgIGNlbnRlci5hZGQob2Zmc2V0KSxcbiAgICBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIGlmICghbWFwLnVucHJvamVjdChjb3JuZXJzW2ldLCB6b29tKS5lcXVhbHModGhpcy5nZXRDb3JuZXIoaSkpKSB7XG4gICAgICAgIHRoaXMuc2V0Q29ybmVyKGksIG1hcC51bnByb2plY3QoY29ybmVyc1tpXSwgem9vbSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJlKCdyZXN0b3JlJyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKiBDb3BpZWQgZnJvbSBMZWFmbGV0IHYwLjcgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9ibG9iLzY2MjgyZjE0YmNiMTgwZWM4N2Q5ODE4ZDlmM2M5Zjc1YWZkMDFiMzAvc3JjL2RvbS9Eb21VdGlsLmpzI0wxODktTDE5OSAqL1xuICAvKiBzaW5jZSBMLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKCkgaXMgZGVwcmVjYXRlZCBpbiBMZWFmbGV0IHYxLjAgKi9cbiAgX2dldFRyYW5zbGF0ZVN0cmluZyhwb2ludCkge1xuICAgIC8vIG9uIFdlYktpdCBicm93c2VycyAoQ2hyb21lL1NhZmFyaS9pT1MgU2FmYXJpL0FuZHJvaWQpXG4gICAgLy8gdXNpbmcgdHJhbnNsYXRlM2QgaW5zdGVhZCBvZiB0cmFuc2xhdGVcbiAgICAvLyBtYWtlcyBhbmltYXRpb24gc21vb3RoZXIgYXMgaXQgZW5zdXJlcyBIVyBhY2NlbCBpcyB1c2VkLlxuICAgIC8vIEZpcmVmb3ggMTMgZG9lc24ndCBjYXJlXG4gICAgLy8gKHNhbWUgc3BlZWQgZWl0aGVyIHdheSksIE9wZXJhIDEyIGRvZXNuJ3Qgc3VwcG9ydCB0cmFuc2xhdGUzZFxuXG4gICAgY29uc3QgaXMzZCA9IEwuQnJvd3Nlci53ZWJraXQzZDtcbiAgICBjb25zdCBvcGVuID0gJ3RyYW5zbGF0ZScgKyAoaXMzZCA/ICczZCcgOiAnJykgKyAnKCc7XG4gICAgY29uc3QgY2xvc2UgPSAoaXMzZCA/ICcsMCcgOiAnJykgKyAnKSc7XG5cbiAgICByZXR1cm4gb3BlbiArIHBvaW50LnggKyAncHgsJyArIHBvaW50LnkgKyAncHgnICsgY2xvc2U7XG4gIH0sXG5cbiAgX3Jlc2V0KCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgIGNvbnN0IGxhdExuZ1RvTGF5ZXJQb2ludCA9IEwuYmluZChtYXAubGF0TG5nVG9MYXllclBvaW50LCBtYXApO1xuICAgIGNvbnN0IHRyYW5zZm9ybU1hdHJpeCA9XG4gICAgICB0aGlzLl9jYWxjdWxhdGVQcm9qZWN0aXZlVHJhbnNmb3JtKGxhdExuZ1RvTGF5ZXJQb2ludCk7XG4gICAgY29uc3QgdG9wTGVmdCA9IGxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLmdldENvcm5lcigwKSk7XG4gICAgY29uc3Qgd2FycCA9IEwuRG9tVXRpbC5nZXRNYXRyaXhTdHJpbmcodHJhbnNmb3JtTWF0cml4KTtcbiAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHRoaXMuX2dldFRyYW5zbGF0ZVN0cmluZyh0b3BMZWZ0KTtcblxuICAgIC8qIFNlZSBMLkRvbVV0aWwuc2V0UG9zaXRpb24uIE1haW5seSBmb3IgdGhlIHB1cnBvc2VzIG9mIEwuRHJhZ2dhYmxlLiAqL1xuICAgIGltYWdlLl9sZWFmbGV0X3BvcyA9IHRvcExlZnQ7XG5cbiAgICBpbWFnZS5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSA9IFt0cmFuc2xhdGlvbiwgd2FycF0uam9pbignICcpO1xuXG4gICAgLyogU2V0IG9yaWdpbiB0byB0aGUgdXBwZXItbGVmdCBjb3JuZXIgcmF0aGVyIHRoYW5cbiAgICAgKiB0aGUgY2VudGVyIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuXG4gICAgICovXG4gICAgaW1hZ2Uuc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STSArICctb3JpZ2luJ10gPSAnMCAwIDAnO1xuXG4gICAgdGhpcy5yb3RhdGlvbi5kZWcgPSB0aGlzLmdldEFuZ2xlKCk7XG4gICAgdGhpcy5yb3RhdGlvbi5yYWQgPSB0aGlzLmdldEFuZ2xlKCdyYWQnKTtcbiAgfSxcblxuICAvKlxuICAgKiBDYWxjdWxhdGVzIHRoZSB0cmFuc2Zvcm0gc3RyaW5nIHRoYXQgd2lsbCBiZVxuICAgKiBjb3JyZWN0ICphdCB0aGUgZW5kKiBvZiB6b29taW5nLlxuICAgKiBMZWFmbGV0IHRoZW4gZ2VuZXJhdGVzIGEgQ1NTMyBhbmltYXRpb24gYmV0d2VlbiB0aGUgY3VycmVudCB0cmFuc2Zvcm0gYW5kXG4gICAqIGZ1dHVyZSB0cmFuc2Zvcm0gd2hpY2ggbWFrZXMgdGhlIHRyYW5zaXRpb24gYXBwZWFyIHNtb290aC5cbiAgICovXG4gIF9hbmltYXRlWm9vbShldmVudCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgIGNvbnN0IGxhdExuZ1RvTmV3TGF5ZXJQb2ludCA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcbiAgICAgIHJldHVybiBtYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludChsYXRsbmcsIGV2ZW50Lnpvb20sIGV2ZW50LmNlbnRlcik7XG4gICAgfTtcbiAgICBjb25zdCB0cmFuc2Zvcm1NYXRyaXggPSB0aGlzLl9jYWxjdWxhdGVQcm9qZWN0aXZlVHJhbnNmb3JtKFxuICAgICAgbGF0TG5nVG9OZXdMYXllclBvaW50XG4gICAgKTtcbiAgICBjb25zdCB0b3BMZWZ0ID0gbGF0TG5nVG9OZXdMYXllclBvaW50KHRoaXMuZ2V0Q29ybmVyKDApKTtcbiAgICBjb25zdCB3YXJwID0gTC5Eb21VdGlsLmdldE1hdHJpeFN0cmluZyh0cmFuc2Zvcm1NYXRyaXgpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gdGhpcy5fZ2V0VHJhbnNsYXRlU3RyaW5nKHRvcExlZnQpO1xuXG4gICAgLyogU2VlIEwuRG9tVXRpbC5zZXRQb3NpdGlvbi4gTWFpbmx5IGZvciB0aGUgcHVycG9zZXMgb2YgTC5EcmFnZ2FibGUuICovXG4gICAgaW1hZ2UuX2xlYWZsZXRfcG9zID0gdG9wTGVmdDtcblxuICAgIGltYWdlLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dID0gW3RyYW5zbGF0aW9uLCB3YXJwXS5qb2luKCcgJyk7XG4gIH0sXG5cbiAgZ2V0Q29ybmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5fY29ybmVycztcbiAgfSxcblxuICBnZXRDb3JuZXIoaSkge1xuICAgIHJldHVybiB0aGlzLl9jb3JuZXJzW2ldO1xuICB9LFxuXG4gIC8vIGltYWdlICh2ZXJ0ZXgpIGNlbnRyb2lkIGNhbGN1bGF0aW9uXG4gIGdldENlbnRlcigpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgcmVkdWNlID0gdGhpcy5nZXRDb3JuZXJzKCkucmVkdWNlKGZ1bmN0aW9uIChhZ2csIGNvcm5lcikge1xuICAgICAgcmV0dXJuIGFnZy5hZGQobWFwLnByb2plY3QoY29ybmVyKSk7XG4gICAgfSwgTC5wb2ludCgwLCAwKSk7XG4gICAgcmV0dXJuIG1hcC51bnByb2plY3QocmVkdWNlLmRpdmlkZUJ5KDQpKTtcbiAgfSxcblxuICBfY2FsY3VsYXRlUHJvamVjdGl2ZVRyYW5zZm9ybShsYXRMbmdUb0NhcnRlc2lhbikge1xuICAgIC8qIFNldHRpbmcgcmVhc29uYWJsZSBidXQgbWFkZS11cCBpbWFnZSBkZWZhdWx0c1xuICAgICAqIGFsbG93IHVzIHRvIHBsYWNlIGltYWdlcyBvbiB0aGUgbWFwIGJlZm9yZVxuICAgICAqIHRoZXkndmUgZmluaXNoZWQgZG93bmxvYWRpbmcuICovXG4gICAgY29uc3Qgb2Zmc2V0ID0gbGF0TG5nVG9DYXJ0ZXNpYW4odGhpcy5nZXRDb3JuZXIoMCkpO1xuICAgIGNvbnN0IHcgPSB0aGlzLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCB8fCA1MDA7XG4gICAgY29uc3QgaCA9IHRoaXMuZ2V0RWxlbWVudCgpLm9mZnNldEhlaWdodCB8fCAzNzU7XG4gICAgY29uc3QgYyA9IFtdO1xuICAgIGxldCBqO1xuICAgIC8qIENvbnZlcnQgY29ybmVycyB0byBjb250YWluZXIgcG9pbnRzIChpLmUuIGNhcnRlc2lhbiBjb29yZGluYXRlcykuICovXG4gICAgZm9yIChqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgYy5wdXNoKGxhdExuZ1RvQ2FydGVzaWFuKHRoaXMuZ2V0Q29ybmVyKGopKS5fc3VidHJhY3Qob2Zmc2V0KSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGlzIG1hdHJpeCBkZXNjcmliZXMgdGhlIGFjdGlvbiBvZlxuICAgICAqIHRoZSBDU1MgdHJhbnNmb3JtIG9uIGVhY2ggY29ybmVyIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBJdCBtYXBzIGZyb20gdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGNlbnRlcmVkXG4gICAgICogYXQgdGhlIHVwcGVyIGxlZnQgY29ybmVyIG9mIHRoZSBpbWFnZVxuICAgICAqIHRvIHRoZSByZWdpb24gYm91bmRlZCBieSB0aGUgbGF0bG5ncyBpbiB0aGlzLl9jb3JuZXJzLlxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqIDAsIDAsIGNbMF0ueCwgY1swXS55XG4gICAgICogc2F5cyB0aGF0IHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2VcbiAgICAgKiBtYXBzIHRvIHRoZSBmaXJzdCBsYXRsbmcgaW4gdGhpcy5fY29ybmVycy5cbiAgICAgKi9cbiAgICByZXR1cm4gTC5NYXRyaXhVdGlsLmdlbmVyYWwyRFByb2plY3Rpb24oXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGNbMF0ueCxcbiAgICAgIGNbMF0ueSxcbiAgICAgIHcsXG4gICAgICAwLFxuICAgICAgY1sxXS54LFxuICAgICAgY1sxXS55LFxuICAgICAgMCxcbiAgICAgIGgsXG4gICAgICBjWzJdLngsXG4gICAgICBjWzJdLnksXG4gICAgICB3LFxuICAgICAgaCxcbiAgICAgIGNbM10ueCxcbiAgICAgIGNbM10ueVxuICAgICk7XG4gIH0sXG59KTtcblxuTC5kaXN0b3J0YWJsZUltYWdlT3ZlcmxheSA9IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IEwuRGlzdG9ydGFibGVJbWFnZU92ZXJsYXkoaWQsIG9wdGlvbnMpO1xufTtcblxuTC5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xuICBpZiAoIUwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLmdldENvbnRhaW5lcigpLCAnbGRpJykpIHtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5nZXRDb250YWluZXIoKSwgJ2xkaScpO1xuICB9XG59KTtcbiIsImNvbnN0IGFyciA9IFtdO1xuTC5EaXN0b3J0YWJsZUNvbGxlY3Rpb24gPSBMLkZlYXR1cmVHcm91cC5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgZXhwb3J0T3B0czoge1xuICAgICAgZXhwb3J0U3RhcnRVcmw6ICcvL2V4cG9ydC5tYXBrbml0dGVyLm9yZy9leHBvcnQnLFxuICAgICAgc3RhdHVzVXJsOiAnLy9leHBvcnQubWFwa25pdHRlci5vcmcnLFxuICAgICAgZXhwb3J0VXJsOiAnaHR0cDovL2V4cG9ydC5tYXBrbml0dGVyLm9yZy8nLFxuICAgIH0sXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZShvcHRpb25zKSB7XG4gICAgTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIEwuRmVhdHVyZUdyb3VwLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgTC5VdGlscy5pbml0VHJhbnNsYXRpb24uY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuZWRpdGFibGUgPSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgTC5GZWF0dXJlR3JvdXAucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcblxuICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgIGlmICh0aGlzLmVkaXRhYmxlKSB7IHRoaXMuZWRpdGluZy5lbmFibGUoKTsgfVxuXG4gICAgLyoqXG4gICAgICogYWx0aG91Z2ggd2UgaGF2ZSBhIERpc3RvcnRhYmxlQ29sbGVjdGlvbi5FZGl0IGNsYXNzIHRoYXQgaGFuZGxlcyBjb2xsZWN0aW9uIGV2ZW50cyB0byBrZWVwIG91ciBjb2RlIG1hbmFnYWJsZSxcbiAgICAgKiBldmVudHMgdGhhdCBuZWVkIHRvIGJlIGFkZGVkIG9uIGluZGl2aWR1YWwgaW1hZ2VzIGFyZSBrZXB0IGhlcmUgdG8gZG8gc28gdGhyb3VnaCBgbGF5ZXJhZGRgLlxuICAgICAqL1xuICAgIHRoaXMub24oJ2xheWVyYWRkJywgdGhpcy5fYWRkRXZlbnRzLCB0aGlzKTtcbiAgICB0aGlzLm9uKCdsYXllcnJlbW92ZScsIHRoaXMuX3JlbW92ZUV2ZW50cywgdGhpcyk7XG4gIH0sXG5cbiAgb25SZW1vdmUoKSB7XG4gICAgaWYgKHRoaXMuZWRpdGluZykgeyB0aGlzLmVkaXRpbmcuZGlzYWJsZSgpOyB9XG4gICAgdGhpcy5vZmYoJ2xheWVyYWRkJywgdGhpcy5fYWRkRXZlbnRzLCB0aGlzKTtcbiAgICB0aGlzLm9mZignbGF5ZXJyZW1vdmUnLCB0aGlzLl9yZW1vdmVFdmVudHMsIHRoaXMpO1xuICB9LFxuXG4gIF9hZGRFdmVudHMoZSkge1xuICAgIGNvbnN0IGxheWVyID0gZS5sYXllcjtcblxuICAgIEwuRG9tRXZlbnQub24obGF5ZXIsIHtcbiAgICAgIGRyYWdzdGFydDogdGhpcy5fZHJhZ1N0YXJ0TXVsdGlwbGUsXG4gICAgICBkcmFnOiB0aGlzLl9kcmFnTXVsdGlwbGUsXG4gICAgfSwgdGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGxheWVyLmdldEVsZW1lbnQoKSwge1xuICAgICAgbW91c2Vkb3duOiB0aGlzLl9kZXNlbGVjdE90aGVycyxcbiAgICAgIC8qIEVuYWJsZSBsb25ncHJlc3MgZm9yIG11bHRpIHNlbGVjdCBmb3IgdG91Y2ggZGV2aWNlcy4gKi9cbiAgICAgIGNvbnRleHRtZW51OiB0aGlzLl9sb25nUHJlc3NNdWx0aVNlbGVjdCxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBfcmVtb3ZlRXZlbnRzKGUpIHtcbiAgICBjb25zdCBsYXllciA9IGUubGF5ZXI7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZihsYXllciwge1xuICAgICAgZHJhZ3N0YXJ0OiB0aGlzLl9kcmFnU3RhcnRNdWx0aXBsZSxcbiAgICAgIGRyYWc6IHRoaXMuX2RyYWdNdWx0aXBsZSxcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGxheWVyLmdldEVsZW1lbnQoKSwge1xuICAgICAgbW91c2Vkb3duOiB0aGlzLl9kZXNlbGVjdE90aGVycyxcbiAgICAgIGNvbnRleHRtZW51OiB0aGlzLl9sb25nUHJlc3NNdWx0aVNlbGVjdCxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBfbG9uZ1ByZXNzTXVsdGlTZWxlY3QoZSkge1xuICAgIGlmICghdGhpcy5lZGl0YWJsZSkgeyByZXR1cm47IH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgY29uc3QgZWRpdCA9IGxheWVyLmVkaXRpbmc7XG4gICAgICBpZiAobGF5ZXIuZ2V0RWxlbWVudCgpID09PSBlLnRhcmdldCAmJiBlZGl0LmVuYWJsZWQoKSkge1xuICAgICAgICBMLkRvbVV0aWwudG9nZ2xlQ2xhc3MobGF5ZXIuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gICAgICAgIGlmICh0aGlzLmFueUNvbGxlY3RlZCgpKSB7XG4gICAgICAgICAgbGF5ZXIuZGVzZWxlY3QoKTtcbiAgICAgICAgICB0aGlzLmVkaXRpbmcuX2FkZFRvb2xiYXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVkaXRpbmcuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGlzQ29sbGVjdGVkKG92ZXJsYXkpIHtcbiAgICByZXR1cm4gTC5Eb21VdGlsLmhhc0NsYXNzKG92ZXJsYXkuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gIH0sXG5cbiAgYW55Q29sbGVjdGVkKCkge1xuICAgIGNvbnN0IGxheWVyQXJyID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJBcnIuc29tZSh0aGlzLmlzQ29sbGVjdGVkLmJpbmQodGhpcykpO1xuICB9LFxuXG4gIF90b2dnbGVDb2xsZWN0ZWQoZSwgbGF5ZXIpIHtcbiAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgLyogY29uZGl0aW9uYWwgcHJldmVudHMgZGlzYWJsZWQgaW1hZ2VzIGZyb20gZmxpY2tlcmluZyBtdWx0aS1zZWxlY3QgbW9kZSAqL1xuICAgICAgaWYgKGxheWVyLmVkaXRpbmcuZW5hYmxlZCgpKSB7XG4gICAgICAgIEwuRG9tVXRpbC50b2dnbGVDbGFzcyhlLnRhcmdldCwgJ2NvbGxlY3RlZCcpO1xuICAgICAgICAvLyByZS1vcmRlciBsYXllcnMgYnkgX2xlYWZsZXRfaWQgdG8gbWF0Y2ggdGhlaXIgZGlzcGxheSBvcmRlciBpbiBVSVxuICAgICAgICAvLyBhZGQgbmV3IGxheWVyIHRvIHJpZ2h0IHBvc2l0aW9uIGFuZCBhdm9pZCByZXBpdGl0aW9uXG4gICAgICAgIGNvbnN0IG5ld0FyciA9IGFyci5ldmVyeSgoZWFjaCkgPT4ge1xuICAgICAgICAgIHJldHVybiBlYWNoLl9sZWFmbGV0X2lkICE9PSBsYXllci5fbGVhZmxldF9pZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuZXdBcnIpIHtcbiAgICAgICAgICBhcnIucHVzaChsYXllcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyLnNwbGljZShhcnIuaW5kZXhPZihsYXllciksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYW55Q29sbGVjdGVkKCkpIHsgbGF5ZXIuZGVzZWxlY3QoKTsgfVxuICAgIGVsc2UgeyB0aGlzLmVkaXRpbmcuX3JlbW92ZVRvb2xiYXIoKTsgfVxuICB9LFxuXG4gIF9kZXNlbGVjdE90aGVycyhlKSB7XG4gICAgaWYgKCF0aGlzLmVkaXRhYmxlKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIuZ2V0RWxlbWVudCgpICE9PSBlLnRhcmdldCkge1xuICAgICAgICBsYXllci5kZXNlbGVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQ29sbGVjdGVkKGUsIGxheWVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChlKSB7IEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGUpOyB9XG4gIH0sXG5cbiAgX2RyYWdTdGFydE11bHRpcGxlKGUpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gZS50YXJnZXQ7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGxldCBpO1xuXG4gICAgaWYgKCF0aGlzLmlzQ29sbGVjdGVkKG92ZXJsYXkpKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBsYXllci5fZHJhZ1N0YXJ0UG9pbnRzID0ge307XG4gICAgICBsYXllci5kZXNlbGVjdCgpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBjb25zdCBjID0gbGF5ZXIuZ2V0Q29ybmVyKGkpO1xuICAgICAgICBsYXllci5fZHJhZ1N0YXJ0UG9pbnRzW2ldID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChjKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfZHJhZ011bHRpcGxlKGUpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gZS50YXJnZXQ7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgaWYgKCF0aGlzLmlzQ29sbGVjdGVkKG92ZXJsYXkpKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgdG9wTGVmdCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMCkpO1xuICAgIGNvbnN0IGRlbHRhID0gb3ZlcmxheS5fZHJhZ1N0YXJ0UG9pbnRzWzBdLnN1YnRyYWN0KHRvcExlZnQpO1xuXG4gICAgdGhpcy5fdXBkYXRlQ29sbGVjdGlvbkZyb21Qb2ludHMoZGVsdGEsIG92ZXJsYXkpO1xuICB9LFxuXG4gIF90b1JlbW92ZSgpIHtcbiAgICBjb25zdCBsYXllckFyciA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG5cbiAgICByZXR1cm4gbGF5ZXJBcnIuZmlsdGVyKChsYXllcikgPT4ge1xuICAgICAgY29uc3QgbW9kZSA9IGxheWVyLmVkaXRpbmcuX21vZGU7XG4gICAgICByZXR1cm4gKHRoaXMuaXNDb2xsZWN0ZWQobGF5ZXIpICYmIG1vZGUgIT09ICdsb2NrJyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX3RvTW92ZShvdmVybGF5KSB7XG4gICAgY29uc3QgbGF5ZXJBcnIgPSB0aGlzLmdldExheWVycygpO1xuXG4gICAgcmV0dXJuIGxheWVyQXJyLmZpbHRlcigobGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IG1vZGUgPSBsYXllci5lZGl0aW5nLl9tb2RlO1xuICAgICAgcmV0dXJuIGxheWVyICE9PSBvdmVybGF5ICYmIHRoaXMuaXNDb2xsZWN0ZWQobGF5ZXIpICYmIG1vZGUgIT09ICdsb2NrJztcbiAgICB9KTtcbiAgfSxcblxuICBfdXBkYXRlQ29sbGVjdGlvbkZyb21Qb2ludHMoZGVsdGEsIG92ZXJsYXkpIHtcbiAgICBjb25zdCBsYXllcnNUb01vdmUgPSB0aGlzLl90b01vdmUob3ZlcmxheSk7XG4gICAgY29uc3QgcCA9IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDEsIC1kZWx0YS54LCAxLCAtZGVsdGEueSk7XG4gICAgbGV0IGk7XG5cbiAgICBsYXllcnNUb01vdmUuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IG1vdmVkUG9pbnRzID0ge307XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIG1vdmVkUG9pbnRzW2ldID0gcC50cmFuc2Zvcm0obGF5ZXIuX2RyYWdTdGFydFBvaW50c1tpXSk7XG4gICAgICB9XG4gICAgICBsYXllci5zZXRDb3JuZXJzRnJvbVBvaW50cyhtb3ZlZFBvaW50cyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX2dldEF2Z0NtUGVyUGl4ZWwoaW1ncykge1xuICAgIGNvbnN0IHJlZHVjZSA9IGltZ3MucmVkdWNlKGZ1bmN0aW9uKHN1bSwgaW1nKSB7XG4gICAgICByZXR1cm4gc3VtICsgaW1nLmNtX3Blcl9waXhlbDtcbiAgICB9LCAwKTtcbiAgICByZXR1cm4gcmVkdWNlIC8gaW1ncy5sZW5ndGg7XG4gIH0sXG5cbiAgLy8gY29ubmVjdHMgdG8gSlNPTiBmaWxlIGFuZCBmZXRjaGVzIEpTT04gZGF0YSB0aGVyZWluIGZyb20gcmVtb3RlIHNvdXJjZVxuICBhc3luYyBmZXRjaFJlbW90ZUpzb24odXJsKSB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBjb25zdCBpbWdDb2xsZWN0aW9uUHJvcHMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCh1cmwpO1xuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ2F2Z19jbV9wZXJfcGl4ZWwnKSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2xsZWN0aW9uLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXNwb25zZS5kYXRhLmNvbGxlY3Rpb24uZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaW1nQ29sbGVjdGlvblByb3BzW2luZGV4XSA9IGRhdGE7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdmdfY21fcGVyX3BpeGVsOiByZXNwb25zZS5kYXRhLmF2Z19jbV9wZXJfcGl4ZWwsXG4gICAgICAgICAgICBpbWdDb2xsZWN0aW9uUHJvcHMsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpbWdDb2xsZWN0aW9uUHJvcHNbaW5kZXhdID0gcmVzcG9uc2UuZGF0YS5jb2xsZWN0aW9uO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXZnX2NtX3Blcl9waXhlbDogcmVzcG9uc2UuZGF0YS5hdmdfY21fcGVyX3BpeGVsLFxuICAgICAgICAgIGltZ0NvbGxlY3Rpb25Qcm9wcyxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGltZ0NvbGxlY3Rpb25Qcm9wc1tpbmRleF0gPSBkYXRhO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW1nQ29sbGVjdGlvblByb3BzLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaW1nQ29sbGVjdGlvblByb3BzW2luZGV4XSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbWdDb2xsZWN0aW9uUHJvcHMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gZXhwZWN0cyB1cmwgaW4gdGhpcyBmb3JtYXQ6IGh0dHBzOi8vYXJjaGl2ZS5vcmcvZG93bmxvYWQvbWtsLTEvbWtsLTEuanNvblxuICBhc3luYyByZWNyZWF0ZUltYWdlc0Zyb21Kc29uVXJsKHVybCkge1xuICAgIGxldCBpbWFnZUNvbGxlY3Rpb25PYmogPSB7fTtcblxuICAgIGlmICh1cmwpIHtcbiAgICAgIGltYWdlQ29sbGVjdGlvbk9iaiA9IGF3YWl0IHRoaXMuZmV0Y2hSZW1vdGVKc29uKHVybCk7XG4gICAgICByZXR1cm4gaW1hZ2VDb2xsZWN0aW9uT2JqO1xuICAgIH07XG5cbiAgICByZXR1cm4gaW1hZ2VDb2xsZWN0aW9uT2JqO1xuICB9LFxuXG4gIGdlbmVyYXRlRXhwb3J0SnNvbihhbGxJbWFnZXMgPSBmYWxzZSkge1xuICAgIGNvbnN0IGpzb24gPSB7fTtcbiAgICBqc29uLmltYWdlcyA9IFtdO1xuXG4gICAgdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgIGlmIChhbGxJbWFnZXMgfHwgdGhpcy5pc0NvbGxlY3RlZChsYXllcikpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSBsYXllci5faW1hZ2Uuc3JjLnNwbGl0KCcvJyk7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gc2VjdGlvbnNbc2VjdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IHpjID0gbGF5ZXIuZ2V0Q29ybmVycygpO1xuXG4gICAgICAgIGNvbnN0IGNvcm5lcnMgPSBbXG4gICAgICAgICAge2xhdDogemNbMF0ubGF0LCBsb246IHpjWzBdLmxuZyB8fCB6Y1swXS5sb259LFxuICAgICAgICAgIHtsYXQ6IHpjWzFdLmxhdCwgbG9uOiB6Y1sxXS5sbmcgfHwgemNbMV0ubG9ufSxcbiAgICAgICAgICB7bGF0OiB6Y1szXS5sYXQsIGxvbjogemNbM10ubG5nIHx8IHpjWzNdLmxvbn0sXG4gICAgICAgICAge2xhdDogemNbMl0ubGF0LCBsb246IHpjWzJdLmxuZyB8fCB6Y1syXS5sb259LFxuICAgICAgICBdO1xuXG4gICAgICAgIGpzb24uaW1hZ2VzLnB1c2goe1xuICAgICAgICAgIGlkOiBsYXllci5fbGVhZmxldF9pZCxcbiAgICAgICAgICBzcmM6IGxheWVyLl9pbWFnZS5zcmMsXG4gICAgICAgICAgd2lkdGg6IGxheWVyLl9pbWFnZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGxheWVyLl9pbWFnZS5oZWlnaHQsXG4gICAgICAgICAgdG9vbHRpcFRleHQ6IGxheWVyLmdldFRvb2x0aXBUZXh0KCksXG4gICAgICAgICAgaW1hZ2VfZmlsZV9uYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgICBub2RlczogY29ybmVycyxcbiAgICAgICAgICBjbV9wZXJfcGl4ZWw6IEwuSW1hZ2VVdGlsLmdldENtUGVyUGl4ZWwobGF5ZXIpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGpzb24uaW1hZ2VzID0ganNvbi5pbWFnZXMucmV2ZXJzZSgpO1xuICAgIGpzb24uYXZnX2NtX3Blcl9waXhlbCA9IHRoaXMuX2dldEF2Z0NtUGVyUGl4ZWwoanNvbi5pbWFnZXMpO1xuICAgIHJldHVybiBqc29uO1xuICB9LFxufSk7XG5cbkwuZGlzdG9ydGFibGVDb2xsZWN0aW9uID0gZnVuY3Rpb24oaWQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlQ29sbGVjdGlvbihpZCwgb3B0aW9ucyk7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbkwuRVhJRiA9IGZ1bmN0aW9uIGdldEVYSUZkYXRhKGltZykge1xuICBpZiAoT2JqZWN0LmtleXMoRVhJRi5nZXRBbGxUYWdzKGltZykpLmxlbmd0aCAhPT0gMCkge1xuICAgIGNvbnNvbGUubG9nKEVYSUYuZ2V0QWxsVGFncyhpbWcpKTtcbiAgICBjb25zdCBHUFMgPSBFWElGLmdldEFsbFRhZ3MoaW1nKTtcbiAgICBsZXQgYWx0aXR1ZGU7XG5cbiAgICAvKiBJZiB0aGUgbGF0L2xuZyBpcyBhdmFpbGFibGUuICovXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIEdQUy5HUFNMYXRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBHUFMuR1BTTG9uZ2l0dWRlICE9PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgLy8gc2FkbHksIGVuY29kZWQgaW4gW2RlZ3JlZXMsbWludXRlcyxzZWNvbmRzXVxuICAgICAgLy8gcHJpbWl0aXZlIHZhbHVlID0gR1BTLkdQU0xhdGl0dWRlW3hdLm51bWVyYXRvclxuICAgICAgbGV0IGxhdCA9XG4gICAgICAgIEdQUy5HUFNMYXRpdHVkZVswXSArXG4gICAgICAgIEdQUy5HUFNMYXRpdHVkZVsxXSAvIDYwICtcbiAgICAgICAgR1BTLkdQU0xhdGl0dWRlWzJdIC8gMzYwMDtcbiAgICAgIGxldCBsbmcgPVxuICAgICAgICBHUFMuR1BTTG9uZ2l0dWRlWzBdICtcbiAgICAgICAgR1BTLkdQU0xvbmdpdHVkZVsxXSAvIDYwICtcbiAgICAgICAgR1BTLkdQU0xvbmdpdHVkZVsyXSAvIDM2MDA7XG5cbiAgICAgIGlmIChHUFMuR1BTTGF0aXR1ZGVSZWYgIT09ICdOJykge1xuICAgICAgICBsYXQgPSBsYXQgKiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChHUFMuR1BTTG9uZ2l0dWRlUmVmID09PSAnVycpIHtcbiAgICAgICAgbG5nID0gbG5nICogLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXR0ZW1wdCB0byB1c2UgR1BTIGNvbXBhc3MgaGVhZGluZzsgd2lsbCByZXF1aXJlXG4gICAgLy8gc29tZSB0cmlnIHRvIGNhbGMgY29ybmVyIHBvaW50cywgd2hpY2ggeW91IGNhbiBmaW5kIGJlbG93OlxuXG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICAvLyBcIlRcIiByZWZlcnMgdG8gXCJUcnVlIG5vcnRoXCIsIHNvIC05MC5cbiAgICBpZiAoR1BTLkdQU0ltZ0RpcmVjdGlvblJlZiA9PT0gJ1QnKSB7XG4gICAgICBhbmdsZSA9XG4gICAgICAgIChNYXRoLlBJIC8gMTgwKSAqXG4gICAgICAgIChHUFMuR1BTSW1nRGlyZWN0aW9uLm51bWVyYXRvciAvIEdQUy5HUFNJbWdEaXJlY3Rpb24uZGVub21pbmF0b3IgLSA5MCk7XG4gICAgICAvLyBcIk1cIiByZWZlcnMgdG8gXCJNYWduZXRpYyBub3J0aFwiXG4gICAgfSBlbHNlIGlmIChHUFMuR1BTSW1nRGlyZWN0aW9uUmVmID09PSAnTScpIHtcbiAgICAgIGFuZ2xlID1cbiAgICAgICAgKE1hdGguUEkgLyAxODApICpcbiAgICAgICAgKEdQUy5HUFNJbWdEaXJlY3Rpb24ubnVtZXJhdG9yIC8gR1BTLkdQU0ltZ0RpcmVjdGlvbi5kZW5vbWluYXRvciAtIDkwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ05vIGNvbXBhc3MgZGF0YSBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdPcmllbnRhdGlvbjonLCBHUFMuT3JpZW50YXRpb24pO1xuXG4gICAgLyogSWYgdGhlcmUgaXMgb3JpZW50YXRpb24gZGF0YSAtLSBpLmUuIGxhbmRzY2FwZS9wb3J0cmFpdCBldGMgKi9cbiAgICBpZiAoR1BTLk9yaWVudGF0aW9uID09PSA2KSB7XG4gICAgICAvLyBDQ1dcbiAgICAgIGFuZ2xlICs9IChNYXRoLlBJIC8gMTgwKSAqIC05MDtcbiAgICB9IGVsc2UgaWYgKEdQUy5PcmllbnRhdGlvbiA9PT0gOCkge1xuICAgICAgLy8gQ1dcbiAgICAgIGFuZ2xlICs9IChNYXRoLlBJIC8gMTgwKSAqIDkwO1xuICAgIH0gZWxzZSBpZiAoR1BTLk9yaWVudGF0aW9uID09PSAzKSB7XG4gICAgICAvLyAxODBcbiAgICAgIGFuZ2xlICs9IChNYXRoLlBJIC8gMTgwKSAqIDE4MDtcbiAgICB9XG5cbiAgICAvKiBJZiB0aGVyZSBpcyBhbHRpdHVkZSBkYXRhICovXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIEdQUy5HUFNBbHRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBHUFMuR1BTQWx0aXR1ZGVSZWYgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICAvLyBBdHRlbXB0IHRvIHVzZSBHUFMgYWx0aXR1ZGU6XG4gICAgICAvLyAobWF5IGV2ZW50dWFsbHkgbmVlZCB0byBmaW5kIEVYSUYgZmllbGQgb2YgdmlldyBmb3IgY29ycmVjdGlvbilcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIEdQUy5HUFNBbHRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIEdQUy5HUFNBbHRpdHVkZVJlZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICkge1xuICAgICAgICBhbHRpdHVkZSA9XG4gICAgICAgICAgR1BTLkdQU0FsdGl0dWRlLm51bWVyYXRvciAvIEdQUy5HUFNBbHRpdHVkZS5kZW5vbWluYXRvciArXG4gICAgICAgICAgR1BTLkdQU0FsdGl0dWRlUmVmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWx0aXR1ZGUgPSAwOyAvLyBub25lXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFsZXJ0KCdFWElGIGluaXRpYWxpemVkLiBQcmVzcyBhZ2FpbiB0byB2aWV3IGRhdGEgaW4gY29uc29sZS4nKTtcbiAgfVxufTtcbiIsIkwuRWRpdEhhbmRsZSA9IEwuTWFya2VyLmV4dGVuZCh7XG4gIGluaXRpYWxpemUob3ZlcmxheSwgY29ybmVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGF0bG5nID0gb3ZlcmxheS5nZXRDb3JuZXIoY29ybmVyKTtcblxuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX2hhbmRsZWQgPSBvdmVybGF5O1xuICAgIHRoaXMuX2Nvcm5lciA9IGNvcm5lcjtcblxuICAgIGNvbnN0IG1hcmtlck9wdGlvbnMgPSB7XG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICB6SW5kZXhPZmZzZXQ6IDEwLFxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KCdkcmFnZ2FibGUnKSkge1xuICAgICAgbWFya2VyT3B0aW9ucy5kcmFnZ2FibGUgPSBvcHRpb25zLmRyYWdnYWJsZTtcbiAgICB9XG5cbiAgICBMLk1hcmtlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGxhdGxuZywgbWFya2VyT3B0aW9ucyk7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgTC5NYXJrZXIucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcbiAgICB0aGlzLl9iaW5kTGlzdGVuZXJzKCk7XG4gICAgdGhpcy51cGRhdGVIYW5kbGUoKTtcbiAgfSxcblxuICBvblJlbW92ZShtYXApIHtcbiAgICB0aGlzLl91bmJpbmRMaXN0ZW5lcnMoKTtcbiAgICBMLk1hcmtlci5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuICB9LFxuXG4gIF9vbkhhbmRsZURyYWdTdGFydCgpIHtcbiAgICB0aGlzLl9oYW5kbGVkLmZpcmUoJ2VkaXRzdGFydCcpO1xuICB9LFxuXG4gIF9vbkhhbmRsZURyYWdFbmQoKSB7XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgfSxcblxuICBfZmlyZUVkaXQoKSB7XG4gICAgdGhpcy5faGFuZGxlZC5lZGl0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2hhbmRsZWQuZmlyZSgnZWRpdCcpO1xuICB9LFxuXG4gIF9iaW5kTGlzdGVuZXJzKCkge1xuICAgIHRoaXMub24oe1xuICAgICAgY29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcbiAgICAgIGRyYWdzdGFydDogdGhpcy5fb25IYW5kbGVEcmFnU3RhcnQsXG4gICAgICBkcmFnOiB0aGlzLl9vbkhhbmRsZURyYWcsXG4gICAgICBkcmFnZW5kOiB0aGlzLl9vbkhhbmRsZURyYWdFbmQsXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9oYW5kbGVkLl9tYXAub24oJ3pvb21lbmQnLCB0aGlzLnVwZGF0ZUhhbmRsZSwgdGhpcyk7XG4gICAgdGhpcy5faGFuZGxlZC5vbigndXBkYXRlJywgdGhpcy51cGRhdGVIYW5kbGUsIHRoaXMpO1xuICB9LFxuXG4gIF91bmJpbmRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5vZmYoe1xuICAgICAgY29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcbiAgICAgIGRyYWdzdGFydDogdGhpcy5fb25IYW5kbGVEcmFnU3RhcnQsXG4gICAgICBkcmFnOiB0aGlzLl9vbkhhbmRsZURyYWcsXG4gICAgICBkcmFnZW5kOiB0aGlzLl9vbkhhbmRsZURyYWdFbmQsXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9oYW5kbGVkLl9tYXAub2ZmKCd6b29tZW5kJywgdGhpcy51cGRhdGVIYW5kbGUsIHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZWQub2ZmKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZUhhbmRsZSwgdGhpcyk7XG4gIH0sXG5cbiAgLyogVGFrZXMgdHdvIGxhdGxuZ3MgYW5kIGNhbGN1bGF0ZXMgdGhlIHNjYWxpbmcgZGlmZmVyZW5jZS4gKi9cbiAgX2NhbGN1bGF0ZVNjYWxpbmdGYWN0b3IobGF0bG5nQSwgbGF0bG5nQikge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcblxuICAgIGNvbnN0IGNlbnRlclBvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENlbnRlcigpKTtcbiAgICBjb25zdCBmb3JtZXJQb2ludCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQSk7XG4gICAgY29uc3QgbmV3UG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0IpO1xuICAgIGNvbnN0IGZvcm1lclJhZGl1c1NxdWFyZWQgPSB0aGlzLl9kMihjZW50ZXJQb2ludCwgZm9ybWVyUG9pbnQpO1xuICAgIGNvbnN0IG5ld1JhZGl1c1NxdWFyZWQgPSB0aGlzLl9kMihjZW50ZXJQb2ludCwgbmV3UG9pbnQpO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydChuZXdSYWRpdXNTcXVhcmVkIC8gZm9ybWVyUmFkaXVzU3F1YXJlZCk7XG4gIH0sXG5cbiAgLyogRGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzIGluIGNhcnRlc2lhbiBzcGFjZSwgc3F1YXJlZCAoZGlzdGFuY2UgZm9ybXVsYSkuICovXG4gIF9kMihhLCBiKSB7XG4gICAgY29uc3QgZHggPSBhLnggLSBiLng7XG4gICAgY29uc3QgZHkgPSBhLnkgLSBiLnk7XG5cbiAgICByZXR1cm4gTWF0aC5wb3coZHgsIDIpICsgTWF0aC5wb3coZHksIDIpO1xuICB9LFxuXG4gIC8qIFRha2VzIHR3byBsYXRsbmdzIGFuZCBjYWxjdWxhdGVzIHRoZSBhbmdsZSBiZXR3ZWVuIHRoZW0uICovXG4gIGNhbGN1bGF0ZUFuZ2xlRGVsdGEobGF0bG5nQSwgbGF0bG5nQikge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcblxuXG4gICAgY29uc3QgY2VudGVyUG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KG92ZXJsYXkuZ2V0Q2VudGVyKCkpO1xuICAgIGNvbnN0IGZvcm1lclBvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmdBKTtcbiAgICBjb25zdCBuZXdQb2ludCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQik7XG5cbiAgICBjb25zdCBpbml0aWFsQW5nbGUgPSAoXG4gICAgICBNYXRoLmF0YW4yKGNlbnRlclBvaW50LnkgLSBmb3JtZXJQb2ludC55LCBjZW50ZXJQb2ludC54IC0gZm9ybWVyUG9pbnQueClcbiAgICApO1xuICAgIGNvbnN0IG5ld0FuZ2xlID0gKFxuICAgICAgTWF0aC5hdGFuMihjZW50ZXJQb2ludC55IC0gbmV3UG9pbnQueSwgY2VudGVyUG9pbnQueCAtIG5ld1BvaW50LngpXG4gICAgKTtcblxuICAgIHJldHVybiBuZXdBbmdsZSAtIGluaXRpYWxBbmdsZTtcbiAgfSxcbn0pO1xuIiwiTC5EaXN0b3J0SGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAnZGlzdG9ydCcsXG4gICAgaWNvbjogTC5pY29uKHtcbiAgICAgIGljb25Vcmw6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQWtsRVFWUjRBZXdhZnRJQUFBQ2hTVVJCVk8zQklVNERVUmdHd05rdkwyQjZBa1FUTEJxUDRRQ29TbTdERFhvQkxCWkhEYmZnSUNBSVpqRVYzWVRuOXVWSGRNWlp0Y25DZkkxM2JJenhnMGVtZzZObTZRVmJZejNqeWxFc1hScnZ3b21tYjQ5WDY3akZrejgwZlI5TWIxWXhUenFpV0JTTFlsRXNpa1d4S0JiRm9sZ1VpMkpSTElwRnNTZ1d4YUpZMDNmSEhPdTQwZEgwN2JBeldDeDlHZS9UaVdicEhnZHNqUEdOQjJmL3lTKzd4UkN5aWlaUEpRQUFBQUJKUlU1RXJrSmdnZz09JyxcbiAgICAgIGljb25TaXplOiBbMzIsIDMyXSxcbiAgICAgIGljb25BbmNob3I6IFsxNiwgMTZdLFxuICAgIH0pLFxuICB9LFxuXG4gIF9vbkhhbmRsZURyYWcoKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX2hhbmRsZWQ7XG5cbiAgICBvdmVybGF5LnNldENvcm5lcih0aGlzLl9jb3JuZXIsIHRoaXMuZ2V0TGF0TG5nKCkpO1xuICB9LFxuXG4gIHVwZGF0ZUhhbmRsZSgpIHtcbiAgICB0aGlzLnNldExhdExuZyh0aGlzLl9oYW5kbGVkLmdldENvcm5lcih0aGlzLl9jb3JuZXIpKTtcbiAgfSxcbn0pO1xuXG5MLmRpc3RvcnRIYW5kbGUgPSBmdW5jdGlvbihvdmVybGF5LCBpZHgsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRIYW5kbGUob3ZlcmxheSwgaWR4LCBvcHRpb25zKTtcbn07XG4iLCJMLkRyYWdIYW5kbGUgPSBMLkVkaXRIYW5kbGUuZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIFRZUEU6ICdkcmFnJyxcbiAgICBpY29uOiBMLmljb24oe1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgIGljb25Vcmw6ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXNWSlJFRlVlTnJNVnp0TFhFRVV2bk5WRkFWQkFoWTJhUktiVFpFSEpOcFlhYnVOalNnWWcvR3hkc21QU0prVUFhL1pkVkVYOG1nV1lWdXRiSHhBSGtWc2tqUUJ1VVVnQklTVmhDUWszd25md01sazFydXNOMXdIUHViT3pKbHp2amx6NXN4YzAxTWEvaFVFd1Fud0RJanFjN3V2Z3Y5WVlPODZxZ0l3Q1hRYmROVGxROGtjQ0JIZ0JjaDhUY2xvRjZvSkdyNnBoazZFUUFrZmR6M3p2Z0RyOU1yN0ZnMWZwdEVab004anNtcm9rcGZzaUlGTzRJSWp1RTJ2MUVEbVI0TFJkbFI1R2g1MWhqOEQzNEFCdG04WVR0cW5hMFRna2xJdzVDZ1FndUt4SW9qRWptRlJPZy9NS1FPMjdOa0ZBQis0d0FQb3VHVUppSXZXS0h3YkF4WDJYeVdSS1drcWhUK3BiSm50SlpKdVV6SVNXMCs1aFcrb2J4clZCc2Z2b0gvZHFDQ0p1VTk3R0JoMlZ0ZUxTaVl2QXJtRXJUOEVWb0FLOUJ3N2VuYnBWWW12QVFseW93WWZvcnJINWpYTDJyUEhJL1RLT05EQjd1OUFsYXZkYVRCUHZQbWF6VWVRdXk4ZjdVb21VZ1RFd0lKUEVRM3NRR0UvNmxsMmw5SC9LY0V6QmNmV24ySWNsbHVNM0RwZGRKeFNIdWpsRmtzY2JVUHZtQjBMSFZuTHJJZDdubGFaVmtFYzZRR1hRSTFNQXdaY1dtVlJIZU5hUXdKTU1pVTJjd3k0czdwL1JKMmNrcHZJUXMrY0lzKzVHeml0bG9MS0hVVjNNUFJFdVhiVE9LTzkxZFgzODdnR1RPTnhJZ0VXbStFNjFGRnJwY3lxWExIc0V3aURqRXNqQWtzcXc1WFBvTDlNSFZybjZRUjRxK1hackRhUjRSb1d6cTJ5bWFmdVJBL01xMXN0U3NITFZrY2JkZjlWak9jeDhaSDMrU0ZXY0NXbFZQeVd1VUJPd1VXZEMxd1A1TlZqWWlYRldMTzY5UFo2Q1JUVVk2S1NJb0VLZGY2VDNJenpnSHhuc3lIY3ROQkVrbW42T29iOEV4VURnL2FoR3liZDE3N2NEanpINXhId2dEaVN2b1M3SS9MWnl2eEpaajB3b2Q3dGtYNUcwWFZDN3JFeUxoZkxKakJHYktvTExFZlpXT2J5S2VaNm9ZODJnK3lmNVpuL21KeUhYN1BNZjA0ei9UMy9MY0FBdTRFNmlpeUpxZjBBQUFBQVNVVk9SSzVDWUlJPScsXG4gICAgICBpY29uU2l6ZTogWzMyLCAzMl0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDE2XSxcbiAgICB9KSxcbiAgfSxcblxuICBfb25IYW5kbGVEcmFnKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IGZvcm1lckxhdExuZyA9IG92ZXJsYXkuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcik7XG4gICAgY29uc3QgbmV3TGF0TG5nID0gdGhpcy5nZXRMYXRMbmcoKTtcblxuICAgIG92ZXJsYXkuZHJhZ0J5KGZvcm1lckxhdExuZywgbmV3TGF0TG5nKTtcbiAgfSxcblxuICB1cGRhdGVIYW5kbGUoKSB7XG4gICAgdGhpcy5zZXRMYXRMbmcodGhpcy5faGFuZGxlZC5nZXRDb3JuZXIodGhpcy5fY29ybmVyKSk7XG4gIH0sXG59KTtcblxuTC5kcmFnSGFuZGxlID0gZnVuY3Rpb24ob3ZlcmxheSwgaWR4LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5EcmFnSGFuZGxlKG92ZXJsYXksIGlkeCwgb3B0aW9ucyk7XG59O1xuIiwiTC5GcmVlUm90YXRlSGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAnZnJlZVJvdGF0ZScsXG4gICAgaWNvbjogTC5pY29uKHtcbiAgICAgIGljb25Vcmw6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQWtsRVFWUjRBZXdhZnRJQUFBSGlTVVJCVk1YQmEzSGJTaGdBMFBNcC8xc0NDbzhvQ0VwZ1RhQ1hnSVhBSmlEenlDSm9BVVRtNFVWUUFuczFZOCtzblduVHZKeWVFMTZoa2pEZ0RyZm9OVE1LY3BDOVVQaUxTbzhKeWV0a2pFSHhqUENNeW9TMTk5a0ZvejhJdjFIcE1hTjNxV0RDSG9lZ09La2tSd25KcFJtcm9IZ2lQRkVaOElCZWt6RUd4UXRVRWhLU1MvZkI3RXc0VStseGNHa1ZaRzlRV1dQU0ZBeEJjZEs1OUtBcHVBK3lOd3AydUVkeDFHTjI1c1pKWlVMU2ZBdG03N1NsYk5qanU2TXZHNzV1K1dIUldWUjZyRFZqTVBzZ3dZeVZabDNwTFRwSGt5WUhPeDhzeU1pYXlhSnpsRFRaOVl5YVpORlZraVlIMlpVRUJjVkpKWFZJbXV6NkpzM1FvZmU1OXBxN0RvT1RJTHUrZythMjg4bUNvdWs3LzFpSDRxVFMrMlFkRHBwYlYxWkptcm5EWG5QbmM1VU9zMlowZlVtVHV5QnIra3J2U2lvSnlVbVFPMGRaTTdtZXBNa1duYU5Sa3lySkI2dXNrVFNqeFkzRmxsOGJ2bUp3bERiODNGSjhnTXFBQjgwdXlCWTNUcmI4MlBBZnZqajZ2dUhubHVJZEtnTWVOWE93Y3RLNU5LQm9IaXRyYjFSSmVIUnA1VXg0b2pMZzBhV01IR1F2VU9reElXa0tWc0hzVFBpTlNvOEhEQzVsWklzZ082bjB1TVVkUnZRdUZReEI4VVI0Um1YQzJ2dnNndEVmaEwrbzlKaVF2RTdHR0JUUENLOVFTVWpvTVdnS0R0aGpEcklYK2gvazBJN2d0aDZONWdBQUFBQkpSVTVFcmtKZ2dnPT0nLFxuICAgICAgaWNvblNpemU6IFszMiwgMzJdLFxuICAgICAgaWNvbkFuY2hvcjogWzE2LCAxNl0sXG4gICAgfSksXG4gIH0sXG5cbiAgX29uSGFuZGxlRHJhZygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5faGFuZGxlZDtcbiAgICBjb25zdCBtYXAgPSBvdmVybGF5Ll9tYXA7XG4gICAgY29uc3QgZm9ybWVyTGF0TG5nID0gb3ZlcmxheS5nZXRDb3JuZXIodGhpcy5fY29ybmVyKTtcbiAgICBjb25zdCBuZXdMYXRMbmcgPSB0aGlzLmdldExhdExuZygpO1xuICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5jYWxjdWxhdGVBbmdsZURlbHRhKGZvcm1lckxhdExuZywgbmV3TGF0TG5nKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhbGN1bGF0ZVNjYWxpbmdGYWN0b3IoZm9ybWVyTGF0TG5nLCBuZXdMYXRMbmcpO1xuXG4gICAgaWYgKGFuZ2xlICE9PSAwKSB7IG92ZXJsYXkucm90YXRlQnkoYW5nbGUsICdyYWQnKTsgfVxuXG4gICAgbGV0IGVkZ2VNaW5XaWR0aCA9IG92ZXJsYXkuZWRnZU1pbldpZHRoO1xuICAgIGlmICghZWRnZU1pbldpZHRoKSB7IGVkZ2VNaW5XaWR0aCA9IDUwOyB9IC8qIGp1c3QgaW4gY2FzZSAqL1xuXG4gICAgY29uc3QgY29ybmVyMSA9IG1hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KG92ZXJsYXkuZ2V0Q29ybmVyKDApKTtcbiAgICBjb25zdCBjb3JuZXIyID0gbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMSkpO1xuICAgIGNvbnN0IHcgPSBNYXRoLmFicyhjb3JuZXIxLnggLSBjb3JuZXIyLngpO1xuICAgIGNvbnN0IGggPSBNYXRoLmFicyhjb3JuZXIxLnkgLSBjb3JuZXIyLnkpO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpO1xuICAgIGlmIChkaXN0YW5jZSA+IGVkZ2VNaW5XaWR0aCB8fCBzY2FsZSA+IDEpIHtcbiAgICAgIG92ZXJsYXkuc2NhbGVCeShzY2FsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG92ZXJsYXkuc2NhbGVCeSgxKTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlSGFuZGxlKCkge1xuICAgIHRoaXMuc2V0TGF0TG5nKHRoaXMuX2hhbmRsZWQuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcikpO1xuICB9LFxufSk7XG5cbkwuZnJlZVJvdGF0ZUhhbmRsZSA9IChvdmVybGF5LCBpZHgsIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBMLkZyZWVSb3RhdGVIYW5kbGUob3ZlcmxheSwgaWR4LCBvcHRpb25zKTtcbn07XG4iLCJMLkxvY2tIYW5kbGUgPSBMLkVkaXRIYW5kbGUuZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIFRZUEU6ICdsb2NrJyxcbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgaWNvbjogTC5pY29uKHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICBpY29uVXJsOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUFrbEVRVlI0QWV3YWZ0SUFBQUQ4U1VSQlZPM0JQVTdDWUFBQTBBZGZqSWNRbFJDUUJHN0MzZ2sydUlQRzJSQzNEazE2R3owRlRPMVdacy9nd0dDTVAvMit4c1NsNytuMWVyMUl6OUx0UlFqYVBlTWVPK1RpbkxEQ0pWNzhZcWpkQTA0WW9kS3V4aFVhUEdvUnhNbXh3UlFaU3Q4N1lvNEtFeEdDZUFVeUxMRkI0Yk1hY3h5d0VDbElVMktES1hiSW5UVVlvOEpDZ29GdUdveFFPNXVpd1kxRUE5MVZtRHFyY0tlRG9YOFdkTk5nakFwdm1HR0xYS0lnWFkweEdreFFZSXRyckZGSUVLUTVZbzRLRXg5eXJERkRobEtrSUY2Tk9RNVkrS3BBaGlYV0tFUUk0cHh3aXdvTFB5dXh3UXc3NUZvRTdmWllvY0ZFdXdJN2pIQ0JWMzlnTDkyVFhxL1hpL0FPY21jelptYUlNU2NBQUFBQVNVVk9SSzVDWUlJPScsXG4gICAgICBpY29uU2l6ZTogWzMyLCAzMl0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDE2XSxcbiAgICB9KSxcbiAgfSxcblxuICBvblJlbW92ZShtYXApIHtcbiAgICB0aGlzLnVuYmluZFRvb2x0aXAoKTtcbiAgICBMLkVkaXRIYW5kbGUucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcbiAgfSxcblxuICBfYmluZExpc3RlbmVycygpIHtcbiAgICBjb25zdCBpY29uID0gdGhpcy5nZXRFbGVtZW50KCk7XG5cbiAgICBMLkVkaXRIYW5kbGUucHJvdG90eXBlLl9iaW5kTGlzdGVuZXJzLmNhbGwodGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGljb24sIHtcbiAgICAgIG1vdXNlZG93bjogdGhpcy5fdG9vbHRpcE9uLFxuICAgICAgbW91c2V1cDogdGhpcy5fdG9vbHRpcE9mZixcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsICdwb2ludGVybGVhdmUnLCB0aGlzLl90b29sdGlwT2ZmLCB0aGlzKTtcbiAgfSxcblxuICBfdW5iaW5kTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGljb24gPSB0aGlzLmdldEVsZW1lbnQoKTtcblxuICAgIEwuRWRpdEhhbmRsZS5wcm90b3R5cGUuX2JpbmRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGljb24sIHtcbiAgICAgIG1vdXNlZG93bjogdGhpcy5fdG9vbHRpcE9uLFxuICAgICAgbW91c2V1cDogdGhpcy5fdG9vbHRpcE9mZixcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCAncG9pbnRlcmxlYXZlJywgdGhpcy5fdG9vbHRpcE9mZiwgdGhpcyk7XG4gIH0sXG5cbiAgLyogY2Fubm90IGJlIGRyYWdnZWQgKi9cbiAgX29uSGFuZGxlRHJhZygpIHtcbiAgfSxcblxuICB1cGRhdGVIYW5kbGUoKSB7XG4gICAgdGhpcy5zZXRMYXRMbmcodGhpcy5faGFuZGxlZC5nZXRDb3JuZXIodGhpcy5fY29ybmVyKSk7XG4gIH0sXG5cbiAgX3Rvb2x0aXBPbihlKSB7XG4gICAgY29uc3QgZVAgPSB0aGlzLl9oYW5kbGVkLnBhcmVudEdyb3VwO1xuICAgIGNvbnN0IGVkaXQgPSBlUCA/IGVQLmVkaXRpbmcgOiB0aGlzLl9oYW5kbGVkLmVkaXRpbmc7XG5cbiAgICBpZiAoZS5zaGlmdEtleSkgeyByZXR1cm47IH1cbiAgICBpZiAoIXRoaXMuX2hhbmRsZWQuaXNTZWxlY3RlZCgpICYmIChlUCAmJiAhZVAuaXNDb2xsZWN0ZWQodGhpcy5faGFuZGxlZCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlc0FyciA9IGVkaXQuX2xvY2tIYW5kbGVzO1xuXG4gICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KEwuYmluZChmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl90aW1lb3V0KSB7IGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTsgfVxuXG4gICAgICBpZiAoIXRoaXMuZ2V0VG9vbHRpcCgpKSB7XG4gICAgICAgIHRoaXMuYmluZFRvb2x0aXAoJ0xvY2tlZCEnLCB7cGVybWFuZW50OiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVzQXJyLmVhY2hMYXllcihmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICBpZiAodGhpcyAhPT0gaGFuZGxlKSB7IGhhbmRsZS5jbG9zZVRvb2x0aXAoKTsgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcGVuVG9vbHRpcCgpO1xuICAgIH0sIHRoaXMpLCA1MDApO1xuICB9LFxuXG4gIF90b29sdGlwT2ZmKGUpIHtcbiAgICBjb25zdCBlUCA9IHRoaXMuX2hhbmRsZWQucGFyZW50R3JvdXA7XG4gICAgY29uc3QgZWRpdCA9IGVQID8gZVAuZWRpdGluZyA6IHRoaXMuX2hhbmRsZWQuZWRpdGluZztcblxuICAgIGlmIChlLnNoaWZ0S2V5KSB7IHJldHVybjsgfVxuICAgIGlmICghdGhpcy5faGFuZGxlZC5pc1NlbGVjdGVkKCkgJiYgKGVQICYmICFlUC5pc0NvbGxlY3RlZCh0aGlzLl9oYW5kbGVkKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVzQXJyID0gZWRpdC5fbG9ja0hhbmRsZXM7XG5cbiAgICBpZiAoZS5jdXJyZW50VGFyZ2V0ID09PSBkb2N1bWVudCkge1xuICAgICAgaGFuZGxlc0Fyci5lYWNoTGF5ZXIoZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGhhbmRsZS5jbG9zZVRvb2x0aXAoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl90aW1lcikgeyBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpOyB9XG5cbiAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChMLmJpbmQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsb3NlVG9vbHRpcCgpO1xuICAgIH0sIHRoaXMpLCA0MDApO1xuICB9LFxufSk7XG5cbkwubG9ja0hhbmRsZSA9IGZ1bmN0aW9uKG92ZXJsYXksIGlkeCwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IEwuTG9ja0hhbmRsZShvdmVybGF5LCBpZHgsIG9wdGlvbnMpO1xufTtcbiIsIkwuUm90YXRlSGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAncm90YXRlJyxcbiAgICBpY29uOiBMLmljb24oe1xuICAgICAgaWNvblVybDpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFBa2xFUVZSNEFld2FmdElBQUFIaVNVUkJWTVhCYTNIYlNoZ0EwUE1wLzFzQ0NvOG9DRXBnVGFDWGdJWEFKaUR6eUNKb0FVVG00VVZRQW5zMVk4K3NuV25Udkp5ZUUxNmhrakRnRHJmb05UTUtjcEM5VVBpTFNvOEp5ZXRrakVIeGpQQ015b1MxOTlrRm96OEl2MUhwTWFOM3FXRENIb2VnT0tra1J3bkpwUm1yb0hnaVBGRVo4SUJla3pFR3hRdFVFaEtTUy9mQjdFdzRVK2x4Y0drVlpHOVFXV1BTRkF4QmNkSzU5S0FwdUEreU53cDJ1RWR4MUdOMjVzWkpaVUxTZkF0bTc3U2xiTmpqdTZNdkc3NXUrV0hSV1ZSNnJEVmpNUHNnd1l5VlpsM3BMVHBIa3lZSE94OHN5TWlheWFKemxEVFo5WXlhWk5GVmtpWUgyWlVFQmNWSkpYVkltdXo2SnMzUW9mZTU5cHE3RG9PVElMdStnK2EyODhtQ291azcvMWlINHFUUysyUWREcHBiVjFaSm1ybkRYblBuYzVVT3MyWjBmVW1UdXlCcitrcnZTaW9KeVVtUU8wZFpNN21lcE1rV25hTlJreXJKQjZ1c2tUU2p4WTNGbGw4YnZtSndsRGI4M0ZKOGdNcUFCODB1eUJZM1RyYjgyUEFmdmpqNnZ1SG5sdUlkS2dNZU5YT3djdEs1TktCb0hpdHJiMVJKZUhScDVVeDRvakxnMGFXTUhHUXZVT2t4SVdrS1ZzSHNUUGlOU284SERDNWxaSXNnTzZuMHVNVWRSdlF1RlF4QjhVUjRSbVhDMnZ2c2d0RWZoTCtvOUppUXZFN0dHQlRQQ0s5UVNVam9NV2dLRHRoakRySVgraC9rMEk3Z3RoNk41Z0FBQUFCSlJVNUVya0pnZ2c9PScsXG4gICAgICBpY29uU2l6ZTogWzMyLCAzMl0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDE2XSxcbiAgICB9KSxcbiAgfSxcblxuICBfb25IYW5kbGVEcmFnKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IGZvcm1lckxhdExuZyA9IG92ZXJsYXkuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcik7XG4gICAgY29uc3QgbmV3TGF0TG5nID0gdGhpcy5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBhbmdsZSA9IHRoaXMuY2FsY3VsYXRlQW5nbGVEZWx0YShmb3JtZXJMYXRMbmcsIG5ld0xhdExuZyk7XG5cbiAgICAvKlxuICAgICAqIHJ1bm5pbmcgcm90YXRpb24gbG9naWMgZXZlbiBmb3IgYW4gYW5nbGUgZGVsdGEgb2YgMFxuICAgICAqIHByZXZlbnRzIGEgc21hbGwsIG9jY2FzaW9uYWwgbWFya2VyIGZsaWNrZXJcbiAgICAgKi9cbiAgICBvdmVybGF5LnJvdGF0ZUJ5KGFuZ2xlLCAncmFkJyk7XG4gIH0sXG5cbiAgdXBkYXRlSGFuZGxlKCkge1xuICAgIHRoaXMuc2V0TGF0TG5nKHRoaXMuX2hhbmRsZWQuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcikpO1xuICB9LFxufSk7XG5cbkwucm90YXRlSGFuZGxlID0gZnVuY3Rpb24ob3ZlcmxheSwgaWR4LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5Sb3RhdGVIYW5kbGUob3ZlcmxheSwgaWR4LCBvcHRpb25zKTtcbn07XG4iLCJMLlNjYWxlSGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAnc2NhbGUnLFxuICAgIGljb246IEwuaWNvbih7XG4gICAgICBpY29uVXJsOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUIyWlhKemFXOXVQU0l4TGpFaUlIZHBaSFJvUFNJME5Ua2lJR2hsYVdkb2REMGlORFkwSWlCbGJtRmliR1V0WW1GamEyZHliM1Z1WkQwaWJtVjNJREFnTUNBMU1USWdOVEV5SWlCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElpQnpkSGxzWlQwaUlqNDhjbVZqZENCcFpEMGlZbUZqYTJkeWIzVnVaSEpsWTNRaUlIZHBaSFJvUFNJeE1EQWxJaUJvWldsbmFIUTlJakV3TUNVaUlIZzlJakFpSUhrOUlqQWlJR1pwYkd3OUltNXZibVVpSUhOMGNtOXJaVDBpYm05dVpTSWdZMnhoYzNNOUlpSWdjM1I1YkdVOUlpSXZQanhuSUdOc1lYTnpQU0pqZFhKeVpXNTBUR0Y1WlhJaUlITjBlV3hsUFNJaVBqeDBhWFJzWlQ1TVlYbGxjaUF4UEM5MGFYUnNaVDQ4Y0dGMGFDQmtQU0pOTkRVNUxqQTBPVEUxT1RVek1EUTNNVE0wTERnMkxqa3lOakl6TkRVeE1qVTFNREF5SUZZd0lHZ3RPRFV1TnpFME5UY3pNelUyTXpFeU1Ea2dkakkzTGpBME16Y3hOelF3TXprd05EUTFNaUJJT0RVdU56RTBOVGN6TXpVMk16RXlNRE1nVmpBZ1NEQWdkamcyTGpreU5qSXpORFV4TWpVMU1EQXlJR2d5TlM0M01UUXpOekl3TURZNE9UTTJNallnZGpJNE9TNDNOVFF4TVRVd05ERTRNek0wSUVnd0lIWTROaTQ1TWpZeU16UTFNVEkxTlRBd01pQm9PRFV1TnpFME5UY3pNelUyTXpFeU1Ea2dkaTB5Tnk0d05ETTNNVGMwTURNNU1EUTBOVElnYURJNE5TNDNNVFV5TkRRMU1qRXdOREF6SUhZeU55NHdORE0zTVRjME1ETTVNRFEwTlRJZ2FEZzFMamN4TkRVM016TTFOak14TWpBNUlIWXRPRFl1T1RJMk1qTTBOVEV5TlRVd01ESWdhQzB5TXk0NE1EazJNRE0zTVRBd09EWTJPU0JXT0RZdU9USTJNak0wTlRFeU5UVXdNRElnU0RRMU9TNHdORGt4TlRrMU16QTBOekV6TkNCNlRUTTROQzQzTmpNeE9UVTVOVFV3TURBNUxERXlMalUxTmpBeE1UWTFNVGd4TWpjNE1TQm9OakV1T1RBME9UWTVOalEyTWpJMU16azJJSFkyTWk0M09EQXdOVGd5TlRrd05qTTVNU0JvTFRZeExqa3dORGsyT1RZME5qSXlOVE01TmlCV01USXVOVFUyTURFeE5qVXhPREV5TnpneElIcE5NVEl1TXpnd09Ua3pPVEk1TWpRMU1EVXNNVEl1TlRVMk1ERXhOalV4T0RFeU56Z3hJR2cyTVM0NU1EUTVOamsyTkRZeU1qVXpPVFlnZGpZeUxqYzRNREExT0RJMU9UQTJNemt4SUVneE1pNHpPREE1T1RNNU1qa3lORFV3TlNCV01USXVOVFUyTURFeE5qVXhPREV5TnpneElIcE5OelF1TWpnMU9UWXpOVGMxTkRjd05UTXNORFV4TGpBMU1EVTNNalF4TlRFeU1EWTJJRWd4TWk0ek9EQTVPVE01TWpreU5EVXdOU0IyTFRZeUxqYzRNREExT0RJMU9UQTJNemt4SUdnMk1TNDVNRFE1TmprMk5EWXlNalV6T1RZZ1ZqUTFNUzR3TlRBMU56STBNVFV4TWpBMk5pQjZUVFEwTlM0M01UVTNPREUwTlRJNE1qSTNOQ3cwTlRFdU1EVXdOVGN5TkRFMU1USXdOallnYUMwMk1pNDROVGN6TlRNM09UUTJNamc0TmpRZ2RpMDJNaTQzT0RBd05UZ3lOVGt3TmpNNU1TQm9Oakl1T0RVM016VXpOemswTmpJNE9EWTBJRlkwTlRFdU1EVXdOVGN5TkRFMU1USXdOallnZWswME1EY3VOakl3TkRFMU5URTJOamcwTWpZc016YzJMalk0TURNME9UVTFORE00TXpRMElHZ3RNell1TVRrd05UazNOak01TXpNeE56Y2dkak15TGpnek9EYzVPVGN3TkRjME1URXlJRWc0TlM0M01UUTFOek16TlRZek1USXdNeUIyTFRNeUxqZ3pPRGM1T1Rjd05EYzBNVEV5SUVnME9TNDFNak01TnpVM01UWTVPREF6TWlCV09EWXVPVEkyTWpNME5URXlOVFV3TURJZ2FETTJMakU1TURVNU56WXpPVE16TVRjM0lGWTFNQzR5TWpRd05EWTJNRGN5TlRFeE1qVWdhREk0Tnk0Mk1qQXdNVEk0TVRjNE5EY3lJSFl6Tmk0M01ESXhPRGM1TURVeU9UZzVJR2d6TkM0eU9EVTRNamt6TkRJMU1qUTRNelVnVmpNM05pNDJPREF6TkRrMU5UUXpPRE0wTkNCNklpQnBaRDBpYzNablh6SWlJR05zWVhOelBTSWlJR1pwYkd3OUlpTXhZVEZoWldJaUlHWnBiR3d0YjNCaFkybDBlVDBpTVNJdlBqd3ZaejQ4TDNOMlp6ND0nLFxuICAgICAgaWNvblNpemU6IFszMiwgMzJdLFxuICAgICAgaWNvbkFuY2hvcjogWzE2LCAxNl0sXG4gICAgfSksXG4gIH0sXG5cbiAgX29uSGFuZGxlRHJhZygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5faGFuZGxlZDtcbiAgICBjb25zdCBtYXAgPSBvdmVybGF5Ll9tYXA7XG4gICAgbGV0IGVkZ2VNaW5XaWR0aCA9IG92ZXJsYXkuZWRnZU1pbldpZHRoO1xuICAgIGNvbnN0IGZvcm1lckxhdExuZyA9IG92ZXJsYXkuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcik7XG4gICAgY29uc3QgbmV3TGF0TG5nID0gdGhpcy5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhbGN1bGF0ZVNjYWxpbmdGYWN0b3IoZm9ybWVyTGF0TG5nLCBuZXdMYXRMbmcpO1xuXG4gICAgLypcbiAgICAgKiBjaGVja3Mgd2hldGhlciB0aGUgXCJlZGdlTWluV2lkdGhcIiBwcm9wZXJ0eSBpcyBzZXQgYW5kIHRyYWNrcyB0aGUgbWluaW11bSBlZGdlIGxlbmd0aDtcbiAgICAgKiB0aGlzIGVuYWJsZXMgcHJldmVudGluZyBzY2FsaW5nIHRvIHplcm8sIGJ1dCB3ZSBtaWdodCBhbHNvIGFkZCBhbiBvdmVyYWxsIHNjYWxlIGxpbWl0XG4gICAgICovXG5cbiAgICBpZiAoIWVkZ2VNaW5XaWR0aCkgeyBlZGdlTWluV2lkdGggPSA1MDsgfSAvKiBqdXN0IGluIGNhc2UgKi9cbiAgICBjb25zdCBjb3JuZXIxID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigwKSk7XG4gICAgY29uc3QgY29ybmVyMiA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMSkpO1xuICAgIGNvbnN0IHcgPSBNYXRoLmFicyhjb3JuZXIxLnggLSBjb3JuZXIyLngpO1xuICAgIGNvbnN0IGggPSBNYXRoLmFicyhjb3JuZXIxLnkgLSBjb3JuZXIyLnkpO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpO1xuXG4gICAgaWYgKGRpc3RhbmNlID4gZWRnZU1pbldpZHRoIHx8IHNjYWxlID4gMSkge1xuICAgICAgb3ZlcmxheS5zY2FsZUJ5KHNjYWxlKTtcbiAgICAgIC8qXG4gICAgICAgKiBydW5uaW5nIHNjYWxlIGxvZ2ljIGV2ZW4gZm9yIGEgc2NhbGUgcmF0aW8gb2YgMVxuICAgICAgICogcHJldmVudHMgYSBzbWFsbCwgb2NjYXNpb25hbCBtYXJrZXIgZmxpY2tlclxuICAgICAgICovXG4gICAgfSBlbHNlIHtcbiAgICAgIG92ZXJsYXkuc2NhbGVCeSgxKTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlSGFuZGxlKCkge1xuICAgIHRoaXMuc2V0TGF0TG5nKHRoaXMuX2hhbmRsZWQuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcikpO1xuICB9LFxufSk7XG5cbkwuc2NhbGVIYW5kbGUgPSBmdW5jdGlvbihvdmVybGF5LCBpZHgsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLlNjYWxlSGFuZGxlKG92ZXJsYXksIGlkeCwgb3B0aW9ucyk7XG59O1xuIiwiLyogdGhpcyBpcyB0aGUgYmFzZWNsYXNzIG90aGVyIEljb25TZXRzIGluaGVyaXQgZnJvbSxcbiogd2UgZG9uJ3QgdXNlIGl0IGRpcmVjdGx5ICovXG5MLkljb25TZXQgPSBMLkNsYXNzLmV4dGVuZCh7XG5cbiAgX3N2ZzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPicsXG5cbiAgX3N5bWJvbHM6ICcnLFxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmFkZFN5bWJvbHModGhpcy5fc3ltYm9scyk7XG4gICAgcmV0dXJuIHRoaXMuX3N2ZztcbiAgfSxcblxuICBhZGRTeW1ib2xzKHN5bWJvbHMpIHtcbiAgICB0aGlzLl9zdmcgKz0gc3ltYm9scztcbiAgfSxcbn0pO1xuIiwiTC5LZXltYXBwZXJJY29uU2V0ID0gTC5JY29uU2V0LmV4dGVuZCh7XG5cbiAgX3N5bWJvbHM6XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAyNSAyNVwiIGlkPVwia2V5Ym9hcmRfb3BlblwiPjxwYXRoIGQ9XCJNMTIgMjNsNC00SDhsNCA0em03LTE1aC0yVjZoMnYyem0wIDNoLTJWOWgydjJ6bS0zLTNoLTJWNmgydjJ6bTAgM2gtMlY5aDJ2MnptMCA0SDh2LTJoOHYyek03IDhINVY2aDJ2MnptMCAzSDVWOWgydjJ6bTEtMmgydjJIOFY5em0wLTNoMnYySDhWNnptMyAzaDJ2MmgtMlY5em0wLTNoMnYyaC0yVjZ6bTktM0g0Yy0xLjEgMC0yIC45LTIgMnYxMGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6XCIvPjwvc3ltYm9sPicsXG5cbn0pO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuTC5Ub29sYmFySWNvblNldCA9IEwuSWNvblNldC5leHRlbmQoe1xuICBfc3ltYm9sczpcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJib3JkZXJfY2xlYXJcIj48cGF0aCBkPVwiTTUuMjUgMy43NWgxLjV2LTEuNWgtMS41djEuNXptMCA2aDEuNXYtMS41aC0xLjV2MS41em0wIDZoMS41di0xLjVoLTEuNXYxLjV6bTMtM2gxLjV2LTEuNWgtMS41djEuNXptMCAzaDEuNXYtMS41aC0xLjV2MS41em0tNiAwaDEuNXYtMS41aC0xLjV2MS41em0wLTNoMS41di0xLjVoLTEuNXYxLjV6bTAtM2gxLjV2LTEuNWgtMS41djEuNXptMC0zaDEuNXYtMS41aC0xLjV2MS41em0wLTNoMS41di0xLjVoLTEuNXYxLjV6bTYgNmgxLjV2LTEuNWgtMS41djEuNXptNiAzaDEuNXYtMS41aC0xLjV2MS41em0wLTNoMS41di0xLjVoLTEuNXYxLjV6bTAgNmgxLjV2LTEuNWgtMS41djEuNXptMC05aDEuNXYtMS41aC0xLjV2MS41em0tNiAwaDEuNXYtMS41aC0xLjV2MS41em02LTQuNXYxLjVoMS41di0xLjVoLTEuNXptLTYgMS41aDEuNXYtMS41aC0xLjV2MS41em0zIDEyaDEuNXYtMS41aC0xLjV2MS41em0wLTZoMS41di0xLjVoLTEuNXYxLjV6bTAtNmgxLjV2LTEuNWgtMS41djEuNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiYm9yZGVyX291dGVyXCI+PHBhdGggZD1cIk05Ljc1IDUuMjVoLTEuNXYxLjVoMS41di0xLjV6bTAgM2gtMS41djEuNWgxLjV2LTEuNXptMyAwaC0xLjV2MS41aDEuNXYtMS41em0tMTAuNS02djEzLjVoMTMuNVYyLjI1SDIuMjV6bTEyIDEySDMuNzVWMy43NWgxMC41djEwLjV6bS00LjUtM2gtMS41djEuNWgxLjV2LTEuNXptLTMtM2gtMS41djEuNWgxLjV2LTEuNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiY2FuY2VsXCI+PHBhdGggZD1cIk0xMy4yNzkgNS43NzlsLTEuMDU4LTEuMDU4TDkgNy45NDIgNS43NzkgNC43MjEgNC43MjEgNS43NzkgNy45NDIgOWwtMy4yMjEgMy4yMjEgMS4wNTggMS4wNThMOSAxMC4wNTdsMy4yMjEgMy4yMjIgMS4wNTgtMS4wNThMMTAuMDU3IDl6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cImNyb3Bfcm90YXRlXCI+PHBhdGggZD1cIk01LjYwMyAxNi4xMTdDMy4xNSAxNC45NDcgMS4zOTQgMTIuNTcgMS4xMjUgOS43NUgwQy4zODMgMTQuMzcgNC4yNDUgMTggOC45NjMgMThjLjE3MiAwIC4zMy0uMDE1LjQ5NS0uMDIzTDYuNiAxNS4xMTNsLS45OTcgMS4wMDV6TTkuMDM3IDBjLS4xNzIgMC0uMzMuMDE1LS40OTUuMDNMMTEuNCAyLjg4OGwuOTk4LS45OThhNy44NzYgNy44NzYgMCAwIDEgNC40NzcgNi4zNkgxOEMxNy42MTcgMy42MyAxMy43NTUgMCA5LjAzNyAwek0xMiAxMC41aDEuNVY2QTEuNSAxLjUgMCAwIDAgMTIgNC41SDcuNVY2SDEydjQuNXpNNiAxMlYzSDQuNXYxLjVIM1Y2aDEuNXY2QTEuNSAxLjUgMCAwIDAgNiAxMy41aDZWMTVoMS41di0xLjVIMTVWMTJINnpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiZGVsZXRlX2ZvcmV2ZXJcIj48cGF0aCBkPVwiTTQuNSAxNC4yNWMwIC44MjUuNjc1IDEuNSAxLjUgMS41aDZjLjgyNSAwIDEuNS0uNjc1IDEuNS0xLjV2LTloLTl2OXptMS44NDUtNS4zNGwxLjA1OC0xLjA1OEw5IDkuNDQzbDEuNTktMS41OSAxLjA1OCAxLjA1OC0xLjU5IDEuNTkgMS41OSAxLjU5LTEuMDU4IDEuMDU4TDkgMTEuNTU4bC0xLjU5IDEuNTktMS4wNTgtMS4wNTggMS41OS0xLjU5LTEuNTk3LTEuNTl6TTExLjYyNSAzbC0uNzUtLjc1aC0zLjc1bC0uNzUuNzVIMy43NXYxLjVoMTAuNVYzaC0yLjYyNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiZGlzdG9ydFwiPjxwYXRoIGQ9XCJNMS43IDEuNEg2djEuNGg1LjhWMS40aDQuM3Y0LjNoLTEuNHY1LjhoMS40djQuNGgtNC4zdi0xLjVINnYxLjVIMS43di00LjRoMS40VjUuN0gxLjdWMS40em0xMC4xIDQuM1Y0LjNINnYxLjRINC42djUuOEg2VjEzaDUuOHYtMS41aDEuNFY1LjdoLTEuNHpNMy4xIDIuOHYxLjVoMS41VjIuOEgzLjF6bTEwLjEgMHYxLjVoMS41VjIuOGgtMS41ek0zLjEgMTN2MS40aDEuNVYxM0gzLjF6bTEwLjEgMHYxLjRoMS41VjEzaC0xLjV6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cImV4cGxvcmVcIj48cGF0aCBkPVwiTTkgMS41QzQuODYgMS41IDEuNSA0Ljg2IDEuNSA5YzAgNC4xNCAzLjM2IDcuNSA3LjUgNy41IDQuMTQgMCA3LjUtMy4zNiA3LjUtNy41IDAtNC4xNC0zLjM2LTcuNS03LjUtNy41ek05IDE1Yy0zLjMwOCAwLTYtMi42OTMtNi02IDAtMy4zMDggMi42OTItNiA2LTYgMy4zMDcgMCA2IDIuNjkyIDYgNiAwIDMuMzA3LTIuNjkzIDYtNiA2em0tNC4xMjUtMS44NzVsNS42MzMtMi42MTcgMi42MTctNS42MzMtNS42MzMgMi42MTctMi42MTcgNS42MzN6TTkgOC4xNzVjLjQ1NyAwIC44MjUuMzY3LjgyNS44MjVBLjgyMy44MjMgMCAwIDEgOSA5LjgyNS44MjMuODIzIDAgMCAxIDguMTc1IDljMC0uNDU3LjM2Ny0uODI1LjgyNS0uODI1elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJmbGlwX3RvX2JhY2tcIj48cGF0aCBkPVwiTTYuNzUgNS4yNWgtMS41djEuNWgxLjV2LTEuNXptMCAzaC0xLjV2MS41aDEuNXYtMS41em0wLTZhMS41IDEuNSAwIDAgMC0xLjUgMS41aDEuNXYtMS41em0zIDloLTEuNXYxLjVoMS41di0xLjV6bTQuNS05djEuNWgxLjVjMC0uODI1LS42NzUtMS41LTEuNS0xLjV6bS00LjUgMGgtMS41djEuNWgxLjV2LTEuNXptLTMgMTAuNXYtMS41aC0xLjVhMS41IDEuNSAwIDAgMCAxLjUgMS41em03LjUtM2gxLjV2LTEuNWgtMS41djEuNXptMC0zaDEuNXYtMS41aC0xLjV2MS41em0wIDZjLjgyNSAwIDEuNS0uNjc1IDEuNS0xLjVoLTEuNXYxLjV6bS0xMC41LTcuNWgtMS41djlhMS41IDEuNSAwIDAgMCAxLjUgMS41aDl2LTEuNWgtOXYtOXptNy41LTEuNWgxLjV2LTEuNWgtMS41djEuNXptMCA5aDEuNXYtMS41aC0xLjV2MS41elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJmbGlwX3RvX2Zyb250XCI+PHBhdGggZD1cIk0yLjI1IDkuNzVoMS41di0xLjVoLTEuNXYxLjV6bTAgM2gxLjV2LTEuNWgtMS41djEuNXptMS41IDN2LTEuNWgtMS41YTEuNSAxLjUgMCAwIDAgMS41IDEuNXptLTEuNS05aDEuNXYtMS41aC0xLjV2MS41em05IDloMS41di0xLjVoLTEuNXYxLjV6bTMtMTMuNWgtNy41YTEuNSAxLjUgMCAwIDAtMS41IDEuNXY3LjVhMS41IDEuNSAwIDAgMCAxLjUgMS41aDcuNWMuODI1IDAgMS41LS42NzUgMS41LTEuNXYtNy41YzAtLjgyNS0uNjc1LTEuNS0xLjUtMS41em0wIDloLTcuNXYtNy41aDcuNXY3LjV6bS02IDQuNWgxLjV2LTEuNWgtMS41djEuNXptLTMgMGgxLjV2LTEuNWgtMS41djEuNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiZ2V0X2FwcFwiPjxwYXRoIGQ9XCJNMTQuNjYyIDYuOTVoLTMuMTV2LTQuNUg2Ljc4N3Y0LjVoLTMuMTVMOS4xNSAxMi4ybDUuNTEyLTUuMjV6TTMuNjM3IDEzLjd2MS41aDExLjAyNXYtMS41SDMuNjM3elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJsb2NrXCI+PHBhdGggZD1cIk0xMy41IDZoLS43NVY0LjVDMTIuNzUgMi40MyAxMS4wNy43NSA5IC43NSA2LjkzLjc1IDUuMjUgMi40MyA1LjI1IDQuNVY2SDQuNUMzLjY3NSA2IDMgNi42NzUgMyA3LjVWMTVjMCAuODI1LjY3NSAxLjUgMS41IDEuNWg5Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41VjcuNWMwLS44MjUtLjY3NS0xLjUtMS41LTEuNXpNNi43NSA0LjVBMi4yNDcgMi4yNDcgMCAwIDEgOSAyLjI1YTIuMjQ3IDIuMjQ3IDAgMCAxIDIuMjUgMi4yNVY2aC00LjVWNC41ek0xMy41IDE1aC05VjcuNWg5VjE1ek05IDEyLjc1Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41cy0uNjc1LTEuNS0xLjUtMS41LTEuNS42NzUtMS41IDEuNS42NzUgMS41IDEuNSAxLjV6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cIm9wYWNpdHlcIj48cGF0aCBkPVwiTTEzLjI0NSA2TDkgMS43NjMgNC43NTUgNkE2LjAxNSA2LjAxNSAwIDAgMCAzIDEwLjIzYzAgMS41LjU4NSAzLjA4MiAxLjc1NSA0LjI1MmE1Ljk5MyA1Ljk5MyAwIDAgMCA4LjQ5IDBBNi4wNjYgNi4wNjYgMCAwIDAgMTUgMTAuMjNjMC0xLjUtLjU4NS0zLjA2LTEuNzU1LTQuMjN6TTQuNSAxMC41Yy4wMDgtMS41LjQ2NS0yLjQ1MyAxLjMyLTMuM0w5IDMuOTUybDMuMTggMy4yODVjLjg1NS44NCAxLjMxMyAxLjc2MyAxLjMyIDMuMjYzaC05elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE0IDE4XCIgaWQ9XCJvcGFjaXR5X2VtcHR5XCI+PHBhdGggc3Ryb2tlPVwiIzAwNzhBOFwiIHN0cm9rZS13aWR0aD1cIjEuN1wiIGQ9XCJNMTAuNzA4IDYuMjVBNS4xMTMgNS4xMTMgMCAwIDEgMTIuMiA5Ljg0NmMwIDEuMjc1LS40OTcgMi42Mi0xLjQ5MiAzLjYxNGE1LjA5NCA1LjA5NCAwIDAgMS03LjIxNiAwQTUuMTU2IDUuMTU2IDAgMCAxIDIgOS44NDZjMC0xLjI3NS40OTctMi42MDEgMS40OTItMy41OTZMNy4xIDIuNjQ4bDMuNjA4IDMuNjAyem0wIDBMNy4xIDIuNjQ4IDMuNDkyIDYuMjVBNS4xMTMgNS4xMTMgMCAwIDAgMiA5Ljg0NmMwIDEuMjc1LjQ5NyAyLjYyIDEuNDkyIDMuNjE0YTUuMDk0IDUuMDk0IDAgMCAwIDcuMjE2IDBBNS4xNTYgNS4xNTYgMCAwIDAgMTIuMiA5Ljg0NmE1LjExMyA1LjExMyAwIDAgMC0xLjQ5Mi0zLjU5NnpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxNCAxOFwiIGlkPVwib3BhY2l0aWVzXCI+PGcgZmlsbD1cIiMwMDc4YThcIj48cGF0aCBkPVwibTIuMSAxMC44NWMuMi45OC42OCAxLjg5IDEuMzkgMi42MSAwIDAgLjAxLjAxLjAxLjAxLjk5Ljk5IDIuMyAxLjQ5IDMuNiAxLjQ5aC4wMWMxLjMgMCAyLjYtLjUgMy41OS0xLjUuNzMtLjczIDEuMTktMS42NiAxLjM5LTIuNjF6XCIgb3BhY2l0eT1cIi43NVwiLz48cGF0aCBkPVwibTIgOS44NWMwIC4zNC4wNC42OC4xIDEuMDFoOS45OWMuMDctLjM0LjExLS42Ny4xMS0xLjAxIDAtMS4xMy0uNC0yLjIxLTEuMDgtMy4wOWgtOC4wNGMtLjcuOTEtMS4wOCAyLjAxLTEuMDggMy4wOXpcIiBvcGFjaXR5PVwiLjVcIi8+PHBhdGggZD1cIm0zLjA4IDYuNzVoOC4wM2MtLjEzLS4xNy0uMjYtLjM1LS40MS0uNWwtMy42LTMuNi0zLjYxIDMuNmMtLjE1LjE2LS4yNy4zMy0uNDEuNXpcIiBvcGFjaXR5PVwiLjI1XCIvPjwvZz48cGF0aCBkPVwibTEwLjcxIDYuMjVjLjk1Ljk2IDEuNDkgMi4yNSAxLjQ5IDMuNiAwIDEuMjctLjUgMi42Mi0xLjQ5IDMuNjEtMS45OSAxLjk5LTUuMjEgMi03LjIuMDEgMCAwLS4wMS0uMDEtLjAxLS4wMS0uOTYtLjk2LTEuNS0yLjI2LTEuNS0zLjYxIDAtMS4yNy41LTIuNiAxLjQ5LTMuNmwzLjYxLTMuNnpcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMwMDc4YThcIiBzdHJva2Utd2lkdGg9XCIuMVwiLz48cGF0aCBkPVwibTEwLjcxIDYuMjVjLjk1Ljk2IDEuNDkgMi4yNSAxLjQ5IDMuNiAwIDEuMjctLjUgMi42Mi0xLjQ5IDMuNjEtMS45OSAxLjk5LTUuMjEgMi03LjIuMDEgMCAwLS4wMS0uMDEtLjAxLS4wMS0uOTYtLjk2LTEuNS0yLjI2LTEuNS0zLjYxIDAtMS4yNy41LTIuNiAxLjQ5LTMuNmwzLjYxLTMuNnpcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMwMDc4YThcIiBzdHJva2Utd2lkdGg9XCIxLjdcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwicmVzdG9yZVwiPjxwYXRoIGQ9XCJNMTUuNjcgMy44MzlhLjI5NS4yOTUgMCAwIDAtLjIyLjEwM2wtNS4xMTYgMy4yNDlWNC4xNzlhLjM0Mi4zNDIgMCAwIDAtLjE5My0uMzE1LjI5LjI5IDAgMCAwLS4zMzguMDc4TDMuODA2IDcuNzUxdi00LjYzaC0uMDAybC4wMDItLjAyMmMwLS4yNzctLjIwNC0uNTAyLS40NTYtLjUwMmgtLjg3M1YyLjZjLS4yNTMgMC0uNDU3LjIyNS0uNDU3LjUwM2wuMDAyLjAyNnYxMC44ODNoLjAwNWMuMDIxLjI1Ny4yMTcuNDU0LjQ1Mi40NTVsLjAxNi0uMDAyaC44MjJjLjAxMy4wMDEuMDI1LjAwNC4wMzguMDA0LjI1MiAwIC40NTctLjIyNS40NTctLjUwMmEuNTA1LjUwNSAwIDAgMC0uMDA2LS4wNjhWOS4zMThsNi4wMDEgMy44MTFhLjI4OC4yODggMCAwIDAgLjMzMi4wNzQuMzQuMzQgMCAwIDAgLjE5NC0uMzA2VjkuODc4bDUuMTIgMy4yNTJhLjI4OC4yODggMCAwIDAgLjMzMi4wNzMuMzQuMzQgMCAwIDAgLjE5NC0uMzA2VjQuMThhLjM1OC4zNTggMCAwIDAtLjA5LS4yNC4yOTYuMjk2IDAgMCAwLS4yMTgtLjF6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cInJvdGF0ZVwiPjxwYXRoIGQ9XCJNNS41MDUgNC44MDhMLjY0NSA5LjY3NWw0Ljg2NyA0Ljg2IDQuODY4LTQuODYtNC44NzUtNC44Njh6TTIuNzY4IDkuNjc1TDUuNTEzIDYuOTMgOC4yNSA5LjY3NSA1LjUwNSAxMi40MiAyLjc2OCA5LjY3NXpNMTQuNTIgNC45OEE2LjcxMyA2LjcxMyAwIDAwOS43NSAzVi41N0w2LjU3IDMuNzVsMy4xOCAzLjE4VjQuNWE1LjIzIDUuMjMgMCAwMTMuNzEzIDEuNTM3IDUuMjU1IDUuMjU1IDAgMDEwIDcuNDI2IDUuMjMgNS4yMyAwIDAxLTUuODQzIDEuMDhMNi41MDMgMTUuNjZhNi43NiA2Ljc2IDAgMDAzLjI0Ny44NGMxLjcyNSAwIDMuNDU3LS42NiA0Ljc3LTEuOThhNi43MzUgNi43MzUgMCAwMDAtOS41NHpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwic2NhbGVcIj48cGF0aCBkPVwiTTguMjUgOWgtNmEuNzUuNzUgMCAwMC0uNzUuNzV2NmMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDZhLjc1Ljc1IDAgMDAuNzUtLjc1di02QS43NS43NSAwIDAwOC4yNSA5em0tLjc1IDZIM3YtNC41aDQuNVYxNXptOC45NC0xMy4wMzVhLjc1Ljc1IDAgMDAtLjQwNS0uNDA1Ljc1Ljc1IDAgMDAtLjI4NS0uMDZoLTQuNWEuNzUuNzUgMCAwMDAgMS41aDIuNjkyTDkuOTY3IDYuOTY4YS43NS43NSAwIDAwMCAxLjA2NC43NS43NSAwIDAwMS4wNjUgMEwxNSA0LjA1N1Y2Ljc1YS43NS43NSAwIDEwMS41IDB2LTQuNWEuNzUuNzUgMCAwMC0uMDYtLjI4NXpcIiAvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cInNwaW5uZXJcIj48cGF0aCBkPVwiTTkgNi40OGMtLjIxNiAwLS4zNi0uMTQ0LS4zNi0uMzZWMy4yNGMwLS4yMTYuMTQ0LS4zNi4zNi0uMzZzLjM2LjE0NC4zNi4zNnYyLjg4YzAgLjIxNi0uMTQ0LjM2LS4zNi4zNnpcIi8+PHBhdGggZD1cIk05IDE1LjEyYy0uMjE2IDAtLjM2LS4xNDQtLjM2LS4zNnYtMi44OGMwLS4yMTYuMTQ0LS4zNi4zNi0uMzZzLjM2LjE0NC4zNi4zNnYyLjg4YzAgLjIxNi0uMTQ0LjM2LS4zNi4zNnptMS40NC04LjI4Yy0uMDcyIDAtLjEwOCAwLS4xOC0uMDM2LS4xNDQtLjEwOC0uMjE2LS4yODgtLjEwOC0uNDY4bDEuNDQtMi40ODRjLjEwOC0uMTQ0LjI4OC0uMjE2LjQ2OC0uMTA4LjE0NC4xMDguMjE2LjI4OC4xMDguNDY4bC0xLjQ0IDIuNDg0Yy0uMDcyLjA3Mi0uMTguMTQ0LS4yODguMTQ0em0tNC4zMiA3LjQ4OGMtLjA3MiAwLS4xMDggMC0uMTgtLjAzNi0uMTQ0LS4xMDgtLjIxNi0uMjg4LS4xMDgtLjQ2OGwxLjQ0LTIuNDg0Yy4xMDgtLjE0NC4yODgtLjIxNi40NjgtLjEwOC4xNDQuMTA4LjIxNi4yODguMTA4LjQ2OGwtMS40NCAyLjQ4NGMtLjA3Mi4wNzItLjE4LjE0NC0uMjg4LjE0NHpcIiBvcGFjaXR5PVwiLjNcIi8+PHBhdGggZD1cIk03LjU2IDYuODRjLS4xMDggMC0uMjE2LS4wNzItLjI4OC0uMThsLTEuNDQtMi40ODRjLS4xMDgtLjE0NC0uMDM2LS4zNi4xMDgtLjQ2OC4xNDQtLjEwOC4zNi0uMDM2LjQ2OC4xMDhMNy44NDggNi4zYy4xMDguMTQ0LjAzNi4zNi0uMTA4LjQ2OC0uMDcyLjA3Mi0uMTA4LjA3Mi0uMTguMDcyelwiIG9wYWNpdHk9XCIuOTNcIi8+PHBhdGggZD1cIk0xMS44OCAxNC4zMjhjLS4xMDggMC0uMjE2LS4wNzItLjI4OC0uMThsLTEuNDQtMi40ODRjLS4xMDgtLjE0NC0uMDM2LS4zNi4xMDgtLjQ2OC4xNDQtLjEwOC4zNi0uMDM2LjQ2OC4xMDhsMS40NCAyLjQ4NGMuMTA4LjE0NC4wMzYuMzYtLjEwOC40NjgtLjA3Mi4wMzYtLjEwOC4wNzItLjE4LjA3MnpcIiBvcGFjaXR5PVwiLjNcIi8+PHBhdGggZD1cIk02LjEyIDkuMzZIMy4yNGMtLjIxNiAwLS4zNi0uMTQ0LS4zNi0uMzZzLjE0NC0uMzYuMzYtLjM2aDIuODhjLjIxNiAwIC4zNi4xNDQuMzYuMzZzLS4xNDQuMzYtLjM2LjM2elwiIG9wYWNpdHk9XCIuNjVcIi8+PHBhdGggZD1cIk0xNC43NiA5LjM2aC0yLjg4Yy0uMjE2IDAtLjM2LS4xNDQtLjM2LS4zNnMuMTQ0LS4zNi4zNi0uMzZoMi44OGMuMjE2IDAgLjM2LjE0NC4zNi4zNnMtLjE0NC4zNi0uMzYuMzZ6XCIgb3BhY2l0eT1cIi4zXCIvPjxwYXRoIGQ9XCJNNi41MTYgNy44ODRjLS4wNzIgMC0uMTA4IDAtLjE4LS4wMzZsLTIuNDg0LTEuNDRjLS4xNDQtLjEwOC0uMjE2LS4yODgtLjEwOC0uNDY4LjEwOC0uMTQ0LjI4OC0uMjE2LjQ2OC0uMTA4bDIuNDg0IDEuNDRjLjE0NC4xMDguMjE2LjI4OC4xMDguNDY4YS4zMjcuMzI3IDAgMDEtLjI4OC4xNDR6XCIgb3BhY2l0eT1cIi44NlwiLz48cGF0aCBkPVwiTTE0LjAwNCAxMi4yMDRjLS4wNzIgMC0uMTA4IDAtLjE4LS4wMzZsLTIuNDg0LTEuNDRjLS4xNDQtLjEwOC0uMjE2LS4yODgtLjEwOC0uNDY4LjEwOC0uMTQ0LjI4OC0uMjE2LjQ2OC0uMTA4bDIuNDg0IDEuNDRjLjE0NC4xMDguMjE2LjI4OC4xMDguNDY4YS4zMjcuMzI3IDAgMDEtLjI4OC4xNDR6XCIgb3BhY2l0eT1cIi4zXCIvPjxwYXRoIGQ9XCJNMy45OTYgMTIuMjA0Yy0uMTA4IDAtLjIxNi0uMDcyLS4yODgtLjE4LS4xMDgtLjE0NC0uMDM2LS4zNi4xMDgtLjQ2OGwyLjQ4NC0xLjQ0Yy4xNDQtLjEwOC4zNi0uMDM2LjQ2OC4xMDguMTA4LjE0NC4wMzYuMzYtLjEwOC40NjhsLTIuNDg0IDEuNDRjLS4wMzYuMDcyLS4xMDguMDcyLS4xOC4wNzJ6XCIgb3BhY2l0eT1cIi40NFwiLz48cGF0aCBkPVwiTTExLjQ4NCA3Ljg4NGMtLjEwOCAwLS4yMTYtLjA3Mi0uMjg4LS4xOC0uMTA4LS4xNDQtLjAzNi0uMzYuMTA4LS40NjhsMi40ODQtMS40NGMuMTQ0LS4xMDguMzYtLjAzNi40NjguMTA4LjEwOC4xNDQuMDM2LjM2LS4xMDguNDY4bC0yLjQ4NCAxLjQ0Yy0uMDcyLjA3Mi0uMTA4LjA3Mi0uMTguMDcyelwiIG9wYWNpdHk9XCIuM1wiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJkcmFnXCI+PHBhdGggZD1cIk0yLjMgMTYuNWMtMC4yIDAtMC40LTAuMS0wLjUtMC4yIC0wLjItMC4yLTAuMy0wLjUtMC4yLTAuOGwyLjUtNi41IC0yLjUtNi41QzEuNSAyLjMgMS41IDIgMS43IDEuOGMwLjItMC4yIDAuNS0wLjMgMC44LTAuMmw2LjUgMi41IDYuNS0yLjVjMC4zLTAuMSAwLjYgMCAwLjggMC4yIDAuMiAwLjIgMC4zIDAuNSAwLjIgMC44bC0yLjUgNi41IDIuNSA2LjVjMC4xIDAuMyAwIDAuNi0wLjIgMC44IC0wLjIgMC4yLTAuNSAwLjMtMC44IDAuMmwtNi41LTIuNSAtNi41IDIuNUMyLjQgMTYuNSAyLjMgMTYuNSAyLjMgMTYuNXpNMy42IDMuNmwyIDUuMWMwLjEgMC4yIDAuMSAwLjQgMCAwLjVsLTIgNS4xIDUuMS0yYzAuMi0wLjEgMC40LTAuMSAwLjUgMGw1LjEgMkwxMi40IDkuM2MtMC4xLTAuMi0wLjEtMC40IDAtMC41bDItNS4xTDkuMyA1LjZjLTAuMiAwLjEtMC40IDAuMS0wLjUgMEwzLjYgMy42elwiIC8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwidW5sb2NrXCI+PHBhdGggZD1cIk0xMy41IDZoLS43NVY0LjVDMTIuNzUgMi40MyAxMS4wNy43NSA5IC43NSA2LjkzLjc1IDUuMjUgMi40MyA1LjI1IDQuNWgxLjVBMi4yNDcgMi4yNDcgMCAwIDEgOSAyLjI1YTIuMjQ3IDIuMjQ3IDAgMCAxIDIuMjUgMi4yNVY2SDQuNUMzLjY3NSA2IDMgNi42NzUgMyA3LjVWMTVjMCAuODI1LjY3NSAxLjUgMS41IDEuNWg5Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41VjcuNWMwLS44MjUtLjY3NS0xLjUtMS41LTEuNXptMCA5aC05VjcuNWg5VjE1ek05IDEyLjc1Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41cy0uNjc1LTEuNS0xLjUtMS41LTEuNS42NzUtMS41IDEuNS42NzUgMS41IDEuNSAxLjV6XCIvPjwvc3ltYm9sPicsXG59KTtcbiIsIkwuRGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZSB8fCB7fTtcbkwuZGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAgPSB7fTtcblxuTC5FZGl0QWN0aW9uID0gTC5Ub29sYmFyMi5BY3Rpb24uZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIHRvb2xiYXJJY29uOiB7XG4gICAgICBzdmc6IGZhbHNlLFxuICAgICAgaHRtbDogJycsXG4gICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgdG9vbHRpcDogJycsXG4gICAgfSxcbiAgfSxcblxuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIHRoaXMuX292ZXJsYXkgPSBvdmVybGF5O1xuICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICBMLlRvb2xiYXIyLkFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5faW5qZWN0SWNvblNldCgpO1xuICB9LFxuXG4gIF9jcmVhdGVJY29uKHRvb2xiYXIsIGNvbnRhaW5lciwgYXJncykge1xuICAgIGNvbnN0IGljb25PcHRpb25zID0gdGhpcy5vcHRpb25zLnRvb2xiYXJJY29uO1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGljb25PcHRpb25zLmNsYXNzTmFtZTtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5vcHRpb25zLnRvb2xiYXJJY29uLnN0eWxlO1xuXG4gICAgdGhpcy50b29sYmFyID0gdG9vbGJhcjtcbiAgICB0aGlzLl9pY29uID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGknLCAnJywgY29udGFpbmVyKTtcbiAgICB0aGlzLl9saW5rID0gTC5Eb21VdGlsLmNyZWF0ZSgnYScsICcnLCB0aGlzLl9pY29uKTtcblxuICAgIGlmIChpY29uT3B0aW9ucy5zdmcpIHtcbiAgICAgIHRoaXMuX2xpbmsuaW5uZXJIVE1MID0gTC5JY29uVXRpbC5jcmVhdGUoaWNvbk9wdGlvbnMuaHRtbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpbmsuaW5uZXJIVE1MID0gaWNvbk9wdGlvbnMuaHRtbDtcbiAgICB9XG5cbiAgICB0aGlzLl9saW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsICcjJyk7XG4gICAgdGhpcy5fbGluay5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgaWNvbk9wdGlvbnMudG9vbHRpcCk7XG4gICAgaWYgKHN0eWxlKSB7IHRoaXMuX2xpbmsuc2V0QXR0cmlidXRlKCdzdHlsZScsIHN0eWxlKTsgfTtcbiAgICB0aGlzLl9saW5rLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcblxuICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9saW5rLCB0aGlzLmNvbnN0cnVjdG9yLmJhc2VDbGFzcyk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGluaywgY2xhc3NOYW1lKTtcbiAgICAgIGlmIChjbGFzc05hbWUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2ljb24sIGNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoY2xhc3NOYW1lID09PSBlZGl0Ll9tb2RlKSB7XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9saW5rLCAnc2VsZWN0ZWQtbW9kZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xpbmssICdzZWxlY3RlZC1tb2RlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5vbih0aGlzLl9saW5rLCAnY2xpY2snLCB0aGlzLmVuYWJsZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vbih0aGlzLl9vdmVybGF5LCAndXBkYXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLl9saW5rLmlubmVySFRNTC5tYXRjaCgveGxpbms6aHJlZj1cIiNyZXN0b3JlXCIvKTtcbiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPT09IDEpIHsgdGhpcy5fZW5hYmxlQWN0aW9uKCk7IH1cbiAgICB9KTtcblxuICAgIC8qIEFkZCBzZWNvbmRhcnkgdG9vbGJhciAqL1xuICAgIHRoaXMuX2FkZFN1YlRvb2xiYXIodG9vbGJhciwgdGhpcy5faWNvbiwgYXJncyk7XG4gIH0sXG5cbiAgX2luamVjdEljb25TZXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpY29uc2V0JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsLmlkID0gJ2ljb25zZXQnO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuICAgIGVsLmlubmVySFRNTCA9IG5ldyBMLlRvb2xiYXJJY29uU2V0KCkucmVuZGVyKCk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVhZmxldC1tYXJrZXItcGFuZScpLmFwcGVuZENoaWxkKGVsKTtcbiAgfSxcblxuICBfZW5hYmxlQWN0aW9uKCkge1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9saW5rLnBhcmVudEVsZW1lbnQsICdkaXNhYmxlZCcpO1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9saW5rLCAnZGlzYWJsZWQnKTtcbiAgfSxcblxuICBfZGlzYWJsZUFjdGlvbigpIHtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGluay5wYXJlbnRFbGVtZW50LCAnZGlzYWJsZWQnKTtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGluaywgJ2Rpc2FibGVkJyk7XG4gIH0sXG59KTtcblxuTC5lZGl0QWN0aW9uID0gZnVuY3Rpb24obWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5FZGl0QWN0aW9uKG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG59O1xuIiwiTC5Cb3JkZXJBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IG1vZGUgPSBlZGl0Ll9tb2RlO1xuICAgIGxldCB1c2U7XG4gICAgbGV0IHRvb2x0aXA7XG5cbiAgICBpZiAoZWRpdC5fb3V0bGluZWQpIHtcbiAgICAgIHVzZSA9ICdib3JkZXJfb3V0ZXInO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5yZW1vdmVCb3JkZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZSA9ICdib3JkZXJfY2xlYXInO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5hZGRCb3JkZXI7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6IHVzZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBjbGFzc05hbWU6IG1vZGUgPT09ICdsb2NrJyA/ICdkaXNhYmxlZCcgOiAnJyxcbiAgICB9O1xuXG4gICAgLy8gY29uZGl0aW9uYWwgZm9yIGRpc2FibGluZyBrZXliaW5kaW5ncyBmb3IgdGhpcyBhY3Rpb24gd2hlbiB0aGUgaW1hZ2UgaXMgbG9ja2VkLlxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLmIgPSBtb2RlID09PSAnbG9jaycgPyAnJyA6ICdfdG9nZ2xlQm9yZGVyJztcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcblxuICAgIEwuSWNvblV0aWwudG9nZ2xlWGxpbmsodGhpcy5fbGluaywgJ2JvcmRlcl9jbGVhcicsICdib3JkZXJfb3V0ZXInKTtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVRpdGxlKHRoaXMuX2xpbmssICdSZW1vdmUgQm9yZGVyJywgJ0FkZCBCb3JkZXInKTtcbiAgICBlZGl0Ll90b2dnbGVCb3JkZXIoKTtcbiAgfSxcbn0pO1xuIiwiTC5EZWxldGVBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IHVzZSA9ICdkZWxldGVfZm9yZXZlcic7XG4gICAgbGV0IHRvb2x0aXA7XG4gICAgLyoqXG4gICAgICAqIHdlIGNhbiB0ZWxsIHdoZXRoZXIgdGhlIG92ZXJsYXkgaXMgYW4gaW5zdGFuY2Ugb2YgYEwuRGlzdG9ydGFibGVJbWFnZU92ZXJsYXlgIG9yIGBMLkRpc3RvcnRhYmxlQ29sbGVjdGlvbmAgYmMgb25seVxuICAgICAgKiB0aGUgZm9ybWVyIHNob3VsZCBoYXZlIGBwYXJlbnRHcm91cGAgZGVmaW5lZCBvbiBpdC4gRnJvbSB0aGVyZSB3ZSBjYWxsIHRoZSBhcHBvcnByaWF0ZSBrZXliaW5kaW5ncyBhbmQgbWV0aG9kcy5cbiAgICAgICovXG4gICAgaWYgKGVkaXQgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCkge1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5kZWxldGVJbWFnZTtcbiAgICAgIC8vIGJhY2tzcGFjZSB3aW5kb3dzIC8gZGVsZXRlIG1hY1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAuQmFja3NwYWNlID0gKFxuICAgICAgICBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnJyA6ICdfcmVtb3ZlT3ZlcmxheSdcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvb2x0aXAgPSBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uZGVsZXRlSW1hZ2VzO1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmdyb3VwX2FjdGlvbl9tYXAuQmFja3NwYWNlID0gKFxuICAgICAgICBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnJyA6ICdfcmVtb3ZlR3JvdXAnXG4gICAgICApO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiB1c2UsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgY2xhc3NOYW1lOiBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnZGlzYWJsZWQnIDogJycsXG4gICAgfTtcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcblxuICAgIGlmIChlZGl0IGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQpIHsgZWRpdC5fcmVtb3ZlT3ZlcmxheSgpOyB9XG4gICAgZWxzZSB7IGVkaXQuX3JlbW92ZUdyb3VwKCk7IH1cbiAgfSxcbn0pO1xuIiwiTC5EaXN0b3J0QWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6ICdkaXN0b3J0JyxcbiAgICAgIHRvb2x0aXA6IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5kaXN0b3J0SW1hZ2UsXG4gICAgICBjbGFzc05hbWU6ICdkaXN0b3J0JyxcbiAgICB9O1xuXG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAuZCA9ICdfZGlzdG9ydE1vZGUnO1xuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcbiAgICBlZGl0Ll9kaXN0b3J0TW9kZSgpO1xuICB9LFxufSk7XG4iLCJMLkRyYWdBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ2RyYWcnLFxuICAgICAgdG9vbHRpcDogb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLmRyYWdJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogJ2RyYWcnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5EID0gJ19kcmFnTW9kZSc7XG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGVkaXQuX2RyYWdNb2RlKCk7XG4gIH0sXG59KTtcbiIsIkwuRXhwb3J0QWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgdGltZSB3ZSBzZWxlY3QgYW4gaW1hZ2VcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGxldCB0b29sdGlwO1xuXG4gICAgdGhpcy5pc0V4cG9ydGluZyA9IGZhbHNlO1xuICAgIHRoaXMubW91c2VMZWF2ZVNraXAgPSB0cnVlO1xuICAgIHRoaXMuaXNIb29rc0V4ZWN1dGVkID0gZmFsc2U7XG5cbiAgICBpZiAoZWRpdCBpbnN0YW5jZW9mIEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0KSB7XG4gICAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5lID0gJ19nZXRFeHBvcnQnO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5leHBvcnRJbWFnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmdyb3VwX2FjdGlvbl9tYXAuZSA9ICdydW5FeHBvcnRlcic7XG4gICAgICB0b29sdGlwID0gb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLmV4cG9ydEltYWdlcztcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ2dldF9hcHAnLFxuICAgICAgdG9vbHRpcDogdG9vbHRpcCxcbiAgICB9O1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuXG4gICAgaWYgKGVkaXQgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCkge1xuICAgICAgZWRpdC5fZ2V0RXhwb3J0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgYWRkSG9va3MgaXMgZXhlY3V0ZWQgb25seSBvbmNlLCBldmVudCBsaXN0ZW5lcnMgd2lsbCBoYW5kbGUgdGhlIHJlc3RcbiAgICBpZiAodGhpcy5pc0hvb2tzRXhlY3V0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc0hvb2tzRXhlY3V0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGV4cG9ydFRvb2wgPSB0aGlzLl9saW5rLnBhcmVudEVsZW1lbnQ7XG5cbiAgICB0aGlzLm1vdXNlRW50ZXJIYW5kbGVyID0gdGhpcy5oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3VzZUxlYXZlSGFuZGxlciA9IHRoaXMuaGFuZGxlTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuXG4gICAgTC5Eb21FdmVudC5vbihleHBvcnRUb29sLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc0V4cG9ydGluZykge1xuICAgICAgICB0aGlzLmlzRXhwb3J0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJFeHBvcnRJY29uKCk7XG5cbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmF0dGFjaE1vdXNlRXZlbnRMaXN0ZW5lcnMuYmluZCh0aGlzLCBleHBvcnRUb29sKSwgMTAwKTtcbiAgICAgICAgZWRpdC5ydW5FeHBvcnRlcigpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XG4gICAgICAgICAgICAgIHRoaXMuZGV0YWNoTW91c2VFdmVudExpc3RlbmVycyhleHBvcnRUb29sKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xpY2tpbmcgb24gdGhlIGV4cG9ydCBpY29uIGFmdGVyIGV4cG9ydCBoYXMgc3RhcnRlZCB3aWxsIGJlIGlnbm9yZWRcbiAgICAgICAgaWYgKHRoaXMubW91c2VMZWF2ZVNraXApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcbiAgICAgICAgdGhpcy5kZXRhY2hNb3VzZUV2ZW50TGlzdGVuZXJzKGV4cG9ydFRvb2wpO1xuICAgICAgICBlZGl0LmNhbmNlbEV4cG9ydCgpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuXG4gIHJlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5yZW5kZXJEb3dubG9hZEljb24oKTtcbiAgICB0aGlzLmlzRXhwb3J0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5tb3VzZUxlYXZlU2tpcCA9IHRydWU7XG4gIH0sXG5cbiAgYXR0YWNoTW91c2VFdmVudExpc3RlbmVycyhlbGVtZW50KSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5tb3VzZUVudGVySGFuZGxlcik7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5tb3VzZUxlYXZlSGFuZGxlcik7XG4gIH0sXG5cbiAgZGV0YWNoTW91c2VFdmVudExpc3RlbmVycyhlbGVtZW50KSB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5tb3VzZUVudGVySGFuZGxlcik7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5tb3VzZUxlYXZlSGFuZGxlcik7XG4gIH0sXG5cbiAgaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICB0aGlzLnJlbmRlckNhbmNlbEljb24oKTtcbiAgfSxcblxuICBoYW5kbGVNb3VzZUxlYXZlKCkge1xuICAgIGlmICh0aGlzLm1vdXNlTGVhdmVTa2lwKSB7XG4gICAgICB0aGlzLm1vdXNlTGVhdmVTa2lwID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyRXhwb3J0SWNvbigpO1xuICAgIH1cbiAgfSxcblxuICByZW5kZXJEb3dubG9hZEljb24oKSB7XG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayh0aGlzLl9saW5rLCAnZ2V0X2FwcCcsICdzcGlubmVyJyk7XG4gICAgTC5JY29uVXRpbC50b2dnbGVUaXRsZSh0aGlzLl9saW5rLCAnRXhwb3J0IEltYWdlcycsICdMb2FkaW5nLi4uJyk7XG4gICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xpbmsuZmlyc3RDaGlsZCwgJ2xvYWRlcicpO1xuICB9LFxuXG4gIHJlbmRlckV4cG9ydEljb24oKSB7XG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayh0aGlzLl9saW5rLCAnc3Bpbm5lcicpO1xuICAgIEwuSWNvblV0aWwudG9nZ2xlVGl0bGUodGhpcy5fbGluaywgJ0V4cG9ydCBJbWFnZXMnLCAnTG9hZGluZy4uLicpO1xuICAgIEwuSWNvblV0aWwuYWRkQ2xhc3NUb1N2Zyh0aGlzLl9saW5rLCAnbG9hZGVyJyk7XG4gIH0sXG5cbiAgcmVuZGVyQ2FuY2VsSWNvbigpIHtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVhsaW5rKHRoaXMuX2xpbmssICdjYW5jZWwnKTtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVRpdGxlKHRoaXMuX2xpbmssICdDYW5jZWwgRXhwb3J0JywgJ0xvYWRpbmcuLi4nKTtcbiAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbGluay5maXJzdENoaWxkLCAnbG9hZGVyJyk7XG4gIH0sXG59KTtcbiIsIkwuRnJlZVJvdGF0ZUFjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAnY3JvcF9yb3RhdGUnLFxuICAgICAgdG9vbHRpcDogb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLmZyZWVSb3RhdGVJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogJ2ZyZWVSb3RhdGUnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5mID0gJ19mcmVlUm90YXRlTW9kZSc7XG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGVkaXQuX2ZyZWVSb3RhdGVNb2RlKCk7XG4gIH0sXG59KTtcbiIsIkwuR2VvbG9jYXRlQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWRpdCA9IG92ZXJsYXkuZWRpdGluZztcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAnZXhwbG9yZScsXG4gICAgICB0b29sdGlwOiBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uZ2VvbG9jYXRlSW1hZ2UsXG4gICAgICBjbGFzc05hbWU6IGVkaXQuX21vZGUgPT09ICdsb2NrJyA/ICdkaXNhYmxlZCcgOiAnJyxcbiAgICB9O1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX292ZXJsYXkuZ2V0RWxlbWVudCgpO1xuXG4gICAgRVhJRi5nZXREYXRhKGltYWdlLCBMLkVYSUYoaW1hZ2UpKTtcbiAgfSxcbn0pO1xuIiwiTC5Mb2NrQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWRpdCA9IG92ZXJsYXkuZWRpdGluZztcbiAgICBsZXQgdXNlO1xuICAgIGxldCB0b29sdGlwO1xuXG4gICAgaWYgKGVkaXQgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCkge1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAudSA9ICdfdW5sb2NrJztcbiAgICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLmwgPSAnX2xvY2snO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5sb2NrTW9kZTtcblxuICAgICAgdXNlID0gZWRpdC5pc01vZGUoJ2xvY2snKSA/ICdsb2NrJyA6ICd1bmxvY2snO1xuICAgIH0gZWxzZSB7XG4gICAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuZ3JvdXBfYWN0aW9uX21hcC5sID0gJ19sb2NrR3JvdXAnO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5sb2NrSW1hZ2VzO1xuICAgICAgdXNlID0gJ2xvY2snO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiB1c2UsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgY2xhc3NOYW1lOiAnbG9jaycsXG4gICAgfTtcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcblxuICAgIGlmIChlZGl0IGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQpIHsgZWRpdC5fdG9nZ2xlTG9ja01vZGUoKTsgfVxuICAgIGVsc2UgeyBlZGl0Ll9sb2NrR3JvdXAoKTsgfVxuICB9LFxufSk7XG4iLCJsZXQgb3BhY2l0aWVzID0gWzEwMCwgODAsIDYwLCA0MCwgMjAsIDBdOyAvLyBTZXQgbnVtZXJpYyB2YWx1ZXMgZnJvbSAwIHRvIDEwMC5cblxub3BhY2l0aWVzID0gb3BhY2l0aWVzLm1hcCgobykgPT4ge1xuICBpc05hTihvKSB8fCBvID4gMTAwID8gKG8gPSAxMDApIDogbztcbiAgbyA8IDAgPyAobyA9IDApIDogbztcblxuICByZXR1cm4gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gICAgb3B0aW9uczoge1xuICAgICAgdG9vbGJhckljb246IHtcbiAgICAgICAgaHRtbDogbyxcbiAgICAgICAgdG9vbHRpcDogJ09wYWNpdHkgJyArIG8gKyAnJScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2xlYWZsZXQtdG9vbGJhci1pY29uLXZlcnRpY2FsJyxcbiAgICAgICAgc3R5bGU6XG4gICAgICAgICAgJ2JhY2tncm91bmQtY29sb3I6cmdiKCcgK1xuICAgICAgICAgICgxMDAgLSBvKSArXG4gICAgICAgICAgJyUsJyArXG4gICAgICAgICAgKDEwMCAtIG8pICtcbiAgICAgICAgICAnJSwnICtcbiAgICAgICAgICAoMTAwIC0gbykgK1xuICAgICAgICAgICclKTsnLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGFkZEhvb2tzKCkge1xuICAgICAgdGhpcy5fb3ZlcmxheS5lZGl0aW5nLl9zZXRPcGFjaXRpZXMobyAvIDEwMCk7XG4gICAgfSxcbiAgfSk7XG59KTtcblxuTC5PcGFjaXRpZXNUb29sYmFyMiA9IEwuVG9vbGJhcjIuZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIGNsYXNzTmFtZTogJycsXG4gICAgZmlsdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGFjdGlvbnM6IFtdLFxuICAgIHN0eWxlOiBgdHJhbnNsYXRlKC0xcHgsIC0keyhvcGFjaXRpZXMubGVuZ3RoICsgMSkgKiAzMH1weClgLFxuICB9LFxuXG4gIGFwcGVuZFRvQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgIGxldCBiYXNlQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yLmJhc2VDbGFzcyArICctJyArIHRoaXMuX2NhbGN1bGF0ZURlcHRoKCk7XG4gICAgbGV0IGNsYXNzTmFtZSA9IGJhc2VDbGFzcyArICcgJyArIHRoaXMub3B0aW9ucy5jbGFzc05hbWU7XG4gICAgbGV0IEFjdGlvbjtcbiAgICBsZXQgYWN0aW9uO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuICAgIGxldCBsO1xuICAgIGxldCBtO1xuXG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuX3VsID0gTC5Eb21VdGlsLmNyZWF0ZSgndWwnLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7XG4gICAgdGhpcy5fdWwuc3R5bGUudHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnN0eWxlID8gdGhpcy5vcHRpb25zLnN0eWxlIDogJyc7XG5cbiAgICAvLyBFbnN1cmUgdGhhdCBjbGlja3MsIGRyYWdzLCBldGMuIGRvbid0IGJ1YmJsZSB1cCB0byB0aGUgbWFwLlxuICAgIC8vIFRoZXNlIGFyZSB0aGUgbWFwIGV2ZW50cyB0aGF0IHRoZSBMLkRyYXcuUG9seWxpbmUgaGFuZGxlciBsaXN0ZW5zIGZvci5cbiAgICAvLyBOb3RlIHRoYXQgTC5EcmF3LlBvbHlsaW5lIGxpc3RlbnMgdG8gJ21vdXNldXAnLCBub3QgJ21vdXNlZG93bicsIGJ1dFxuICAgIC8vIGlmIG9ubHkgJ21vdXNldXAnIGlzIHNpbGVuY2VkLCB0aGVuIHRoZSBtYXAgZ2V0cyBzdHVjayBpbiBhIGhhbGZ3YXlcbiAgICAvLyBzdGF0ZSBiZWNhdXNlIGl0IHJlY2VpdmVzIGEgJ21vdXNlZG93bicgZXZlbnQgYW5kIGlzIHdhaXRpbmcgZm9yIHRoZVxuICAgIC8vIGNvcnJlc3BvbmRpbmcgJ21vdXNldXAnIGV2ZW50LlxuICAgIHRoaXMuX2Rpc2FibGVkRXZlbnRzID0gW1xuICAgICAgJ2NsaWNrJyxcbiAgICAgICdtb3VzZW1vdmUnLFxuICAgICAgJ2RibGNsaWNrJyxcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgJ21vdXNldXAnLFxuICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgIF07XG5cbiAgICBmb3IgKGogPSAwLCBtID0gdGhpcy5fZGlzYWJsZWRFdmVudHMubGVuZ3RoOyBqIDwgbTsgaisrKSB7XG4gICAgICBMLkRvbUV2ZW50Lm9uKFxuICAgICAgICB0aGlzLl91bCxcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRFdmVudHNbal0sXG4gICAgICAgIEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qIEluc3RhbnRpYXRlIGVhY2ggdG9vbGJhciBhY3Rpb24gYW5kIGFkZCBpdHMgY29ycmVzcG9uZGluZyB0b29sYmFyIGljb24uICovXG4gICAgZm9yIChpID0gMCwgbCA9IHRoaXMub3B0aW9ucy5hY3Rpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgQWN0aW9uID0gdGhpcy5fZ2V0QWN0aW9uQ29uc3RydWN0b3IodGhpcy5vcHRpb25zLmFjdGlvbnNbaV0pO1xuXG4gICAgICBhY3Rpb24gPSBuZXcgQWN0aW9uKCk7XG4gICAgICBhY3Rpb24uX2NyZWF0ZUljb24odGhpcywgdGhpcy5fdWwsIHRoaXMuX2FyZ3VtZW50cyk7XG4gICAgfVxuICB9LFxufSk7XG5cbkwuT3BhY2l0aWVzQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWRpdCA9IG92ZXJsYXkuZWRpdGluZztcbiAgICBjb25zdCBtb2RlID0gZWRpdC5fbW9kZTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAnb3BhY2l0aWVzJyxcbiAgICAgIHRvb2x0aXA6ICdTZXQgY3VzdG9tIG9wYWNpdHknLFxuICAgICAgY2xhc3NOYW1lOiBtb2RlID09PSAnbG9jaycgPyAnZGlzYWJsZWQnIDogJycsXG4gICAgfTtcblxuICAgIG9wdGlvbnMuc3ViVG9vbGJhciA9IG5ldyBMLk9wYWNpdGllc1Rvb2xiYXIyKHtcbiAgICAgIGFjdGlvbnM6IG9wYWNpdGllcyxcbiAgICB9KTtcblxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLm8gPSBtb2RlID09PSAnbG9jaycgPyAnJyA6ICdfc2V0T3BhY2l0aWVzJztcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgbGluayA9IHRoaXMuX2xpbms7XG4gICAgaWYgKEwuRG9tVXRpbC5oYXNDbGFzcyhsaW5rLCAnc3VidG9vbGJhcl9lbmFibGVkJykpIHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhsaW5rLCAnc3VidG9vbGJhcl9lbmFibGVkJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnN1YlRvb2xiYXIuX2hpZGUoKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhsaW5rLCAnc3VidG9vbGJhcl9lbmFibGVkJyk7XG4gICAgfVxuXG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayhsaW5rLCAnb3BhY2l0aWVzJywgJ2NhbmNlbCcpO1xuICAgIEwuSWNvblV0aWwudG9nZ2xlVGl0bGUobGluaywgJ01ha2UgSW1hZ2UgVHJhbnNwYXJlbnQnLCAnQ2FuY2VsJyk7XG4gIH0sXG59KTtcbiIsIkwuT3BhY2l0eUFjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGVkaXQgPSBvdmVybGF5LmVkaXRpbmc7XG4gICAgY29uc3QgbW9kZSA9IGVkaXQuX21vZGU7XG4gICAgbGV0IHVzZTtcbiAgICBsZXQgdG9vbHRpcDtcblxuICAgIGlmIChlZGl0Ll90cmFuc3BhcmVudCkge1xuICAgICAgdXNlID0gJ29wYWNpdHlfZW1wdHknO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5tYWtlSW1hZ2VPcGFxdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZSA9ICdvcGFjaXR5JztcbiAgICAgIHRvb2x0aXAgPSBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24ubWFrZUltYWdlVHJhbnNwYXJlbnQ7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6IHVzZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBjbGFzc05hbWU6IG1vZGUgPT09ICdsb2NrJyA/ICdkaXNhYmxlZCcgOiAnJyxcbiAgICB9O1xuXG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAubyA9IG1vZGUgPT09ICdsb2NrJyA/ICcnIDogJ190b2dnbGVPcGFjaXR5JztcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcbiAgICBjb25zdCBsaW5rID0gdGhpcy5fbGluaztcblxuICAgIEwuSWNvblV0aWwudG9nZ2xlWGxpbmsobGluaywgJ29wYWNpdHknLCAnb3BhY2l0eV9lbXB0eScpO1xuICAgIEwuSWNvblV0aWwudG9nZ2xlVGl0bGUobGluaywgJ01ha2UgSW1hZ2UgVHJhbnNwYXJlbnQnLCAnTWFrZSBJbWFnZSBPcGFxdWUnKTtcbiAgICBlZGl0Ll90b2dnbGVPcGFjaXR5KCk7XG4gIH0sXG59KTtcbiIsIkwuUmVzdG9yZUFjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1vZGUgPSBMLlV0aWxzLmdldE5lc3RlZFZhbChvdmVybGF5LCAnZWRpdGluZycsICdfbW9kZScpO1xuICAgIGNvbnN0IGVkaXRlZCA9IG92ZXJsYXkuZWRpdGVkO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6ICdyZXN0b3JlJyxcbiAgICAgIHRvb2x0aXA6IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5yZXN0b3JlSW1hZ2UsXG4gICAgICBjbGFzc05hbWU6IGVkaXRlZCAmJiBtb2RlICE9PSAnbG9jaycgPyAnJyA6ICdkaXNhYmxlZCcsXG4gICAgfTtcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuXG4gICAgTC5Eb21FdmVudC5vbihvdiwge1xuICAgICAgZWRpdDogdGhpcy5fZW5hYmxlQWN0aW9uLFxuICAgICAgcmVzdG9yZTogdGhpcy5fZGlzYWJsZUFjdGlvbixcbiAgICB9LCB0aGlzKTtcblxuICAgIG92LnJlc3RvcmUoKTtcbiAgfSxcbn0pO1xuIiwiTC5Sb3RhdGVBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ3JvdGF0ZScsXG4gICAgICB0b29sdGlwOiBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24ucm90YXRlSW1hZ2UsXG4gICAgICBjbGFzc05hbWU6ICdyb3RhdGUnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5yID0gJ19yb3RhdGVNb2RlJztcbiAgICBMLkVkaXRBY3Rpb24ucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBtYXAsIG92ZXJsYXksIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLl9vdmVybGF5LmVkaXRpbmc7XG4gICAgZWRpdC5fcm90YXRlTW9kZSgpO1xuICB9LFxufSk7XG4iLCJMLlNjYWxlQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6ICdzY2FsZScsXG4gICAgICB0b29sdGlwOiBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uc2NhbGVJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogJ3NjYWxlJyxcbiAgICB9O1xuXG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAucyA9ICdfc2NhbGVNb2RlJztcbiAgICBMLkVkaXRBY3Rpb24ucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBtYXAsIG92ZXJsYXksIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLl9vdmVybGF5LmVkaXRpbmc7XG4gICAgZWRpdC5fc2NhbGVNb2RlKCk7XG4gIH0sXG59KTtcbiIsIkwuU3RhY2tBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGxldCB1c2U7XG4gICAgbGV0IHRvb2x0aXA7XG5cbiAgICBpZiAoZWRpdC5fdG9nZ2xlZEltYWdlKSB7XG4gICAgICB1c2UgPSAnZmxpcF90b19iYWNrJztcbiAgICAgIHRvb2x0aXAgPSBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uc3RhY2tUb0Zyb250O1xuICAgIH0gZWxzZSB7XG4gICAgICB1c2UgPSAnZmxpcF90b19mcm9udCc7XG4gICAgICB0b29sdGlwID0gb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLnN0YWNrVG9CYWNrO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiB1c2UsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgY2xhc3NOYW1lOiBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnZGlzYWJsZWQnIDogJycsXG4gICAgfTtcblxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLnEgPSBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnJyA6ICdfc3RhY2tVcCc7XG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAuYSA9IGVkaXQuX21vZGUgPT09ICdsb2NrJyA/ICcnIDogJ19zdGFja0Rvd24nO1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuXG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayh0aGlzLl9saW5rLCAnZmxpcF90b19mcm9udCcsICdmbGlwX3RvX2JhY2snKTtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVRpdGxlKHRoaXMuX2xpbmssICdTdGFjayB0byBGcm9udCcsICdTdGFjayB0byBCYWNrJyk7XG4gICAgZWRpdC5fdG9nZ2xlT3JkZXIoKTtcbiAgfSxcbn0pO1xuIiwiTC5VbmxvY2tBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ3VubG9jaycsXG4gICAgICB0b29sdGlwOiBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24udW5sb2NrSW1hZ2VzLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuZ3JvdXBfYWN0aW9uX21hcC51ID0gJ191bmxvY2tHcm91cCc7XG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGVkaXQuX3VubG9ja0dyb3VwKCk7XG4gIH0sXG59KTtcbiIsIkwuRGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZSB8fCB7fTtcbkwuZGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAgPSB7fTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyID0gTC5Ub29sYmFyMi5Qb3B1cC5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgYW5jaG9yOiBbMCwgLTEwXSxcbiAgfSxcblxuICBpbml0aWFsaXplKGxhdGxuZywgb3B0aW9ucykge1xuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICBMLlRvb2xiYXIyLlBvcHVwLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbGF0bG5nLCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcyhtYXAsIG92KSB7XG4gICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgdGhpcy5vdiA9IG92O1xuICB9LFxuXG4gIHRvb2xzKCkge1xuICAgIGlmICh0aGlzLl91bCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3VsLmNoaWxkcmVuO1xuICAgIH1cbiAgfSxcblxuICBjbGlja1Rvb2wobmFtZSkge1xuICAgIGNvbnN0IHRvb2xzID0gdGhpcy50b29scygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRvb2wgPSB0b29scy5pdGVtKGkpLmNoaWxkcmVuWzBdO1xuICAgICAgaWYgKEwuRG9tVXRpbC5oYXNDbGFzcyh0b29sLCBuYW1lKSkge1xuICAgICAgICB0b29sLmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0b29sO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG59KTtcblxuTC5kaXN0b3J0YWJsZUltYWdlLnBvcHVwQmFyID0gZnVuY3Rpb24obGF0bG5nLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyKGxhdGxuZywgb3B0aW9ucyk7XG59O1xuXG5MLkRpc3RvcnRhYmxlSW1hZ2VPdmVybGF5LmFkZEluaXRIb29rKGZ1bmN0aW9uKCkge1xuICAvKiogRGVmYXVsdCBhY3Rpb25zICovXG4gIHRoaXMuQUNUSU9OUyA9IFtcbiAgICBMLkRyYWdBY3Rpb24sXG4gICAgTC5TY2FsZUFjdGlvbixcbiAgICBMLkRpc3RvcnRBY3Rpb24sXG4gICAgTC5Sb3RhdGVBY3Rpb24sXG4gICAgTC5GcmVlUm90YXRlQWN0aW9uLFxuICAgIEwuTG9ja0FjdGlvbixcbiAgICBMLk9wYWNpdHlBY3Rpb24sXG4gICAgTC5PcGFjaXRpZXNBY3Rpb24sXG4gICAgTC5Cb3JkZXJBY3Rpb24sXG4gICAgTC5FeHBvcnRBY3Rpb24sXG4gICAgTC5EZWxldGVBY3Rpb24sXG4gIF07XG5cbiAgLy8gYWxsIHBvc3NpYmxlIG1vZGVzXG4gIEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTID0ge1xuICAgIGRyYWc6IEwuRHJhZ0FjdGlvbixcbiAgICBzY2FsZTogTC5TY2FsZUFjdGlvbixcbiAgICBkaXN0b3J0OiBMLkRpc3RvcnRBY3Rpb24sXG4gICAgcm90YXRlOiBMLlJvdGF0ZUFjdGlvbixcbiAgICBmcmVlUm90YXRlOiBMLkZyZWVSb3RhdGVBY3Rpb24sXG4gICAgbG9jazogTC5Mb2NrQWN0aW9uLFxuICB9O1xuXG4gIGNvbnN0IGEgPSB0aGlzLm9wdGlvbnMuYWN0aW9ucyA/IHRoaXMub3B0aW9ucy5hY3Rpb25zIDogdGhpcy5BQ1RJT05TO1xuXG4gIHRoaXMuZWRpdGluZyA9IEwuZGlzdG9ydGFibGVJbWFnZS5lZGl0KHRoaXMsIHthY3Rpb25zOiBhfSk7XG59KTtcbiIsIkwuZGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZSB8fCB7fTtcbkwuZGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLmdyb3VwX2FjdGlvbl9tYXAgPSB7fTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLkNvbnRyb2xCYXIgPSBMLlRvb2xiYXIyLkNvbnRyb2wuZXh0ZW5kKHt9KTtcblxuTC5kaXN0b3J0YWJsZUltYWdlLmNvbnRyb2xCYXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5EaXN0b3J0YWJsZUltYWdlLkNvbnRyb2xCYXIob3B0aW9ucyk7XG59O1xuXG4vKiogYWRkSW5pdEhvb2tzIHJ1biBiZWZvcmUgb25BZGQgKi9cbkwuRGlzdG9ydGFibGVDb2xsZWN0aW9uLmFkZEluaXRIb29rKGZ1bmN0aW9uKCkge1xuICAvKiogRGVmYXVsdCBhY3Rpb25zICovXG4gIHRoaXMuQUNUSU9OUyA9IFtcbiAgICBMLkV4cG9ydEFjdGlvbixcbiAgICBMLkRlbGV0ZUFjdGlvbixcbiAgICBMLkxvY2tBY3Rpb24sXG4gICAgTC5VbmxvY2tBY3Rpb24sXG4gIF07XG5cbiAgLy8gYWxsIHBvc3NpYmxlIG1vZGVzXG4gIEwuRGlzdG9ydGFibGVDb2xsZWN0aW9uLkVkaXQuTU9ERVMgPSB7XG4gICAgbG9jazogTC5Mb2NrQWN0aW9uLFxuICAgIHVubG9jazogTC5VbmxvY2tBY3Rpb24sXG4gIH07XG5cbiAgY29uc3QgYSA9IHRoaXMub3B0aW9ucy5hY3Rpb25zID8gdGhpcy5vcHRpb25zLmFjdGlvbnMgOiB0aGlzLkFDVElPTlM7XG5cbiAgdGhpcy5lZGl0aW5nID0gTC5kaXN0b3J0YWJsZUNvbGxlY3Rpb24uZWRpdCh0aGlzLCB7YWN0aW9uczogYX0pO1xufSk7XG4iLCJMLkRpc3RvcnRhYmxlSW1hZ2UgPSBMLkRpc3RvcnRhYmxlSW1hZ2UgfHwge307XG5cbi8vIGhvbGRzIHRoZSBrZXliaW5kaW5ncyAmIHRvb2xiYXIgQVBJIGZvciBhbiBpbmRpdmlkdWFsIGltYWdlIGluc3RhbmNlXG5MLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCA9IEwuSGFuZGxlci5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgb3BhY2l0eTogMC41LFxuICAgIG91dGxpbmU6ICcxcHggc29saWQgcmVkJyxcbiAgICBrZXltYXA6IEwuZGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLFxuICB9LFxuXG4gIGluaXRpYWxpemUob3ZlcmxheSwgb3B0aW9ucykge1xuICAgIHRoaXMuX292ZXJsYXkgPSBvdmVybGF5O1xuICAgIHRoaXMuX3RvZ2dsZWRJbWFnZSA9IGZhbHNlO1xuICAgIHRoaXMuX21vZGUgPSBvdmVybGF5Lm9wdGlvbnMubW9kZTtcbiAgICB0aGlzLl90cmFuc3BhcmVudCA9IGZhbHNlO1xuICAgIHRoaXMuX291dGxpbmVkID0gZmFsc2U7XG4gICAgdGhpcy5fb3BhY2l0eSA9IG9wdGlvbnMub3BhY2l0eTtcblxuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIEwuZGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLkVzY2FwZSA9ICdfZGVzZWxlY3QnO1xuICB9LFxuXG4gIC8qIFJ1biBvbiBpbWFnZSBzZWxlY3Rpb24uICovXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9vdmVybGF5O1xuXG4gICAgdGhpcy5lZGl0QWN0aW9ucyA9IHRoaXMub3B0aW9ucy5hY3Rpb25zO1xuXG4gICAgLyogYnJpbmcgdGhlIHNlbGVjdGVkIGltYWdlIGludG8gdmlldyAqL1xuICAgIG92ZXJsYXkuYnJpbmdUb0Zyb250KCk7XG4gICAgdGhpcy5faW5pdE1vZGVzKCk7XG4gICAgdGhpcy5faW5pdEhhbmRsZXMoKTtcbiAgICB0aGlzLl9hcHBlbmRIYW5kbGVzYW5kRHJhZ2FibGUoKTtcblxuICAgIGlmIChvdmVybGF5LmlzU2VsZWN0ZWQoKSAmJiAhb3ZlcmxheS5vcHRpb25zLnN1cHByZXNzVG9vbGJhcikge1xuICAgICAgdGhpcy5fYWRkVG9vbGJhcigpO1xuICAgIH1cblxuICAgIHRoaXMucGFyZW50R3JvdXAgPSBvdmVybGF5LmVQID8gb3ZlcmxheS5lUCA6IGZhbHNlO1xuXG4gICAgTC5Eb21FdmVudC5vbihvdmVybGF5LmdldEVsZW1lbnQoKSwge1xuICAgICAgZGJsY2xpY2s6IHRoaXMubmV4dE1vZGUsXG4gICAgfSwgdGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKHdpbmRvdywgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuICB9LFxuXG4gIC8qIFJ1biBvbiBpbWFnZSBkZXNlbGVjdGlvbi4gKi9cbiAgcmVtb3ZlSG9va3MoKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgZVAgPSB0aGlzLnBhcmVudEdyb3VwO1xuXG4gICAgLy8gRmlyc3QsIGNoZWNrIGlmIGRyYWdnaW5nIGV4aXN0cyAtIGl0IG1heSBiZSBvZmYgZHVlIHRvIGxvY2tpbmdcbiAgICB0aGlzLl9kaXNhYmxlRHJhZ2dpbmcoKTtcblxuICAgIGlmICh0aGlzLnRvb2xiYXIpIHsgdGhpcy5fcmVtb3ZlVG9vbGJhcigpOyB9XG5cbiAgICBmb3IgKGNvbnN0IGhhbmRsZSBpbiB0aGlzLl9oYW5kbGVzKSB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlKGhhbmRsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZW5zdXJlcyBpZiB5b3UgZGlzYWJsZSBhbiBpbWFnZSB3aGlsZSBpdCBpcyBtdWx0aS1zZWxlY3RlZFxuICAgICAqIGFkZGl0aW9uYWwgZGVzZWxlY3Rpb24gbG9naWMgaXMgcnVuXG4gICAgICovXG4gICAgaWYgKEwuRG9tVXRpbC5oYXNDbGFzcyhvdmVybGF5LmdldEVsZW1lbnQoKSwgJ2NvbGxlY3RlZCcpKSB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3Mob3ZlcmxheS5nZXRFbGVtZW50KCksICdjb2xsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoZVAgJiYgKCFlUC5hbnlDb2xsZWN0ZWQoKSAmJiBlUC5lZGl0aW5nLnRvb2xiYXIpKSB7XG4gICAgICBlUC5lZGl0aW5nLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5vZmYob3ZlcmxheS5nZXRFbGVtZW50KCksIHtcbiAgICAgIGRibGNsaWNrOiB0aGlzLm5leHRNb2RlLFxuICAgIH0sIHRoaXMpO1xuXG4gICAgTC5Eb21FdmVudC5vZmYod2luZG93LCAna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgdGhpcyk7XG4gIH0sXG5cbiAgZGlzYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIHRoaXMuX292ZXJsYXkuZGVzZWxlY3QoKTtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVIb29rcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9pbml0TW9kZXMoKSB7XG4gICAgdGhpcy5fbW9kZXMgPSB7fTtcbiAgICAvLyBwYXNzZWQgZnJvbSBMLkRpc3RvcnRhYmxJbWFnZS5Qb3B1cEJhci4gSWYgdGhlIG1vZGUgaXMgb25lXG4gICAgLy8gb2YgdGhlIGN1cnJlbnQgdG9vbGJhciBhY3Rpb25zLCBhZGRzIGl0IHRvIHRoaXMuX21vZGVzXG4gICAgZm9yIChjb25zdCBtb2RlIGluIEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTKSB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdC5NT0RFU1ttb2RlXTtcbiAgICAgIGlmICh0aGlzLmVkaXRBY3Rpb25zLmluZGV4T2YoYWN0aW9uKSAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5fbW9kZXNbbW9kZV0gPSBhY3Rpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0cyB0aGUgY3VycmVudCBtb2RlIHRvIHRoZSAxc3QgYXZhaWxhYmxlIG9uZSBpZiB0aGUgb25lIHNlbGVjdGVkXG4gICAgLy8gZHVyaW5nIGluaXRpYWxpemF0aW9uIGlzIG5vdCBhdmFpbGFibGVcbiAgICBpZiAoIXRoaXMuX21vZGVzW3RoaXMuX21vZGVdKSB7XG4gICAgICB0aGlzLl9tb2RlID0gT2JqZWN0LmtleXModGhpcy5fbW9kZXMpWzBdO1xuICAgIH1cbiAgfSxcblxuXG4gIF9pbml0SGFuZGxlcygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBsZXQgaTtcblxuICAgIHRoaXMuX2RyYWdIYW5kbGVzID0gTC5sYXllckdyb3VwKCk7XG4gICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGhpcy5fZHJhZ0hhbmRsZXMuYWRkTGF5ZXIoTC5kcmFnSGFuZGxlKG92ZXJsYXksIGkpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zY2FsZUhhbmRsZXMgPSBMLmxheWVyR3JvdXAoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLl9zY2FsZUhhbmRsZXMuYWRkTGF5ZXIoTC5zY2FsZUhhbmRsZShvdmVybGF5LCBpKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGlzdG9ydEhhbmRsZXMgPSBMLmxheWVyR3JvdXAoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLl9kaXN0b3J0SGFuZGxlcy5hZGRMYXllcihMLmRpc3RvcnRIYW5kbGUob3ZlcmxheSwgaSkpO1xuICAgIH1cblxuICAgIHRoaXMuX3JvdGF0ZUhhbmRsZXMgPSBMLmxheWVyR3JvdXAoKTsgLy8gaW5kaXZpZHVhbCByb3RhdGVcbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLl9yb3RhdGVIYW5kbGVzLmFkZExheWVyKEwucm90YXRlSGFuZGxlKG92ZXJsYXksIGkpKTtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgaW5jbHVkZXMgcm90YXRlIEFORCBzY2FsZVxuICAgIHRoaXMuX2ZyZWVSb3RhdGVIYW5kbGVzID0gTC5sYXllckdyb3VwKCk7XG4gICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGhpcy5fZnJlZVJvdGF0ZUhhbmRsZXMuYWRkTGF5ZXIoTC5mcmVlUm90YXRlSGFuZGxlKG92ZXJsYXksIGkpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sb2NrSGFuZGxlcyA9IEwubGF5ZXJHcm91cCgpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuX2xvY2tIYW5kbGVzLmFkZExheWVyKEwubG9ja0hhbmRsZShvdmVybGF5LCBpLCB7ZHJhZ2dhYmxlOiBmYWxzZX0pKTtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVzID0ge1xuICAgICAgZHJhZzogdGhpcy5fZHJhZ0hhbmRsZXMsXG4gICAgICBzY2FsZTogdGhpcy5fc2NhbGVIYW5kbGVzLFxuICAgICAgZGlzdG9ydDogdGhpcy5fZGlzdG9ydEhhbmRsZXMsXG4gICAgICByb3RhdGU6IHRoaXMuX3JvdGF0ZUhhbmRsZXMsXG4gICAgICBmcmVlUm90YXRlOiB0aGlzLl9mcmVlUm90YXRlSGFuZGxlcyxcbiAgICAgIGxvY2s6IHRoaXMuX2xvY2tIYW5kbGVzLFxuICAgIH07XG4gIH0sXG5cbiAgX2FwcGVuZEhhbmRsZXNhbmREcmFnYWJsZSgpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG5cbiAgICAvLyB3b24ndCB0aHJvdyBlcnJvciBpZiB1c2VyIGFkZHMgMCBtb2RlIGFjdGlvbnMgdG8gdG9vbGJhclxuICAgIGlmICghdGhpcy5fbW9kZSkge1xuICAgICAgdGhpcy5fZW5hYmxlRHJhZ2dpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVIYW5kbGUoKTtcblxuICAgIGlmICghb3YuaXNTZWxlY3RlZCgpICYmIHRoaXMuY3VycmVudEhhbmRsZSkge1xuICAgICAgdGhpcy5jdXJyZW50SGFuZGxlLmVhY2hMYXllcigoaGFuZGxlKSA9PiB7XG4gICAgICAgIGhhbmRsZS5zZXRPcGFjaXR5KDApO1xuICAgICAgICBpZiAoaGFuZGxlLmRyYWdnaW5nKSB7IGhhbmRsZS5kcmFnZ2luZy5kaXNhYmxlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNNb2RlKCdsb2NrJykpIHsgdGhpcy5fZW5hYmxlRHJhZ2dpbmcoKTsgfVxuICB9LFxuXG4gIF9vbktleURvd24oZSkge1xuICAgIGNvbnN0IGtleW1hcCA9IHRoaXMub3B0aW9ucy5rZXltYXA7XG4gICAgY29uc3QgaGFuZGxlck5hbWUgPSBrZXltYXBbZS5rZXldO1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG5cbiAgICBpZiAoZVAgJiYgZVAuYW55Q29sbGVjdGVkKCkpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAodGhpc1toYW5kbGVyTmFtZV0gIT09IHVuZGVmaW5lZCAmJiAhb3Yub3B0aW9ucy5zdXBwcmVzc1Rvb2xiYXIpIHtcbiAgICAgIGlmIChvdi5pc1NlbGVjdGVkKCkgJiYgdGhpcy50b29sYmFyKSB7XG4gICAgICAgIHRoaXNbaGFuZGxlck5hbWVdLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHJlcGxhY2VUb29sKG9sZCwgbmV4dCkge1xuICAgIGlmIChuZXh0LmJhc2VDbGFzcyAhPT0gJ2xlYWZsZXQtdG9vbGJhci1pY29uJyB8fCB0aGlzLmhhc1Rvb2wobmV4dCkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGlzLmVkaXRBY3Rpb25zLnNvbWUoKGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgaWYgKGl0ZW0gPT09IG9sZCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgICAgIHRoaXMuZWRpdEFjdGlvbnNbaWR4XSA9IG5leHQ7XG4gICAgICAgIHRoaXMuX2FkZFRvb2xiYXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBtb2RlIGluIEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTKSB7XG4gICAgICAgICAgaWYgKEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTW21vZGVdID09PSBvbGQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9tb2Rlc1ttb2RlXTtcbiAgICAgICAgICAgIHRoaXMuX25leHRPck5vbmUobW9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdC5NT0RFU1ttb2RlXSA9PT0gbmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fbW9kZXNbbW9kZV0gPSBuZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBhZGRUb29sKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlLmJhc2VDbGFzcyA9PT0gJ2xlYWZsZXQtdG9vbGJhci1pY29uJyAmJiAhdGhpcy5oYXNUb29sKHZhbHVlKSkge1xuICAgICAgdGhpcy5fcmVtb3ZlVG9vbGJhcigpO1xuICAgICAgdGhpcy5lZGl0QWN0aW9ucy5wdXNoKHZhbHVlKTtcbiAgICAgIHRoaXMuX2FkZFRvb2xiYXIoKTtcbiAgICAgIGZvciAoY29uc3QgbW9kZSBpbiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdC5NT0RFUykge1xuICAgICAgICBpZiAoTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVNbbW9kZV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fbW9kZXNbbW9kZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9vdmVybGF5LmlzU2VsZWN0ZWQoKSkgeyB0aGlzLl9yZW1vdmVUb29sYmFyKCk7IH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgaGFzVG9vbCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmVkaXRBY3Rpb25zLnNvbWUoYWN0aW9uID0+IGFjdGlvbiA9PT0gdmFsdWUpO1xuICB9LFxuXG4gIHJlbW92ZVRvb2wodmFsdWUpIHtcbiAgICB0aGlzLmVkaXRBY3Rpb25zLnNvbWUoKGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgaWYgKGl0ZW0gPT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICAgICAgdGhpcy5lZGl0QWN0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5fYWRkVG9vbGJhcigpO1xuICAgICAgICBmb3IgKGNvbnN0IG1vZGUgaW4gTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVMpIHtcbiAgICAgICAgICBpZiAoTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVNbbW9kZV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbW9kZXNbbW9kZV07XG4gICAgICAgICAgICB0aGlzLl9uZXh0T3JOb25lKG1vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXRoaXMuX292ZXJsYXkuaXNTZWxlY3RlZCgpKSB7IHRoaXMuX3JlbW92ZVRvb2xiYXIoKTsgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8vIHNldCB0aGUgbW9kZSB0byB0aGUgbmV4dCBtb2RlIG9yIGlmIHRoYXQgd2FzIHRoZSBsYXN0IG9uZSBzZXQgbW9kZSB0byAnJ1xuICBfbmV4dE9yTm9uZShtb2RlKSB7XG4gICAgaWYgKHRoaXMuaXNNb2RlKG1vZGUpKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5nZXRNb2RlcygpKS5sZW5ndGggPj0gMSkge1xuICAgICAgICB0aGlzLm5leHRNb2RlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xvY2snKSB7IHRoaXMuX2VuYWJsZURyYWdnaW5nKCk7IH1cbiAgICAgICAgdGhpcy5fbW9kZSA9ICcnO1xuICAgICAgICB0aGlzLl91cGRhdGVIYW5kbGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgX3JlbW92ZVRvb2xiYXIoKSB7XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IG1hcCA9IG92Ll9tYXA7XG5cbiAgICBpZiAodGhpcy50b29sYmFyKSB7XG4gICAgICBtYXAucmVtb3ZlTGF5ZXIodGhpcy50b29sYmFyKTtcbiAgICAgIHRoaXMudG9vbGJhciA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBfZW5hYmxlRHJhZ2dpbmcoKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgbWFwID0gb3ZlcmxheS5fbWFwO1xuXG4gICAgdGhpcy5kcmFnZ2luZyA9IG5ldyBMLkRyYWdnYWJsZShvdmVybGF5LmdldEVsZW1lbnQoKSk7XG4gICAgdGhpcy5kcmFnZ2luZy5lbmFibGUoKTtcblxuICAgIC8qIEhpZGUgdG9vbGJhcnMgYW5kIG1hcmtlcnMgd2hpbGUgZHJhZ2dpbmc7IGNsaWNrIHdpbGwgcmUtc2hvdyBpdCAqL1xuICAgIHRoaXMuZHJhZ2dpbmcub24oJ2RyYWdzdGFydCcsICgpID0+IHtcbiAgICAgIG92ZXJsYXkuZmlyZSgnZHJhZ3N0YXJ0Jyk7XG4gICAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgfSk7XG5cbiAgICAvKlxuICAgICAqIEFkanVzdCBkZWZhdWx0IGJlaGF2aW9yIG9mIEwuRHJhZ2dhYmxlLCB3aGljaCBvdmVyd3JpdGVzIHRoZSBDU1MzXG4gICAgICogZGlzdG9ydCB0cmFuc2Zvcm1hdGlvbnMgdGhhdCB3ZSBzZXQgd2hlbiBpdCBjYWxscyBMLkRvbVV0aWwuc2V0UG9zaXRpb24uXG4gICAgICovXG4gICAgdGhpcy5kcmFnZ2luZy5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IHRvcExlZnQgPSBvdmVybGF5LmdldENvcm5lcigwKTtcbiAgICAgIGNvbnN0IGRlbHRhID0gdGhpcy5fbmV3UG9zLnN1YnRyYWN0KG1hcC5sYXRMbmdUb0xheWVyUG9pbnQodG9wTGVmdCkpO1xuICAgICAgbGV0IGN1cnJlbnRQb2ludDtcbiAgICAgIGNvbnN0IGNvcm5lcnMgPSB7fTtcbiAgICAgIGxldCBpO1xuXG4gICAgICB0aGlzLmZpcmUoJ3ByZWRyYWcnKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBjdXJyZW50UG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KG92ZXJsYXkuZ2V0Q29ybmVyKGkpKTtcbiAgICAgICAgY29ybmVyc1tpXSA9IG1hcC5sYXllclBvaW50VG9MYXRMbmcoY3VycmVudFBvaW50LmFkZChkZWx0YSkpO1xuICAgICAgfVxuXG4gICAgICBvdmVybGF5LnNldENvcm5lcnMoY29ybmVycyk7XG4gICAgICBvdmVybGF5LmZpcmUoJ2RyYWcnKTtcblxuICAgICAgdGhpcy5maXJlKCdkcmFnJyk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhZ2dpbmcub24oJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICBvdmVybGF5LmZpcmUoJ2RyYWdlbmQnKTtcbiAgICB9KTtcbiAgfSxcblxuICBfZGlzYWJsZURyYWdnaW5nKCkge1xuICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XG4gICAgICB0aGlzLmRyYWdnaW5nLmRpc2FibGUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmRyYWdnaW5nO1xuICAgIH1cbiAgfSxcblxuICBfZHJhZ01vZGUoKSB7XG4gICAgdGhpcy5zZXRNb2RlKCdkcmFnJyk7XG4gIH0sXG5cbiAgX3NjYWxlTW9kZSgpIHtcbiAgICB0aGlzLnNldE1vZGUoJ3NjYWxlJyk7XG4gIH0sXG5cbiAgX2Rpc3RvcnRNb2RlKCkge1xuICAgIHRoaXMuc2V0TW9kZSgnZGlzdG9ydCcpO1xuICB9LFxuXG4gIF9yb3RhdGVNb2RlKCkge1xuICAgIHRoaXMuc2V0TW9kZSgncm90YXRlJyk7XG4gIH0sXG5cbiAgX2ZyZWVSb3RhdGVNb2RlKCkge1xuICAgIHRoaXMuc2V0TW9kZSgnZnJlZVJvdGF0ZScpO1xuICB9LFxuXG4gIF90b2dnbGVMb2NrTW9kZSgpIHtcbiAgICBpZiAodGhpcy5pc01vZGUoJ2xvY2snKSkgeyB0aGlzLl91bmxvY2soKTsgfVxuICAgIGVsc2UgeyB0aGlzLl9sb2NrKCk7IH1cbiAgfSxcblxuICBfdG9nZ2xlT3BhY2l0eSgpIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX292ZXJsYXkuZ2V0RWxlbWVudCgpO1xuXG4gICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5PcGFjaXR5QWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuX3RyYW5zcGFyZW50ID0gIXRoaXMuX3RyYW5zcGFyZW50O1xuICAgIGNvbnN0IG9wYWNpdHkgPSB0aGlzLl90cmFuc3BhcmVudCA/IHRoaXMub3B0aW9ucy5vcGFjaXR5IDogMTtcblxuICAgIEwuRG9tVXRpbC5zZXRPcGFjaXR5KGltYWdlLCBvcGFjaXR5KTtcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ29wYWNpdHknLCBvcGFjaXR5KTtcblxuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfSxcblxuICBfc2V0T3BhY2l0aWVzKG8pIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX292ZXJsYXkuZ2V0RWxlbWVudCgpO1xuICAgIHRoaXMuX29wYWNpdHkgPSBvO1xuICAgIGlmICghdGhpcy5oYXNUb29sKEwuT3BhY2l0aWVzQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgICh0aGlzLl9vcGFjaXR5IDwgMSkgPyB0aGlzLl90cmFuc3BhcmVudCA9IHRydWUgOiB0aGlzLl90cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgTC5Eb21VdGlsLnNldE9wYWNpdHkoaW1hZ2UsIHRoaXMuX29wYWNpdHkpO1xuICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIHRoaXMuX29wYWNpdHkpO1xuXG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9LFxuXG4gIF90b2dnbGVCb3JkZXIoKSB7XG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLl9vdmVybGF5LmdldEVsZW1lbnQoKTtcblxuICAgIGlmICghdGhpcy5oYXNUb29sKEwuQm9yZGVyQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuX291dGxpbmVkID0gIXRoaXMuX291dGxpbmVkO1xuICAgIGNvbnN0IG91dGxpbmUgPSB0aGlzLl9vdXRsaW5lZCA/IHRoaXMub3B0aW9ucy5vdXRsaW5lIDogJ25vbmUnO1xuXG4gICAgaW1hZ2Uuc3R5bGUub3V0bGluZSA9IG91dGxpbmU7XG5cbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH0sXG5cbiAgLy8gY29tcGFyZSB0aGlzIHRvIHVzaW5nIG92ZXJsYXkgekluZGV4XG4gIF90b2dnbGVPcmRlcigpIHtcbiAgICBpZiAodGhpcy5fdG9nZ2xlZEltYWdlKSB7IHRoaXMuX3N0YWNrVXAoKTsgfVxuICAgIGVsc2UgeyB0aGlzLl9zdGFja0Rvd24oKTsgfVxuICB9LFxuXG4gIF9yZW1vdmVPdmVybGF5KCkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG5cbiAgICBpZiAodGhpcy5pc01vZGUoJ2xvY2snKSB8fCAhdGhpcy5oYXNUb29sKEwuRGVsZXRlQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IGNob2ljZSA9IEwuRG9tVXRpbC5jb25maXJtRGVsZXRlKCk7XG4gICAgaWYgKCFjaG9pY2UpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG5cbiAgICBpZiAoZVApIHsgZVAucmVtb3ZlTGF5ZXIob3YpOyB9XG4gICAgZWxzZSB7IG92Ll9tYXAucmVtb3ZlTGF5ZXIob3YpOyB9XG4gIH0sXG5cbiAgLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL3B1YmxpY2xhYi9tYXBrbml0dGVyL2Jsb2IvOGQ5NDEzMmM4MWIzMDQwYWUwZDBiNDYyN2U2ODVmZjc1Mjc1YjQxNi9hcHAvYXNzZXRzL2phdmFzY3JpcHRzL21hcGtuaXR0ZXIvTWFwLmpzI0w0Ny1MODJcbiAgX2dldEV4cG9ydCgpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBtYXAgPSBvdmVybGF5Ll9tYXA7XG4gICAgY29uc3QgaW1nID0gb3ZlcmxheS5nZXRFbGVtZW50KCk7XG5cbiAgICBpZiAoIXRoaXMuaGFzVG9vbChMLkV4cG9ydEFjdGlvbikpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBtYWtlIGEgbmV3IGltYWdlXG4gICAgY29uc3QgZG93bmxvYWRhYmxlID0gbmV3IEltYWdlKCk7XG5cbiAgICBkb3dubG9hZGFibGUuaWQgPSBkb3dubG9hZGFibGUuaWQgfHwgJ3RlbXBJZDEyMzQ1JztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvd25sb2FkYWJsZSk7XG5cbiAgICBkb3dubG9hZGFibGUub25sb2FkID0gZnVuY3Rpb24gb25Mb2FkRG93bmxvYWRhYmxlSW1hZ2UoKSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBkb3dubG9hZGFibGUuaGVpZ2h0O1xuICAgICAgY29uc3Qgd2lkdGggPSBkb3dubG9hZGFibGUud2lkdGg7XG4gICAgICBjb25zdCBudyA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMCkpO1xuICAgICAgY29uc3QgbmUgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KG92ZXJsYXkuZ2V0Q29ybmVyKDEpKTtcbiAgICAgIGNvbnN0IHN3ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigyKSk7XG4gICAgICBjb25zdCBzZSA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMykpO1xuXG4gICAgICAvLyBJIHRoaW5rIHRoaXMgaXMgdG8gbW92ZSB0aGUgaW1hZ2UgdG8gdGhlIHVwcGVyIGxlZnQgY29ybmVyLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgIC8vIGp5d2FycmVuOiBpIHRoaW5rIHdlIG1heSBuZWVkIHRoZXNlIG9yIHRoZSBpbWFnZSBnb2VzIG9mZiB0aGUgZWRnZSBvZiB0aGUgY2FudmFzXG4gICAgICAvLyBqeXdhcnJlbjogYnV0IHRoZXNlIHNlZW0gdG8gYnJlYWsgdGhlIGRpc3RvcnRpb24gbWF0aC4uLlxuXG4gICAgICAvLyBqeXdhcnJlbjogaSB0aGluayBpdCBzaG91bGQgYmUgcmVqaWdnZXJlZCBzbyBpdFxuICAgICAgLy8gZmluZHMgdGhlIG1vc3QgbmVnYXRpdmUgdmFsdWVzIG9mIHggYW5kIHkgYW5kIHRoZW5cbiAgICAgIC8vIGFkZHMgdGhvc2UgdG8gYWxsIGNvb3JkaW5hdGVzXG5cbiAgICAgIC8vIG53LnggLT0gbncueDtcbiAgICAgIC8vIG5lLnggLT0gbncueDtcbiAgICAgIC8vIHNlLnggLT0gbncueDtcbiAgICAgIC8vIHN3LnggLT0gbncueDtcblxuICAgICAgLy8gbncueSAtPSBudy55O1xuICAgICAgLy8gbmUueSAtPSBudy55O1xuICAgICAgLy8gc2UueSAtPSBudy55O1xuICAgICAgLy8gc3cueSAtPSBudy55O1xuXG4gICAgICAvLyBydW4gb25jZSB3YXJwaW5nIGlzIGNvbXBsZXRlXG4gICAgICBkb3dubG9hZGFibGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIEwuRG9tVXRpbC5yZW1vdmUoZG93bmxvYWRhYmxlKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh3aW5kb3cgJiYgd2luZG93Lmhhc093blByb3BlcnR5KCd3YXJwV2ViR2wnKSkge1xuICAgICAgICB3YXJwV2ViR2woXG4gICAgICAgICAgICBkb3dubG9hZGFibGUuaWQsXG4gICAgICAgICAgICBbMCwgMCwgd2lkdGgsIDAsIHdpZHRoLCBoZWlnaHQsIDAsIGhlaWdodF0sXG4gICAgICAgICAgICBbbncueCwgbncueSwgbmUueCwgbmUueSwgc2UueCwgc2UueSwgc3cueCwgc3cueV0sXG4gICAgICAgICAgICB0cnVlIC8vIHRyaWdnZXIgZG93bmxvYWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG93bmxvYWRhYmxlLnNyYyA9IG92ZXJsYXkub3B0aW9ucy5mdWxsUmVzb2x1dGlvblNyYyB8fCBpbWcuc3JjO1xuICB9LFxuXG4gIF9zdGFja1VwKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLl90b2dnbGVkSW1hZ2U7XG5cbiAgICBpZiAoIXQgfHwgIXRoaXMuaGFzVG9vbChMLlN0YWNrQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuX3RvZ2dsZWRJbWFnZSA9IGZhbHNlO1xuICAgIHRoaXMuX292ZXJsYXkuYnJpbmdUb0Zyb250KCk7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9LFxuXG4gIF9zdGFja0Rvd24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuX3RvZ2dsZWRJbWFnZTtcblxuICAgIGlmICh0IHx8ICF0aGlzLmhhc1Rvb2woTC5TdGFja0FjdGlvbikpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLl90b2dnbGVkSW1hZ2UgPSB0cnVlO1xuICAgIHRoaXMuX292ZXJsYXkuYnJpbmdUb0JhY2soKTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH0sXG5cbiAgX3VubG9jaygpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgbWFwID0gb3YuX21hcDtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG5cbiAgICBpZiAoIXRoaXMuaXNNb2RlKCdsb2NrJykpIHsgcmV0dXJuOyB9XG4gICAgaWYgKChlUCAmJiAhZVAuaXNDb2xsZWN0ZWQob3YpKSB8fCAhZVApIHtcbiAgICAgIGlmICghdGhpcy5oYXNUb29sKEwuTG9ja0FjdGlvbikpIHsgcmV0dXJuOyB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3VycmVudEhhbmRsZSkgeyBtYXAucmVtb3ZlTGF5ZXIodGhpcy5jdXJyZW50SGFuZGxlKTsgfVxuICAgIGlmIChvdi5vcHRpb25zLm1vZGUgPT09ICdsb2NrJyB8fCAhdGhpcy5oYXNNb2RlKG92Lm9wdGlvbnMubW9kZSkpIHtcbiAgICAgIHRoaXMuX21vZGUgPSAnJztcbiAgICAgIHRoaXMuY3VycmVudEhhbmRsZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tb2RlID0gb3Yub3B0aW9ucy5tb2RlO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVIYW5kbGUoKTtcbiAgICB0aGlzLl9lbmFibGVEcmFnZ2luZygpO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfSxcblxuICBfbG9jaygpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgbWFwID0gb3YuX21hcDtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG5cbiAgICBpZiAodGhpcy5pc01vZGUoJ2xvY2snKSkgeyByZXR1cm47IH1cbiAgICBpZiAoKGVQICYmICFlUC5pc0NvbGxlY3RlZChvdikpIHx8ICFlUCkge1xuICAgICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5Mb2NrQWN0aW9uKSkgeyByZXR1cm47IH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50SGFuZGxlKSB7IG1hcC5yZW1vdmVMYXllcih0aGlzLmN1cnJlbnRIYW5kbGUpOyB9XG4gICAgdGhpcy5fbW9kZSA9ICdsb2NrJztcbiAgICB0aGlzLl91cGRhdGVIYW5kbGUoKTtcbiAgICB0aGlzLl9kaXNhYmxlRHJhZ2dpbmcoKTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH0sXG5cbiAgX2Rlc2VsZWN0KCkge1xuICAgIHRoaXMuX292ZXJsYXkuZGVzZWxlY3QoKTtcbiAgfSxcblxuICBfc2hvd01hcmtlcnMoZSkge1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcblxuICAgIGlmICghdGhpcy5jdXJyZW50SGFuZGxlKSB7IHJldHVybjsgfVxuICAgIC8vIG9ubHkgbWFya2VycyB3ZSB3YW50IGluIGNvbGxlY3QgaW50ZXJmYWNlIGZvciBub3cgaXMgbG9ja1xuICAgIGlmICghdGhpcy5pc01vZGUoJ2xvY2snKSAmJiAoZVAgJiYgZVAuYW55Q29sbGVjdGVkKCkpKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5jdXJyZW50SGFuZGxlLmVhY2hMYXllcigoaGFuZGxlKSA9PiB7XG4gICAgICBoYW5kbGUuc2V0T3BhY2l0eSgxKTtcbiAgICAgIGlmIChoYW5kbGUuZHJhZ2dpbmcpIHsgaGFuZGxlLmRyYWdnaW5nLmVuYWJsZSgpOyB9XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MoaGFuZGxlLmdldEVsZW1lbnQoKSwgJ2xlYWZsZXQtaW50ZXJhY3RpdmUnKTtcbiAgICB9KTtcbiAgfSxcblxuICBfaGlkZU1hcmtlcnMoKSB7XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcblxuICAgIC8vIHdvcmthcm91bmQgZm9yIHJhY2UgY29uZGl0aW9uIHcvIGZlYXR1cmUgZ3JvdXBcbiAgICBpZiAoIXRoaXMuX2hhbmRsZXMpIHsgdGhpcy5faW5pdEhhbmRsZXMoKTsgfVxuXG4gICAgaWYgKCF0aGlzLmN1cnJlbnRIYW5kbGUpIHsgcmV0dXJuOyB9XG4gICAgaWYgKHRoaXMuaXNNb2RlKCdsb2NrJykgJiYgKGVQICYmIGVQLmlzQ29sbGVjdGVkKG92KSkpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLmN1cnJlbnRIYW5kbGUuZWFjaExheWVyKChoYW5kbGUpID0+IHtcbiAgICAgIGhhbmRsZS5zZXRPcGFjaXR5KDApO1xuICAgICAgaWYgKGhhbmRsZS5kcmFnZ2luZykgeyBoYW5kbGUuZHJhZ2dpbmcuZGlzYWJsZSgpOyB9XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoaGFuZGxlLmdldEVsZW1lbnQoKSwgJ2xlYWZsZXQtaW50ZXJhY3RpdmUnKTtcbiAgICB9KTtcbiAgfSxcblxuICBfdXBkYXRlSGFuZGxlKCkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBtYXAgPSBvdi5fbWFwO1xuICAgIGNvbnN0IG1vZGUgPSB0aGlzLmdldE1vZGUoKTtcblxuICAgIGlmICh0aGlzLmN1cnJlbnRIYW5kbGUpIHsgbWFwLnJlbW92ZUxheWVyKHRoaXMuY3VycmVudEhhbmRsZSk7IH1cbiAgICB0aGlzLmN1cnJlbnRIYW5kbGUgPSBtb2RlID09PSAnJyA/ICcnIDogdGhpcy5faGFuZGxlc1ttb2RlXTtcbiAgICBpZiAodGhpcy5jdXJyZW50SGFuZGxlICE9PSAnJykge1xuICAgICAgbWFwLmFkZExheWVyKHRoaXMuY3VycmVudEhhbmRsZSk7XG4gICAgfVxuICB9LFxuXG4gIF9hZGRUb29sYmFyKCkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG4gICAgY29uc3QgbWFwID0gb3YuX21hcDtcbiAgICAvLyBGaW5kIHRoZSB0b3Btb3N0IHBvaW50IG9uIHRoZSBpbWFnZS5cbiAgICBjb25zdCBjb3JuZXJzID0gb3YuZ2V0Q29ybmVycygpO1xuICAgIGxldCBtYXhMYXQgPSAtSW5maW5pdHk7XG5cbiAgICBpZiAoZVAgJiYgZVAuYW55Q29sbGVjdGVkKCkpIHtcbiAgICAgIGVQLmVkaXRpbmcuX2FkZFRvb2xiYXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3Yub3B0aW9ucy5zdXBwcmVzc1Rvb2xiYXIgfHwgdGhpcy50b29sYmFyKSB7IHJldHVybjsgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY29ybmVyc1tpXS5sYXQgPiBtYXhMYXQpIHtcbiAgICAgICAgbWF4TGF0ID0gY29ybmVyc1tpXS5sYXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTG9uZ2l0dWRlIGlzIGJhc2VkIG9uIHRoZSBjZW50cm9pZCBvZiB0aGUgaW1hZ2UuXG4gICAgY29uc3QgcmFpc2VkUG9pbnQgPSBvdi5nZXRDZW50ZXIoKTtcbiAgICByYWlzZWRQb2ludC5sYXQgPSBtYXhMYXQ7XG5cbiAgICB0aGlzLnRvb2xiYXIgPSBMLmRpc3RvcnRhYmxlSW1hZ2UucG9wdXBCYXIocmFpc2VkUG9pbnQsIHtcbiAgICAgIGFjdGlvbnM6IHRoaXMuZWRpdEFjdGlvbnMsXG4gICAgfSkuYWRkVG8obWFwLCBvdik7XG4gICAgb3YuZmlyZSgndG9vbGJhcjpjcmVhdGVkJyk7XG4gIH0sXG5cbiAgX3JlZnJlc2goKSB7XG4gICAgaWYgKHRoaXMudG9vbGJhcikgeyB0aGlzLl9yZW1vdmVUb29sYmFyKCk7IH1cbiAgICB0aGlzLl9hZGRUb29sYmFyKCk7XG4gIH0sXG5cbiAgX3VwZGF0ZVRvb2xiYXJQb3MoKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX292ZXJsYXk7XG4gICAgLy8gRmluZCB0aGUgdG9wbW9zdCBwb2ludCBvbiB0aGUgaW1hZ2UuXG4gICAgY29uc3QgY29ybmVycyA9IG92ZXJsYXkuZ2V0Q29ybmVycygpO1xuICAgIGNvbnN0IHRvb2xiYXIgPSB0aGlzLnRvb2xiYXI7XG4gICAgbGV0IG1heExhdCA9IC1JbmZpbml0eTtcblxuICAgIGlmICh0b29sYmFyICYmIHRvb2xiYXIgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuUG9wdXBCYXIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29ybmVyc1tpXS5sYXQgPiBtYXhMYXQpIHtcbiAgICAgICAgICBtYXhMYXQgPSBjb3JuZXJzW2ldLmxhdDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBMb25naXR1ZGUgaXMgYmFzZWQgb24gdGhlIGNlbnRyb2lkIG9mIHRoZSBpbWFnZS5cbiAgICAgIGNvbnN0IHJhaXNlZFBvaW50ID0gb3ZlcmxheS5nZXRDZW50ZXIoKTtcbiAgICAgIHJhaXNlZFBvaW50LmxhdCA9IG1heExhdDtcblxuICAgICAgaWYgKCFvdmVybGF5Lm9wdGlvbnMuc3VwcHJlc3NUb29sYmFyKSB7XG4gICAgICAgIHRoaXMudG9vbGJhci5zZXRMYXRMbmcocmFpc2VkUG9pbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBoYXNNb2RlKG1vZGUpIHtcbiAgICByZXR1cm4gISF0aGlzLl9tb2Rlc1ttb2RlXTtcbiAgfSxcblxuICBnZXRNb2RlKCkge1xuICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHsgcmV0dXJuOyB9XG4gICAgcmV0dXJuIHRoaXMuX21vZGU7XG4gIH0sXG5cbiAgZ2V0TW9kZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGVzO1xuICB9LFxuXG4gIGlzTW9kZShtb2RlKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICByZXR1cm4gdGhpcy5fbW9kZSA9PT0gbW9kZTtcbiAgfSxcblxuICBzZXRNb2RlKG5ld01vZGUpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgZVAgPSB0aGlzLnBhcmVudEdyb3VwO1xuICAgIGNvbnN0IG1vZGUgPSB0aGlzLmdldE1vZGUoKTtcblxuICAgIGlmIChtb2RlID09PSBuZXdNb2RlIHx8ICF0aGlzLmhhc01vZGUobmV3TW9kZSkgfHwgIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudG9vbGJhcikgeyB0aGlzLnRvb2xiYXIuY2xpY2tUb29sKG5ld01vZGUpOyB9XG4gICAgaWYgKHRoaXMuaXNNb2RlKCdsb2NrJykgJiYgIXRoaXMuZHJhZ2dpbmcpIHsgdGhpcy5fZW5hYmxlRHJhZ2dpbmcoKTsgfVxuICAgIHRoaXMuX21vZGUgPSBuZXdNb2RlO1xuICAgIGlmICh0aGlzLmlzTW9kZSgnbG9jaycpKSB7IHRoaXMuX2Rpc2FibGVEcmFnZ2luZygpOyB9XG4gICAgdGhpcy5fdXBkYXRlSGFuZGxlKCk7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuXG4gICAgaWYgKGVQICYmIGVQLmlzQ29sbGVjdGVkKG92KSkgeyBvdi5kZXNlbGVjdCgpOyB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICAqIG5lZWQgdG8gYXR0YWNoIGEgc3RvcCB0byBpbWcgZGJsY2xpY2sgb3IgaXQgd2lsbCBwcm9wYWdhdGUgdG9cbiAgICAqIHRoZSBtYXAgYW5kIGZpcmUgdGhlIGhhbmRsZXIgdGhhdCBzaG93cyBtYXAgbG9jYXRpb24gbGFiZWxzIG9uIG1hcCBkYmxjbGljay5cbiAgICAqL1xuICBuZXh0TW9kZShlKSB7XG4gICAgY29uc3QgbW9kZSA9IHRoaXMuZ2V0TW9kZSgpO1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcbiAgICBjb25zdCBtb2Rlc0FycmF5ID0gT2JqZWN0LmtleXModGhpcy5nZXRNb2RlcygpKTtcbiAgICBjb25zdCBpZHggPSBtb2Rlc0FycmF5LmluZGV4T2YobW9kZSk7XG4gICAgY29uc3QgbmV4dElkeCA9IChpZHggKyAxKSAlIG1vZGVzQXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IG5ld01vZGUgPSBtb2Rlc0FycmF5W25leHRJZHhdO1xuXG4gICAgaWYgKGUpIHtcbiAgICAgIGlmIChlUCAmJiBlUC5hbnlDb2xsZWN0ZWQoKSkgeyByZXR1cm47IH1cbiAgICAgIEwuRG9tRXZlbnQuc3RvcChlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXRNb2RlKG5ld01vZGUpO1xuICB9LFxufSk7XG5cbkwuZGlzdG9ydGFibGVJbWFnZS5lZGl0ID0gKG92ZXJsYXksIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdChvdmVybGF5LCBvcHRpb25zKTtcbn07XG4iLCJMLkRpc3RvcnRhYmxlSW1hZ2UgPSBMLkRpc3RvcnRhYmxlSW1hZ2UgfHwge307XG5cbi8vIHRoaXMgY2xhc3MgaG9sZHMgdGhlIGtleWJpbmRpbmdzIGFuZCB0b29sYmFyIEFQSSBmb3IgYW4gaW1hZ2UgY29sbGVjdGlvbiBpbnN0YW5jZVxuTC5EaXN0b3J0YWJsZUNvbGxlY3Rpb24uRWRpdCA9IEwuSGFuZGxlci5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAga2V5bWFwOiBMLmRpc3RvcnRhYmxlSW1hZ2UuZ3JvdXBfYWN0aW9uX21hcCxcbiAgfSxcblxuICBpbml0aWFsaXplKGdyb3VwLCBvcHRpb25zKSB7XG4gICAgdGhpcy5fZ3JvdXAgPSBncm91cDtcbiAgICB0aGlzLl9leHBvcnRPcHRzID0gZ3JvdXAub3B0aW9ucy5leHBvcnRPcHRzO1xuXG4gICAgTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgTC5kaXN0b3J0YWJsZUltYWdlLmdyb3VwX2FjdGlvbl9tYXAuRXNjYXBlID0gJ19kZWNvbGxlY3RBbGwnO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fZ3JvdXA7XG4gICAgY29uc3QgbWFwID0gZ3JvdXAuX21hcDtcblxuICAgIHRoaXMuZWRpdEFjdGlvbnMgPSB0aGlzLm9wdGlvbnMuYWN0aW9ucztcbiAgICB0aGlzLnJ1bkV4cG9ydGVyID1cbiAgICAgICAgTC5iaW5kKEwuVXRpbHMuZ2V0TmVzdGVkVmFsKHRoaXMsICdfZXhwb3J0T3B0cycsICdleHBvcnRlcicpIHx8XG4gICAgICAgIHRoaXMuc3RhcnRFeHBvcnQsIHRoaXMpO1xuXG4gICAgTC5Eb21FdmVudC5vbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuXG4gICAgaWYgKCEobWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGVkKCkgfHwgbWFwLmRvdWJsZUNsaWNrTGFiZWxzLmVuYWJsZWQoKSkpIHtcbiAgICAgIEwuRG9tRXZlbnQub24obWFwLCAnY2xpY2snLCB0aGlzLl9kZWNvbGxlY3RBbGwsIHRoaXMpO1xuICAgIH1cblxuICAgIEwuRG9tRXZlbnQub24obWFwLCB7XG4gICAgICBzaW5nbGVjbGlja29uOiB0aGlzLl9zaW5nbGVDbGlja0xpc3RlbmVycyxcbiAgICAgIHNpbmdsZWNsaWNrb2ZmOiB0aGlzLl9yZXNldENsaWNrTGlzdGVuZXJzLFxuICAgICAgc2luZ2xlY2xpY2s6IHRoaXMuX3NpbmdsZUNsaWNrLFxuICAgICAgYm94Y29sbGVjdGVuZDogdGhpcy5fYWRkQ29sbGVjdGlvbnMsXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9ncm91cC5lZGl0YWJsZSA9IHRydWU7XG4gICAgdGhpcy5fZ3JvdXAuZWFjaExheWVyKGxheWVyID0+IGxheWVyLmVkaXRpbmcuZW5hYmxlKCkpO1xuICB9LFxuXG4gIHJlbW92ZUhvb2tzKCkge1xuICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fZ3JvdXA7XG4gICAgY29uc3QgbWFwID0gZ3JvdXAuX21hcDtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgdGhpcyk7XG5cbiAgICBpZiAoIShtYXAuZG91YmxlQ2xpY2tab29tLmVuYWJsZWQoKSB8fCBtYXAuZG91YmxlQ2xpY2tMYWJlbHMuZW5hYmxlZCgpKSkge1xuICAgICAgTC5Eb21FdmVudC5vZmYobWFwLCAnY2xpY2snLCB0aGlzLl9kZWNvbGxlY3RBbGwsIHRoaXMpO1xuICAgIH1cblxuICAgIEwuRG9tRXZlbnQub2ZmKG1hcCwge1xuICAgICAgc2luZ2xlY2xpY2tvbjogdGhpcy5fc2luZ2xlQ2xpY2tMaXN0ZW5lcnMsXG4gICAgICBzaW5nbGVjbGlja29mZjogdGhpcy5fcmVzZXRDbGlja0xpc3RlbmVycyxcbiAgICAgIHNpbmdsZWNsaWNrOiB0aGlzLl9zaW5nbGVDbGljayxcbiAgICAgIGJveGNvbGxlY3RlbmQ6IHRoaXMuX2FkZENvbGxlY3Rpb25zLFxuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5fZGVjb2xsZWN0QWxsKCk7XG4gICAgdGhpcy5fZ3JvdXAuZWRpdGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLl9ncm91cC5lYWNoTGF5ZXIobGF5ZXIgPT4gbGF5ZXIuZWRpdGluZy5kaXNhYmxlKCkpO1xuICB9LFxuXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmFkZEhvb2tzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVIb29rcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9vbktleURvd24oZSkge1xuICAgIGNvbnN0IGtleW1hcCA9IHRoaXMub3B0aW9ucy5rZXltYXA7XG4gICAgY29uc3QgaGFuZGxlck5hbWUgPSBrZXltYXBbZS5rZXldO1xuXG4gICAgaWYgKCF0aGlzW2hhbmRsZXJOYW1lXSkgeyByZXR1cm47IH1cblxuICAgIGlmICh0aGlzLl9ncm91cC5hbnlDb2xsZWN0ZWQoKSkge1xuICAgICAgdGhpc1toYW5kbGVyTmFtZV0uY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sXG5cbiAgX3NpbmdsZUNsaWNrKGUpIHtcbiAgICBpZiAoZS50eXBlID09PSAnc2luZ2xlY2xpY2snKSB7IHRoaXMuX2RlY29sbGVjdEFsbChlKTsgfVxuICAgIGVsc2UgeyByZXR1cm47IH1cbiAgfSxcblxuICBfc2luZ2xlQ2xpY2tMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fZ3JvdXAuX21hcDtcbiAgICBMLkRvbUV2ZW50Lm9mZihtYXAsICdjbGljaycsIHRoaXMuX2RlY29sbGVjdEFsbCwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vbihtYXAsICdzaW5nbGVjbGljaycsIHRoaXMuX2RlY29sbGVjdEFsbCwgdGhpcyk7XG4gIH0sXG5cbiAgX3Jlc2V0Q2xpY2tMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fZ3JvdXAuX21hcDtcbiAgICBMLkRvbUV2ZW50Lm9uKG1hcCwgJ2NsaWNrJywgdGhpcy5fZGVjb2xsZWN0QWxsLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZihtYXAsICdzaW5nbGVjbGljaycsIHRoaXMuX2RlY29sbGVjdEFsbCwgdGhpcyk7XG4gIH0sXG5cbiAgX2RlY29sbGVjdEFsbChlKSB7XG4gICAgbGV0IG9lO1xuXG4gICAgaWYgKGUpIHsgb2UgPSBlLm9yaWdpbmFsRXZlbnQ7IH1cbiAgICAvKipcbiAgICAgKiBwcmV2ZW50cyBpbWFnZSBkZXNlbGVjdGlvbiBmb2xsb3dpbmcgdGhlICdib3hjb2xsZWN0ZW5kJyBldmVudCAtIG5vdGUgJ3NoaWZ0JyBtdXN0IG5vdCBiZSByZWxlYXNlZCB1bnRpbCBkcmFnZ2luZyBpcyBjb21wbGV0ZVxuICAgICAqIGFsc28gcHJldmVudHMgZGVzZWxlY3Rpb24gZm9sbG93aW5nIGEgY2xpY2sgb24gYSBkaXNhYmxlZCBpbWcgYnkgZGlmZmVyZW50aWF0aW5nIGl0IGZyb20gdGhlIG1hcFxuICAgICAqL1xuICAgIGlmIChvZSAmJiAob2Uuc2hpZnRLZXkgfHwgb2UudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9ncm91cC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MobGF5ZXIuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gICAgICBsYXllci5kZXNlbGVjdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVtb3ZlVG9vbGJhcigpO1xuXG4gICAgaWYgKGUpIHsgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7IH1cbiAgfSxcblxuICBfdW5sb2NrR3JvdXAoKSB7XG4gICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5VbmxvY2tBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5fZ3JvdXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2dyb3VwLmlzQ29sbGVjdGVkKGxheWVyKSkge1xuICAgICAgICBjb25zdCBlZGl0ID0gbGF5ZXIuZWRpdGluZztcbiAgICAgICAgZWRpdC5fdW5sb2NrKCk7XG4gICAgICAgIC8vIHVubG9jayB1cGRhdGVzIHRoZSBsYXllcidzIGhhbmRsZXM7IGRlc2VsZWN0IHRvIGVuc3VyZSB0aGV5J3JlIGhpZGRlblxuICAgICAgICBsYXllci5kZXNlbGVjdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIF9sb2NrR3JvdXAoKSB7XG4gICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5Mb2NrQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuX2dyb3VwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLl9ncm91cC5pc0NvbGxlY3RlZChsYXllcikgKSB7XG4gICAgICAgIGNvbnN0IGVkaXQgPSBsYXllci5lZGl0aW5nO1xuICAgICAgICBlZGl0Ll9sb2NrKCk7XG4gICAgICAgIC8vIG1hcC5hZGRMYXllciBhbHNvIGRlc2VsZWN0cyB0aGUgaW1hZ2UsIHNvIHdlIHJlc2VsZWN0IGhlcmVcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGxheWVyLmdldEVsZW1lbnQoKSwgJ2NvbGxlY3RlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIF9hZGRDb2xsZWN0aW9ucyhlKSB7XG4gICAgY29uc3QgYm94ID0gZS5ib3hDb2xsZWN0Qm91bmRzO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX2dyb3VwLl9tYXA7XG5cbiAgICB0aGlzLl9ncm91cC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBjb25zdCBlZGl0ID0gbGF5ZXIuZWRpdGluZztcblxuICAgICAgaWYgKGxheWVyLmlzU2VsZWN0ZWQoKSkgeyBsYXllci5kZXNlbGVjdCgpOyB9XG5cbiAgICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICAgICAgY29uc3QgY2VudGVyID0gbWFwLmdldENlbnRlcigpO1xuICAgICAgbGV0IGltZ0JvdW5kcyA9IEwubGF0TG5nQm91bmRzKGxheWVyLmdldENvcm5lcigyKSwgbGF5ZXIuZ2V0Q29ybmVyKDEpKTtcblxuICAgICAgaW1nQm91bmRzID0gbWFwLl9sYXRMbmdCb3VuZHNUb05ld0xheWVyQm91bmRzKGltZ0JvdW5kcywgem9vbSwgY2VudGVyKTtcbiAgICAgIGlmIChib3guaW50ZXJzZWN0cyhpbWdCb3VuZHMpICYmIGVkaXQuZW5hYmxlZCgpKSB7XG4gICAgICAgIGlmICghdGhpcy50b29sYmFyKSB7IHRoaXMuX2FkZFRvb2xiYXIoKTsgfVxuICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobGF5ZXIuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgX3JlbW92ZUdyb3VwKGUpIHtcbiAgICBpZiAoIXRoaXMuaGFzVG9vbChMLkRlbGV0ZUFjdGlvbikpIHsgcmV0dXJuOyB9XG5cbiAgICBjb25zdCBsYXllcnNUb1JlbW92ZSA9IHRoaXMuX2dyb3VwLl90b1JlbW92ZSgpO1xuICAgIGNvbnN0IG4gPSBsYXllcnNUb1JlbW92ZS5sZW5ndGg7XG5cbiAgICBpZiAobiA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IGNob2ljZSA9IEwuRG9tVXRpbC5jb25maXJtRGVsZXRlcyhuKTtcblxuICAgIGlmIChjaG9pY2UpIHtcbiAgICAgIGxheWVyc1RvUmVtb3ZlLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgIHRoaXMuX2dyb3VwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF0aGlzLl9ncm91cC5hbnlDb2xsZWN0ZWQoKSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUpIHsgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7IH1cbiAgfSxcblxuICBjYW5jZWxFeHBvcnQoKSB7XG4gICAgaWYgKCF0aGlzLmN1c3RvbUNvbGxlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2V4cG9ydE9wdHMuY29sbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuICB9LFxuXG4gIF9hZGRUb29sYmFyKCkge1xuICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fZ3JvdXA7XG4gICAgY29uc3QgbWFwID0gZ3JvdXAuX21hcDtcblxuICAgIGlmIChncm91cC5vcHRpb25zLnN1cHByZXNzVG9vbGJhciB8fCB0aGlzLnRvb2xiYXIpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy50b29sYmFyID0gTC5kaXN0b3J0YWJsZUltYWdlLmNvbnRyb2xCYXIoe1xuICAgICAgYWN0aW9uczogdGhpcy5lZGl0QWN0aW9ucyxcbiAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgfSkuYWRkVG8obWFwLCBncm91cCk7XG4gIH0sXG5cbiAgX3JlbW92ZVRvb2xiYXIoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fZ3JvdXAuX21hcDtcbiAgICBpZiAodGhpcy50b29sYmFyKSB7XG4gICAgICBtYXAucmVtb3ZlTGF5ZXIodGhpcy50b29sYmFyKTtcbiAgICAgIHRoaXMudG9vbGJhciA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIGhhc1Rvb2wodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5lZGl0QWN0aW9ucy5zb21lKGFjdGlvbiA9PiBhY3Rpb24gPT09IHZhbHVlKTtcbiAgfSxcblxuICBhZGRUb29sKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlLmJhc2VDbGFzcyA9PT0gJ2xlYWZsZXQtdG9vbGJhci1pY29uJyAmJiAhdGhpcy5oYXNUb29sKHZhbHVlKSkge1xuICAgICAgdGhpcy5fcmVtb3ZlVG9vbGJhcigpO1xuICAgICAgdGhpcy5lZGl0QWN0aW9ucy5wdXNoKHZhbHVlKTtcbiAgICAgIHRoaXMuX2FkZFRvb2xiYXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcmVtb3ZlVG9vbCh2YWx1ZSkge1xuICAgIHRoaXMuZWRpdEFjdGlvbnMuc29tZSgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0QWN0aW9uc1tpZHhdID09PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgICAgIHRoaXMuZWRpdEFjdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIHRoaXMuX2FkZFRvb2xiYXIoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgc3RhcnRFeHBvcnQoKSB7XG4gICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5FeHBvcnRBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBvcHRzID0gdGhpcy5fZXhwb3J0T3B0cztcbiAgICAgIG9wdHMucmVzb2x2ZSA9IHJlc29sdmU7IC8vIGFsbG93IHJlc29sdmluZyBwcm9taXNlIGluIHVzZXItZGVmaW5lZCBmdW5jdGlvbnMsIHRvIHN0b3Agc3Bpbm5lciBvbiBjb21wbGV0aW9uXG5cbiAgICAgIGxldCBzdGF0dXNVcmw7XG4gICAgICB0aGlzLnVwZGF0ZUludGVydmFsID0gbnVsbDtcblxuICAgICAgLy8gdGhpcyBtYXkgYmUgb3ZlcnJpZGRlbiB0byB1cGRhdGUgdGhlIFVJIHRvIHNob3cgZXhwb3J0IHByb2dyZXNzIG9yIGNvbXBsZXRpb25cbiAgICAgIGNvbnN0IF9kZWZhdWx0VXBkYXRlciA9IChkYXRhKSA9PiB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAvLyBvcHRpbWl6YXRpb246IGZldGNoIHN0YXR1cyBkaXJlY3RseSBmcm9tIGdvb2dsZSBzdG9yYWdlOlxuICAgICAgICBpZiAoZGF0YS5zdGF0dXNfdXJsKSB7XG4gICAgICAgICAgaWYgKHN0YXR1c1VybCAhPT0gZGF0YS5zdGF0dXNfdXJsICYmIGRhdGEuc3RhdHVzX3VybC5tYXRjaCgnLmpzb24nKSkge1xuICAgICAgICAgICAgLy8gaWYgKGRhdGEuc3RhdHVzX3VybCAmJiBkYXRhLnN0YXR1c191cmwuc3Vic3RyKDAsMSkgPT09IFwiL1wiKSB7XG4gICAgICAgICAgICAvLyAgIG9wdHMuc3RhdHVzVXJsID0gb3B0cy5zdGF0dXNVcmwgKyBkYXRhLnN0YXR1c191cmw7XG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzVXJsID0gZGF0YS5zdGF0dXNfdXJsO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZUludGVydmFsKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmN1c3RvbUNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhpcy5fZXhwb3J0T3B0cy5jb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5qcGcgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgYWxlcnQoJ0V4cG9ydCBzdWNjZWVkZWQuICcgKyBvcHRzLmV4cG9ydFVybCArIGRhdGEuanBnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUT0RPOiB1cGRhdGUgdG8gY2xlYXJJbnRlcnZhbCB3aGVuIHN0YXR1cyA9PSBcImZhaWxlZFwiIGlmIHdlIHVwZGF0ZSB0aGF0IGluIHRoaXMgZmlsZTpcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcHVibGljbGFiL21hcGtuaXR0ZXItZXhwb3J0ZXIvYmxvYi9tYWluL2xpYi9tYXBrbml0dGVyRXhwb3J0ZXIucmJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gcmVjZWl2ZXMgdGhlIFVSTCBvZiBzdGF0dXMuanNvbiwgYW5kIHN0YXJ0cyBydW5uaW5nIHRoZSB1cGRhdGVyIHRvIHJlcGVhdGVkbHkgZmV0Y2ggZnJvbSBzdGF0dXMuanNvbjtcbiAgICAgIC8vIHRoaXMgbWF5IGJlIG92ZXJyaWRkZW4gdG8gaW50ZWdyYXRlIHdpdGggYW55IFVJXG4gICAgICBjb25zdCBfZGVmYXVsdEhhbmRsZVN0YXR1c1JlcyA9IChkYXRhKSA9PiB7XG4gICAgICAgIHN0YXR1c1VybCA9IG9wdHMuc3RhdHVzVXJsICsgZGF0YTtcbiAgICAgICAgLy8gcmVwZWF0ZWRseSBmZXRjaCB0aGUgc3RhdHVzLmpzb25cbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXFPcHRzID0ge21ldGhvZDogJ0dFVCd9O1xuICAgICAgICAgIGNvbnN0IHJlcSA9IG5ldyBSZXF1ZXN0KGAke3N0YXR1c1VybH0/JHtEYXRlLm5vdygpfWAsIHJlcU9wdHMpO1xuICAgICAgICAgIGZldGNoKHJlcSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4ob3B0cy51cGRhdGVyKTtcbiAgICAgICAgfSwgb3B0cy5mcmVxdWVuY3kpO1xuICAgICAgfTtcblxuICAgICAgLy8gaW5pdGlhdGUgdGhlIGV4cG9ydFxuICAgICAgY29uc3QgX2RlZmF1bHRGZXRjaFN0YXR1c1VybCA9IChtZXJnZWRPcHRzKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybS5hcHBlbmQoJ2NvbGxlY3Rpb24nLCBKU09OLnN0cmluZ2lmeShtZXJnZWRPcHRzLmNvbGxlY3Rpb24pKTtcbiAgICAgICAgZm9ybS5hcHBlbmQoJ3NjYWxlJywgbWVyZ2VkT3B0cy5zY2FsZSk7XG4gICAgICAgIGZvcm0uYXBwZW5kKCd1cGxvYWQnLCB0cnVlKTtcblxuICAgICAgICBjb25zdCByZXFPcHRzID0ge21ldGhvZDogJ1BPU1QnLCBib2R5OiBmb3JtfTtcbiAgICAgICAgY29uc3QgcmVxID0gbmV3IFJlcXVlc3QobWVyZ2VkT3B0cy5leHBvcnRTdGFydFVybCwgcmVxT3B0cyk7XG4gICAgICAgIGZldGNoKHJlcSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKG1lcmdlZE9wdHMuaGFuZGxlU3RhdHVzUmVzKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIHRoZSB1c2VyIGhhcyBwYXNzZWQgY29sbGVjdGlvbiBwcm9wZXJ0eVxuICAgICAgdGhpcy5jdXN0b21Db2xsZWN0aW9uID0gISFvcHRzLmNvbGxlY3Rpb247XG4gICAgICBpZiAoIXRoaXMuY3VzdG9tQ29sbGVjdGlvbikge1xuICAgICAgICBvcHRzLmNvbGxlY3Rpb24gPSB0aGlzLl9ncm91cC5nZW5lcmF0ZUV4cG9ydEpzb24oKS5pbWFnZXM7XG4gICAgICB9XG5cbiAgICAgIG9wdHMuZnJlcXVlbmN5ID0gb3B0cy5mcmVxdWVuY3kgfHwgMzAwMDtcbiAgICAgIG9wdHMuc2NhbGUgPSBvcHRzLnNjYWxlIHx8IDEwMDsgLy8gc3dpdGNoIGl0IHRvIF9nZXRBdmdDbVBlclBpeGVsICFcbiAgICAgIG9wdHMudXBkYXRlciA9IG9wdHMudXBkYXRlciB8fCBfZGVmYXVsdFVwZGF0ZXI7XG4gICAgICBvcHRzLmhhbmRsZVN0YXR1c1JlcyA9IG9wdHMuaGFuZGxlU3RhdHVzUmVzIHx8IF9kZWZhdWx0SGFuZGxlU3RhdHVzUmVzO1xuICAgICAgb3B0cy5mZXRjaFN0YXR1c1VybCA9IG9wdHMuZmV0Y2hTdGF0dXNVcmwgfHwgX2RlZmF1bHRGZXRjaFN0YXR1c1VybDtcblxuICAgICAgb3B0cy5mZXRjaFN0YXR1c1VybChvcHRzKTtcbiAgICB9KTtcbiAgfSxcbn0pO1xuXG5MLmRpc3RvcnRhYmxlQ29sbGVjdGlvbi5lZGl0ID0gKGdyb3VwLCBvcHRpb25zKSA9PiB7XG4gIHJldHVybiBuZXcgTC5EaXN0b3J0YWJsZUNvbGxlY3Rpb24uRWRpdChncm91cCwgb3B0aW9ucyk7XG59O1xuIiwiTC5Eb21VdGlsID0gTC5Eb21VdGlsIHx8IHt9O1xuTC5EaXN0b3J0YWJsZUltYWdlID0gTC5EaXN0b3J0YWJsZUltYWdlIHx8IHt9O1xuTC5kaXN0b3J0YWJsZUltYWdlID0gTC5EaXN0b3J0YWJsZUltYWdlO1xuXG5MLkRpc3RvcnRhYmxlSW1hZ2UuS2V5bWFwcGVyID0gTC5IYW5kbGVyLmV4dGVuZCh7XG5cbiAgb3B0aW9uczoge1xuICAgIHBvc2l0aW9uOiAndG9wcmlnaHQnLFxuICB9LFxuXG4gIGluaXRpYWxpemUobWFwLCBvcHRpb25zKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBpZiAoIXRoaXMuX2tleW1hcHBlcikge1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fYnVpbGRDb250YWluZXIoKTtcbiAgICAgIHRoaXMuX3Njcm9sbFdyYXBwZXIgPSB0aGlzLl93cmFwKCk7XG4gICAgICB0aGlzLl90b2dnbGVyID0gdGhpcy5fY3JlYXRlQnV0dG9uKCk7XG4gICAgICB0aGlzLl9zZXRNYXBwZXIodGhpcy5fY29udGFpbmVyLCB0aGlzLl9zY3JvbGxXcmFwcGVyLCB0aGlzLl90b2dnbGVyKTtcblxuICAgICAgTC5Eb21FdmVudC5vbih0aGlzLl90b2dnbGVyLCAnY2xpY2snLCB0aGlzLl90b2dnbGVLZXltYXBwZXIsIHRoaXMpO1xuXG4gICAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICBMLkRvbUV2ZW50LmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbih0aGlzLl9jb250YWluZXIpO1xuICAgIH1cbiAgfSxcblxuICByZW1vdmVIb29rcygpIHtcbiAgICBpZiAodGhpcy5fa2V5bWFwcGVyKSB7XG4gICAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLl90b2dnbGVyLCAnY2xpY2snLCB0aGlzLl90b2dnbGVLZXltYXBwZXIsIHRoaXMpO1xuXG4gICAgICBMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX3RvZ2dsZXIpO1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9zY3JvbGxXcmFwcGVyKTtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgIHRoaXMuX2tleW1hcHBlciA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBfYnVpbGRDb250YWluZXIoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xkaS1rZXltYXBwZXItaGlkZScpO1xuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xkaS1rZXltYXBwZXInKTtcblxuICAgIGNvbnN0IGRpdmlkZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdicicsICdkaXZpZGVyJyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdmlkZXIpO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfSxcblxuICBfY3JlYXRlQnV0dG9uKCkge1xuICAgIGNvbnN0IHRvZ2dsZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdhJywgJycpO1xuICAgIHRvZ2dsZXIuaW5uZXJIVE1MID0gTC5JY29uVXRpbC5jcmVhdGUoJ2tleWJvYXJkX29wZW4nKTtcblxuICAgIHRvZ2dsZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0b2dnbGUta2V5bWFwcGVyJyk7XG4gICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycpO1xuICAgIHRvZ2dsZXIuc2V0QXR0cmlidXRlKCd0aXRsZScsICdTaG93IGtleW1hcCcpO1xuICAgIC8vIFdpbGwgZm9yY2Ugc2NyZWVuIHJlYWRlcnMgbGlrZSBWb2ljZU92ZXIgdG8gcmVhZCB0aGlzIGFzIFwiU2hvdyBrZXltYXAgLSBidXR0b25cIlxuICAgIHRvZ2dsZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIHRvZ2dsZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ1Nob3cga2V5bWFwJyk7XG5cbiAgICByZXR1cm4gdG9nZ2xlcjtcbiAgfSxcblxuICBfd3JhcCgpIHtcbiAgICBjb25zdCB3cmFwID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJycpO1xuICAgIHdyYXAuc2V0QXR0cmlidXRlKCdpZCcsICdrZXltYXBwZXItd3JhcHBlcicpO1xuICAgIHdyYXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIHJldHVybiB3cmFwO1xuICB9LFxuXG4gIF9zZXRNYXBwZXIoY29udGFpbmVyLCB3cmFwLCBidXR0b24pIHtcbiAgICB0aGlzLl9rZXltYXBwZXIgPSBMLmNvbnRyb2woe3Bvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb259KTtcblxuICAgIHRoaXMuX2tleW1hcHBlci5vbkFkZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdyYXApO1xuICAgICAgd3JhcC5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICAgICAgJzx0YWJsZT48dGJvZHk+JyArXG4gICAgICAgICAgJzxociBpZD1cImtleW1hcHBlci1oclwiPicgK1xuICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5Sb3RhdGUgTW9kZTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPlI8L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5Sb3RhdGVTY2FsZSBNb2RlPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+cjwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPlNjYWxlIE1vZGU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5zPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+RGlzdG9ydCBNb2RlPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+ZDwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPkRyYWcgTW9kZTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPkQ8L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArICAgXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5Mb2NrIChNb2RlKSAvIFVubG9jayBJbWFnZTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPmw8L2tiZD5cXHhhMDxrYmQ+dTwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPlN0YWNrIHVwIC8gZG93bjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPnE8L2tiZD5cXHhhMDxrYmQ+YTwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPkFkZCAvIFJlbW92ZSBJbWFnZSBCb3JkZXI8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5iPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+VG9nZ2xlIE9wYWNpdHk8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5vPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+RGVzZWxlY3QgQWxsPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+ZXNjPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+RGVsZXRlIEltYWdlKHMpPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+ZGVsZXRlPC9rYmQ+XFx4YTA8a2JkPmJhY2tzcGFjZTwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPkV4cG9ydCBJbWFnZShzKTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPmU8L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArXG4gICAgICAgICAgJzwvdGJvZHk+PC90YWJsZT4nXG4gICAgICApO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG5cbiAgICB0aGlzLl9rZXltYXBwZXIuYWRkVG8odGhpcy5fbWFwKTtcbiAgfSxcblxuICBfdG9nZ2xlS2V5bWFwcGVyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lID0gKFxuICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZSA9PT0gJ2xkaS1rZXltYXBwZXIgbGVhZmxldC1jb250cm9sJyA/XG4gICAgICAgICdsZGkta2V5bWFwcGVyLWhpZGUgbGVhZmxldC1jb250cm9sJyA6XG4gICAgICAgICdsZGkta2V5bWFwcGVyIGxlYWZsZXQtY29udHJvbCdcbiAgICApO1xuXG4gICAgdGhpcy5fc2Nyb2xsV3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gKFxuICAgICAgdGhpcy5fc2Nyb2xsV3JhcHBlci5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnXG4gICAgKTtcblxuICAgIHRoaXMuX3RvZ2dsZXIuaW5uZXJIVE1MID0gKFxuICAgICAgdGhpcy5fdG9nZ2xlci5pbm5lckhUTUwgPT09ICdjbG9zZScgP1xuICAgICAgICBMLkljb25VdGlsLmNyZWF0ZSgna2V5Ym9hcmRfb3BlbicpIDpcbiAgICAgICAgJ2Nsb3NlJ1xuICAgICk7XG5cbiAgICBMLkljb25VdGlsLnRvZ2dsZVRpdGxlKHRoaXMuX3RvZ2dsZXIsICdTaG93IGtleW1hcCcsICdIaWRlIGtleW1hcCcpO1xuICAgIEwuRG9tVXRpbC50b2dnbGVDbGFzcyh0aGlzLl90b2dnbGVyLCAnY2xvc2UtaWNvbicpO1xuICB9LFxuXG4gIF9pbmplY3RJY29uU2V0KCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcja2V5bWFwcGVyLWljb25zZXQnKSkgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IGVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJycpO1xuICAgIGVsLmlkID0gJ2tleW1hcHBlci1pY29uc2V0JztcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcblxuICAgIHRoaXMuX2ljb25zZXQgPSBuZXcgTC5LZXltYXBwZXJJY29uU2V0KCkucmVuZGVyKCk7XG4gICAgZWwuaW5uZXJIVE1MID0gdGhpcy5faWNvbnNldDtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWFmbGV0LWNvbnRyb2wtY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoZWwpO1xuICB9LFxufSk7XG5cbkwuRGlzdG9ydGFibGVJbWFnZS5LZXltYXBwZXIuYWRkSW5pdEhvb2soKCkgPT4ge1xuICBMLkRpc3RvcnRhYmxlSW1hZ2UuS2V5bWFwcGVyLnByb3RvdHlwZS5fbiA9IChcbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuS2V5bWFwcGVyLnByb3RvdHlwZS5fbiA/XG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLktleW1hcHBlci5wcm90b3R5cGUuX24gKyAxIDpcbiAgICAxXG4gICk7XG4gIC8vIGRvbnQgZW5hYmxlIGtleW1hcHBlciBmb3IgbW9iaWxlXG4gIGlmIChMLkRpc3RvcnRhYmxlSW1hZ2UuS2V5bWFwcGVyLnByb3RvdHlwZS5fbiA9PT0gMSAmJiAhTC5Ccm93c2VyLm1vYmlsZSkge1xuICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgdGhpcy5faW5qZWN0SWNvblNldCgpO1xuICB9XG59KTtcblxuTC5kaXN0b3J0YWJsZUltYWdlLmtleW1hcHBlciA9IChtYXAsIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlSW1hZ2UuS2V5bWFwcGVyKG1hcCwgb3B0aW9ucyk7XG59O1xuIiwiLyoqXG4gKiBgTC5NYXAuRG91YmxlQ2xpY2tab29tYCBmcm9tIGxlYWZsZXQgMS41LjEsIG92ZXJyd3JpdHRlbiBzbyB0aGF0IGl0XG4gKiAxKSBGaXJlcyBhIGBzaW5nbGVjbGlja2AgZXZlbnQgdG8gYXZvaWQgZGVzZWxlY3RpbmcgaW1hZ2VzIG9uIGBkYmxjbGlja2AuXG4gKiAyKSBNYWludGFpbnMgYSBtdXR1YWxseSBleGNsdXNpdmUgcmVsYXRpb25zaGlwIHdpdGggdGhlIG1hcCdzIGBEb3VibGVDbGlja0xhYmVsc2AgaGFuZGxlclxuICovXG5MLk1hcC5Eb3VibGVDbGlja1pvb20uaW5jbHVkZSh7XG4gIGFkZEhvb2tzKCkge1xuICAgIHRoaXMuX21hcC5vbihcbiAgICAgIHtcbiAgICAgICAgY2xpY2s6IHRoaXMuX2ZpcmVJZlNpbmdsZSxcbiAgICAgICAgZGJsY2xpY2s6IHRoaXMuX29uRG91YmxlQ2xpY2ssXG4gICAgICB9LFxuICAgICAgdGhpc1xuICAgICk7XG4gIH0sXG5cbiAgcmVtb3ZlSG9va3MoKSB7XG4gICAgdGhpcy5fbWFwLm9mZihcbiAgICAgIHtcbiAgICAgICAgY2xpY2s6IHRoaXMuX2ZpcmVJZlNpbmdsZSxcbiAgICAgICAgZGJsY2xpY2s6IHRoaXMuX29uRG91YmxlQ2xpY2ssXG4gICAgICB9LFxuICAgICAgdGhpc1xuICAgICk7XG4gIH0sXG5cbiAgZW5hYmxlKCkge1xuICAgIGlmICh0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBkb24ndCBlbmFibGUgJ2RvdWJsZUNsaWNrWm9vbScgdW5sZXNzICdkb3VibGVDbGlja0xhYmVscycgaXMgZGlzYWJsZWQgZmlyc3RcbiAgICBpZiAodGhpcy5fbWFwLmRvdWJsZUNsaWNrTGFiZWxzKSB7XG4gICAgICBpZiAodGhpcy5fbWFwLmRvdWJsZUNsaWNrTGFiZWxzLmVuYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzaWduaWZ5IHRvIGNvbGxlY3Rpb24vaW5zdGFuY2UgY2xhc3NlcyB0byB0dXJuIG9uICdzaW5nbGVjbGljaycgbGlzdGVuZXJzXG4gICAgdGhpcy5fbWFwLmZpcmUoJ3NpbmdsZWNsaWNrb24nKTtcblxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuYWRkSG9va3MoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBkaXNhYmxlKCkge1xuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gc2lnbmlmeSB0byBjb2xsZWN0aW9uL2luc3RhbmNlIHNhZmUgdG8gc3dhcCAnc2luZ2xlY2xpY2snIGxpc3RlbmVycyB3aXRoICdjbGljaycgbGlzdGVuZXJzLlxuICAgIHRoaXMuX21hcC5maXJlKCdzaW5nbGVjbGlja29mZicpO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVtb3ZlSG9va3MoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBfZmlyZUlmU2luZ2xlKGUpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3Qgb2UgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAvLyBwcmV2ZW50cyBkZXNlbGVjdGlvbiBpbiBjYXNlIG9mIGJveCBzZWxlY3RvclxuICAgIGlmIChvZSAmJiBvZS5zaGlmdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcC5fY2xpY2tlZCArPSAxO1xuICAgIHRoaXMuX21hcC5fY2xpY2tUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobWFwLl9jbGlja2VkID09PSAxKSB7XG4gICAgICAgIG1hcC5fY2xpY2tlZCA9IDA7XG4gICAgICAgIG1hcC5maXJlKCdzaW5nbGVjbGljaycsIHt0eXBlOiAnc2luZ2xlY2xpY2snfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBtYW51YWxseSBmaXJlIGRvdWJsZWNsaWNrIGV2ZW50IG9ubHkgZm9yIHRvdWNoIHNjcmVlbnMgdGhhdCBkb24ndCBuYXRpdmVseSBmaXJlIGl0XG4gICAgICAgIGlmIChcbiAgICAgICAgICBMLkJyb3dzZXIudG91Y2ggJiZcbiAgICAgICAgICBvZSAmJlxuICAgICAgICAgIG9lLnNvdXJjZUNhcGFiaWxpdGllcyAmJlxuICAgICAgICAgIG9lLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzXG4gICAgICAgICkge1xuICAgICAgICAgIC8qICBpbiBgRG91YmxlQ2xpY2tMYWJlbHMuanNgLCB3ZSBqdXN0IGRvIG1hcC5maXJlKCdkYmxjbGljaycpIGJjIGBfb25Eb3VibENsaWNrYCBkb2Vzbid0IHVzZSB0aGVcbiAgICAgICAgICBwYXNzZWQgXCJlXCIgKGZvciBub3cpLiBUbyBnZW5lcmF0ZSBhICdyZWFsJyBET00gZXZlbnQgdGhhdCB3aWxsIGhhdmUgYWxsIG9mIGl0cyBjb3JyZXNwb25kaW5nIGNvcmVcbiAgICAgICAgICBwcm9wZXJ0aWVzIChvcmlnaW5hbEV2ZW50LCBsYXRsbmcsIGV0Yy4pLCB1c2UgTGVhZmxldCdzIGAjbWFwLl9maXJlRE9NRXZlbnRgIChMZWFmbGV0IDEuNS4xIHNvdXJjZSkgKi9cbiAgICAgICAgICBtYXAuX2ZpcmVET01FdmVudChvZSwgJ2RibGNsaWNrJywgW21hcF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMjUwKTtcbiAgfSxcblxuICBfb25Eb3VibGVDbGljayhlKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IG9lID0gZS5vcmlnaW5hbEV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBtYXAuX2NsaWNrZWQgPSAwO1xuICAgICAgY2xlYXJUaW1lb3V0KG1hcC5fY2xpY2tUaW1lb3V0KTtcbiAgICB9LCAwKTtcblxuICAgIGlmICghb2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRab29tID0gbWFwLmdldFpvb20oKTtcbiAgICBjb25zdCBkZWx0YSA9IG1hcC5vcHRpb25zLnpvb21EZWx0YTtcbiAgICBjb25zdCB6b29tID0gb2Uuc2hpZnRLZXkgPyBvbGRab29tIC0gZGVsdGEgOiBvbGRab29tICsgZGVsdGE7XG5cbiAgICBpZiAobWFwLm9wdGlvbnMuZG91YmxlQ2xpY2tab29tID09PSAnY2VudGVyJykge1xuICAgICAgbWFwLnNldFpvb20oem9vbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcC5zZXRab29tQXJvdW5kKGUuY29udGFpbmVyUG9pbnQsIHpvb20pO1xuICAgIH1cbiAgfSxcbn0pO1xuIiwiTC5NYXAubWVyZ2VPcHRpb25zKHtcbiAgYm94Q29sbGVjdG9yOiB0cnVlLFxuICBib3hab29tOiBmYWxzZSxcbn0pO1xuXG4vKipcbiAqIHByaW1hcmlseSBMZWFmbGV0IDEuNS4xIHNvdXJjZSBjb2RlLiBPdmVycmlkZW4gc28gdGhhdCBpdCdzIGEgY29sbGVjdGlvbiBib3ggdXNlZCB3aXRoXG4gKiBvdXIgYEwuRGlzdG9ydGFibGVDb2xsZWN0aW9uYCBjbGFzcyBpbnN0ZWFkIG9mIGEgem9vbSBib3guXG4gKiAqL1xuTC5NYXAuQm94Q29sbGVjdG9yID0gTC5NYXAuQm94Wm9vbS5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9jb250YWluZXIgPSBtYXAuX2NvbnRhaW5lcjtcbiAgICB0aGlzLl9wYW5lID0gbWFwLl9wYW5lcy5vdmVybGF5UGFuZTtcbiAgICB0aGlzLl9yZXNldFN0YXRlVGltZW91dCA9IDA7XG4gICAgbWFwLm9uKCd1bmxvYWQnLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbiAgfSxcblxuICByZW1vdmVIb29rcygpIHtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG4gIH0sXG5cbiAgbW92ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vdmVkO1xuICB9LFxuXG4gIF9kZXN0cm95KCkge1xuICAgIEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fcGFuZSk7XG4gICAgZGVsZXRlIHRoaXMuX3BhbmU7XG4gIH0sXG5cbiAgX3Jlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSAwO1xuICAgIHRoaXMuX21vdmVkID0gZmFsc2U7XG4gIH0sXG5cbiAgX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9yZXNldFN0YXRlVGltZW91dCAhPT0gMCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0KTtcbiAgICAgIHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gMDtcbiAgICB9XG4gIH0sXG5cbiAgX29uTW91c2VEb3duKGUpIHtcbiAgICBpZiAoIWUuc2hpZnRLZXkgfHwgKGUud2hpY2ggIT09IDEgJiYgZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgdGhlIGRlZmVycmVkIHJlc2V0U3RhdGUgaWYgaXQgaGFzbid0IGV4ZWN1dGVkIHlldCwgb3RoZXJ3aXNlIGl0XG4gICAgLy8gd2lsbCBpbnRlcnJ1cHQgdGhlIGludGVyYWN0aW9uIGFuZCBvcnBoYW4gYSBib3ggZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuICAgIHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG4gICAgdGhpcy5fcmVzZXRTdGF0ZSgpO1xuXG4gICAgTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uKCk7XG4gICAgTC5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKTtcblxuICAgIHRoaXMuX3N0YXJ0UG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGRvY3VtZW50LCB7XG4gICAgICBjb250ZXh0bWVudTogTC5Eb21FdmVudC5zdG9wLFxuICAgICAgbW91c2Vtb3ZlOiB0aGlzLl9vbk1vdXNlTW92ZSxcbiAgICAgIG1vdXNldXA6IHRoaXMuX29uTW91c2VVcCxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBfb25Nb3VzZU1vdmUoZSkge1xuICAgIGlmICghdGhpcy5fbW92ZWQpIHtcbiAgICAgIHRoaXMuX21vdmVkID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fYm94ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtem9vbS1ib3gnLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG5cbiAgICAgIHRoaXMuX21hcC5maXJlKCdib3h6b29tc3RhcnQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuICAgIHRoaXMuX2JvdW5kcyA9IEwuYm91bmRzKHRoaXMuX3N0YXJ0UG9pbnQsIHRoaXMuX3BvaW50KTtcbiAgICBjb25zdCBzaXplID0gdGhpcy5fYm91bmRzLmdldFNpemUoKTtcblxuICAgIEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsIHRoaXMuX2JvdW5kcy5taW4pO1xuXG4gICAgdGhpcy5fYm94LnN0eWxlLndpZHRoID0gc2l6ZS54ICsgJ3B4JztcbiAgICB0aGlzLl9ib3guc3R5bGUuaGVpZ2h0ID0gc2l6ZS55ICsgJ3B4JztcbiAgfSxcblxuICBfZmluaXNoKCkge1xuICAgIGlmICh0aGlzLl9tb3ZlZCkge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9ib3gpO1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG4gICAgfVxuXG4gICAgTC5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcbiAgICBMLkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCk7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwge1xuICAgICAgY29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcbiAgICAgIG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG4gICAgICBtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cbiAgX29uTW91c2VVcChlKSB7XG4gICAgaWYgKGUud2hpY2ggIT09IDEgJiYgZS5idXR0b24gIT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9maW5pc2goKTtcblxuICAgIGlmICghdGhpcy5fbW92ZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBQb3N0cG9uZSB0byBuZXh0IEpTIHRpY2sgc28gaW50ZXJuYWwgY2xpY2sgZXZlbnQgaGFuZGxpbmdcbiAgICAvLyBzdGlsbCBzZWUgaXQgYXMgXCJtb3ZlZFwiLlxuICAgIHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG4gICAgdGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICBMLlV0aWwuYmluZCh0aGlzLl9yZXNldFN0YXRlLCB0aGlzKSwgMCk7XG5cbiAgICBsZXQgYm91bmRzID0gTC5sYXRMbmdCb3VuZHMoXG4gICAgICAgIHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX2JvdW5kcy5nZXRCb3R0b21MZWZ0KCkpLFxuICAgICAgICB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyh0aGlzLl9ib3VuZHMuZ2V0VG9wUmlnaHQoKSlcbiAgICApO1xuXG4gICAgY29uc3Qgem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpO1xuXG4gICAgLy8gY2FsbHMgdGhlIGBwcm9qZWN0YCBtZXRob2QgYnV0IDFzdCB1cGRhdGVzIHRoZSBwaXhlbCBvcmlnaW4gLSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3B1YmxpY2xhYi9MZWFmbGV0LkRpc3RvcnRhYmxlSW1hZ2UvcHVsbC8zNDRcbiAgICBib3VuZHMgPSB0aGlzLl9tYXAuX2xhdExuZ0JvdW5kc1RvTmV3TGF5ZXJCb3VuZHMoYm91bmRzLCB6b29tLCBjZW50ZXIpO1xuXG4gICAgdGhpcy5fbWFwLmZpcmUoJ2JveGNvbGxlY3RlbmQnLCB7Ym94Q29sbGVjdEJvdW5kczogYm91bmRzfSk7XG4gIH0sXG59KTtcblxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnYm94Q29sbGVjdG9yJywgTC5NYXAuQm94Q29sbGVjdG9yKTtcbiIsIkwuTWFwLm1lcmdlT3B0aW9ucyh7XG4gIGRvdWJsZUNsaWNrTGFiZWxzOiB0cnVlLFxufSk7XG5cbi8qKlxuICogVGhlIGBkb3VibGVDbGlja0xhYmVsc2AgaGFuZGxlciByZXBsYWNlcyBgZG91YmxlQ2xpY2tab29tYCBieSBkZWZhdWx0IGlmIGAjYWRkR29vZ2xlTXV0YW50YFxuICogaXMgdXNlZCB1bmxlc3MgdGhlIG9wdGlvbnMgJ2xhYmVsczogZmFsc2UnIG9yICdkb3VibGVDbGlja1pvb206IGZhbHNlYCB3ZXJlIHBhc3NlZCB0byBpdC5cbiAqL1xuTC5NYXAuRG91YmxlQ2xpY2tMYWJlbHMgPSBMLk1hcC5Eb3VibGVDbGlja1pvb20uZXh0ZW5kKHtcbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIGlmICh0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlICdkb3VibGVDbGlja1pvb20nIGlmICdkb3VibGVDbGlja0xhYmVscycgaXMgZW5hYmxlZC5cbiAgICBpZiAobWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGVkKCkpIHtcbiAgICAgIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX21hcC5maXJlKCdzaW5nbGVjbGlja29uJyk7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmFkZEhvb2tzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZGlzYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbW92ZUhvb2tzKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBfZmlyZUlmU2luZ2xlKGUpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3Qgb2UgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAvLyBwcmV2ZW50cyBkZXNlbGVjdGlvbiBpbiBjYXNlIG9mIGJveCBzZWxlY3RvclxuICAgIGlmIChvZSAmJiBvZS5zaGlmdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcC5fY2xpY2tlZCArPSAxO1xuICAgIHRoaXMuX21hcC5fY2xpY2tUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobWFwLl9jbGlja2VkID09PSAxKSB7XG4gICAgICAgIG1hcC5fY2xpY2tlZCA9IDA7XG4gICAgICAgIG1hcC5maXJlKCdzaW5nbGVjbGljaycsIHt0eXBlOiAnc2luZ2xlY2xpY2snfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBtYW51YWxseSBmaXJlIGRvdWJsZWNsaWNrIGV2ZW50IG9ubHkgZm9yIHRvdWNoIHNjcmVlbnMgdGhhdCBkb24ndCBuYXRpdmVseSBmaXJlIGl0XG4gICAgICAgIGlmIChcbiAgICAgICAgICBMLkJyb3dzZXIudG91Y2ggJiZcbiAgICAgICAgICBvZSAmJlxuICAgICAgICAgIG9lLnNvdXJjZUNhcGFiaWxpdGllcyAmJlxuICAgICAgICAgIG9lLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzXG4gICAgICAgICkge1xuICAgICAgICAgIG1hcC5maXJlKCdkYmxjbGljaycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMjUwKTtcbiAgfSxcblxuICBfb25Eb3VibGVDbGljaygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgbGFiZWxzID0gbWFwLl9sYWJlbHM7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG1hcC5fY2xpY2tlZCA9IDA7XG4gICAgICBjbGVhclRpbWVvdXQobWFwLl9jbGlja1RpbWVvdXQpO1xuICAgIH0sIDApO1xuXG4gICAgaWYgKCFsYWJlbHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobGFiZWxzLm9wdGlvbnMub3BhY2l0eSA9PT0gMSkge1xuICAgICAgbGFiZWxzLm9wdGlvbnMub3BhY2l0eSA9IDA7XG4gICAgICBsYWJlbHMuc2V0T3BhY2l0eSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWxzLm9wdGlvbnMub3BhY2l0eSA9IDE7XG4gICAgICBsYWJlbHMuc2V0T3BhY2l0eSgxKTtcbiAgICB9XG4gIH0sXG59KTtcblxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnZG91YmxlQ2xpY2tMYWJlbHMnLCBMLk1hcC5Eb3VibGVDbGlja0xhYmVscyk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5MLk1hcC5pbmNsdWRlKHtcblxuICBfY2xpY2tlZDogMCxcblxuICBhZGRHb29nbGVNdXRhbnQob3B0cykge1xuICAgIGNvbnN0IHVybCA9ICdodHRwOi8vbXQwLmdvb2dsZS5jb20vdnQvbHlycz1zJng9e3h9Jnk9e3l9Jno9e3p9JztcblxuICAgIG9wdHMgPSB0aGlzLm11dGFudE9wdGlvbnMgPSBMLmV4dGVuZCh7XG4gICAgICBtdXRhbnRPcGFjaXR5OiAwLjgsXG4gICAgICBtYXhab29tOiAyNCxcbiAgICAgIG1heE5hdGl2ZVpvb206IDIwLFxuICAgICAgbWluWm9vbTogMCxcbiAgICAgIGxhYmVsczogdHJ1ZSxcbiAgICAgIGxhYmVsT3BhY2l0eTogMSxcbiAgICAgIGRvdWJsZUNsaWNrTGFiZWxzOiB0cnVlLFxuICAgIH0sIG9wdHMpO1xuXG4gICAgaWYgKCFvcHRzLmxhYmVscykge1xuICAgICAgdGhpcy5tdXRhbnRPcHRpb25zID0gTC5leHRlbmQodGhpcy5tdXRhbnRPcHRpb25zLCB7XG4gICAgICAgIGxhYmVsT3BhY2l0eTogb3B0cy5sYWJlbHMgPyAxIDogdW5kZWZpbmVkLFxuICAgICAgICBkb3VibGVDbGlja0xhYmVsczogb3B0cy5sYWJlbHMgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZ29vZ2xlTXV0YW50ID0gTC50aWxlTGF5ZXIodXJsLCB7XG4gICAgICBtYXhab29tOiBvcHRzLm1heFpvb20sXG4gICAgICBtYXhOYXRpdmVab29tOiBvcHRzLm1heE5hdGl2ZVpvb20sXG4gICAgICBtaW5ab29tOiBvcHRzLm1pblpvb20sXG4gICAgICBvcGFjaXR5OiBvcHRzLm11dGFudE9wYWNpdHksXG4gICAgfSkuYWRkVG8odGhpcyk7XG5cbiAgICBpZiAob3B0cy5sYWJlbHMpIHsgdGhpcy5fYWRkTGFiZWxzKG9wdHMpOyB9XG4gICAgLy8gc2hvdWxkbid0IGhhdmUgdGhpcyBoYW5kbGVyIGF0IGFsbCBpZiB0aGVyZSBhcmUgbm8gbGFiZWxzIHRvIHRvZ2dsZVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kb3VibGVDbGlja0xhYmVscyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBfYWRkTGFiZWxzKG9wdHMpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9zdGFtZW4tdGlsZXMte3N9LmEuc3NsLmZhc3RseS5uZXQvdG9uZXItbGFiZWxzL3t6fS97eH0ve3l9e3J9LntleHR9JztcblxuICAgIGlmIChvcHRzLmxhYmVsT3BhY2l0eSAhPT0gMCAmJiBvcHRzLmxhYmVsT3BhY2l0eSAhPT0gMSkge1xuICAgICAgb3B0cy5sYWJlbE9wYWNpdHkgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuX2xhYmVscyA9IEwudGlsZUxheWVyKHVybCwge1xuICAgICAgYXR0cmlidXRpb246ICdNYXAgdGlsZXMgYnkgPGEgaHJlZj1cImh0dHA6Ly9zdGFtZW4uY29tXCI+U3RhbWVuIERlc2lnbjwvYT4sIDxhIGhyZWY9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS8zLjBcIj5DQyBCWSAzLjA8L2E+ICZtZGFzaDsgTWFwIGRhdGEgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnLFxuICAgICAgc3ViZG9tYWluczogJ2FiY2QnLFxuICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgb3BhY2l0eTogb3B0cy5sYWJlbE9wYWNpdHksXG4gICAgICBtYXhab29tOiBvcHRzLm1heFpvb20sXG4gICAgICBtYXhOYXRpdmVab29tOiBvcHRzLm1heE5hdGl2ZVpvb20sXG4gICAgICBtaW5ab29tOiBvcHRzLm1pblpvb20sXG4gICAgICBleHQ6ICdwbmcnLFxuICAgIH0pLmFkZFRvKHRoaXMpO1xuXG4gICAgaWYgKHRoaXMubXV0YW50T3B0aW9ucy5kb3VibGVDbGlja0xhYmVscykge1xuICAgICAgdGhpcy5kb3VibGVDbGlja0xhYmVscy5lbmFibGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbn0pO1xuLy8gc3RhcnQgb2ZmIHdpdGggZG91YmxlQ2xpY2tab29tIGVuYWJsZWQsIGRvdWJsZUNsaWNrTGFiZWxzIGNhbiBsYXRlciBiZSBlbmFibGVkIGluc3RlYWRcbi8vIGR1cmluZyBpbml0aWFsaXphdGlvblxuTC5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKSB7XG4gIHRoaXMuZG91YmxlQ2xpY2tMYWJlbHMuZGlzYWJsZSgpO1xuICB0aGlzLmRvdWJsZUNsaWNrWm9vbS5lbmFibGUoKTtcbn0pO1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwia2V5Iiwib2JqIiwibmVzdGVkS2V5IiwiayIsIm0iLCJpczNkIiwibWF0cml4Iiwic3RyIiwiZWwiLCJjbGFzc05hbWUiLCJjIiwibiIsIndhcm5pbmdNc2ciLCJyZWYiLCJjb250YWluZXIiLCJsb2FkZXIiLCJzdmciLCJyZWYxIiwicmVmMiIsInVzZSIsInRvZ2dsZWQiLCJ0aXRsZTEiLCJ0aXRsZTIiLCJvdmVybGF5IiwibWFwIiwiYSIsImIiLCJpIiwiaiIsImNpaiIsInYiLCJzIiwibCIsIngxIiwieTEiLCJ4MiIsInkyIiwieDMiLCJ5MyIsIng0IiwieTQiLCJ4IiwieSIsIngxcyIsInkxcyIsIngxZCIsInkxZCIsIngycyIsInkycyIsIngyZCIsInkyZCIsIngzcyIsInkzcyIsIngzZCIsInkzZCIsIng0cyIsInk0cyIsIng0ZCIsInk0ZCIsImQiLCJ1bml0IiwiYW5nbGUiLCJ1cmwiLCJvcHRpb25zIiwidW5pdHMiLCJldmVudFBhcmVudHMiLCJvcmlnaW5hbEltYWdlV2lkdGgiLCJvcmlnaW5hbEltYWdlSGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJpbWFnZUhlaWdodCIsImltYWdlV2lkdGgiLCJjZW50ZXIiLCJvZmZzZXQiLCJlIiwiZWRpdCIsImVQIiwibGF5ZXIiLCJjb3JuZXIiLCJsYXRsbmciLCJ6b29tIiwiZXhjZWVkc1RvcCIsImV4Y2VlZHNCb3R0b20iLCJsYXRsbmdPYmoiLCJwb2ludHNPYmoiLCJzY2FsZSIsInAiLCJzY2FsZWRDb3JuZXJzIiwicm93MHgiLCJyb3cweSIsInJvdzF4Iiwicm93MXkiLCJkZXRlcm1pbmFudCIsImN1cnJlbnRBbmdsZSIsImFuZ2xlVG9Sb3RhdGVCeSIsImNvcm5lcnMiLCJxIiwiZm9ybWVyUG9pbnQiLCJuZXdQb2ludCIsInRyYW5zQ29ybmVycyIsImRlbHRhIiwicG9pbnQiLCJvcGVuIiwiY2xvc2UiLCJpbWFnZSIsImxhdExuZ1RvTGF5ZXJQb2ludCIsInRyYW5zZm9ybU1hdHJpeCIsInRvcExlZnQiLCJ3YXJwIiwiZXZlbnQiLCJsYXRMbmdUb05ld0xheWVyUG9pbnQiLCJyZWR1Y2UiLCJhZ2ciLCJsYXRMbmdUb0NhcnRlc2lhbiIsInciLCJoIiwiaWQiLCJhcnIiLCJlYWNoIiwibW9kZSIsImxheWVyc1RvTW92ZSIsIm1vdmVkUG9pbnRzIiwiaW1ncyIsInN1bSIsImltZyIsImluZGV4IiwiaW1nQ29sbGVjdGlvblByb3BzIiwicmVzcG9uc2UiLCJkYXRhIiwiZXJyIiwiaW1hZ2VDb2xsZWN0aW9uT2JqIiwiYWxsSW1hZ2VzIiwianNvbiIsInNlY3Rpb25zIiwiZmlsZW5hbWUiLCJ6YyIsIkdQUyIsIm1hcmtlck9wdGlvbnMiLCJsYXRsbmdBIiwibGF0bG5nQiIsImNlbnRlclBvaW50IiwiZm9ybWVyUmFkaXVzU3F1YXJlZCIsIm5ld1JhZGl1c1NxdWFyZWQiLCJkeCIsImR5IiwiaW5pdGlhbEFuZ2xlIiwiaWR4IiwiZm9ybWVyTGF0TG5nIiwibmV3TGF0TG5nIiwiZWRnZU1pbldpZHRoIiwiY29ybmVyMSIsImNvcm5lcjIiLCJpY29uIiwiaGFuZGxlc0FyciIsImhhbmRsZSIsInN5bWJvbHMiLCJ0b29sYmFyIiwiYXJncyIsImljb25PcHRpb25zIiwic3R5bGUiLCJtYXRjaCIsInRvb2x0aXAiLCJleHBvcnRUb29sIiwiZWxlbWVudCIsIm9wYWNpdGllcyIsIm8iLCJBY3Rpb24iLCJhY3Rpb24iLCJsaW5rIiwiZWRpdGVkIiwib3YiLCJuYW1lIiwidG9vbHMiLCJ0b29sIiwiaGFuZGxlck5hbWUiLCJvbGQiLCJuZXh0IiwiaXRlbSIsInZhbHVlIiwiY3VycmVudFBvaW50Iiwib3BhY2l0eSIsIm91dGxpbmUiLCJkb3dubG9hZGFibGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm53IiwibmUiLCJzdyIsInNlIiwibWF4TGF0IiwicmFpc2VkUG9pbnQiLCJuZXdNb2RlIiwibW9kZXNBcnJheSIsIm5leHRJZHgiLCJncm91cCIsIm9lIiwiYm94IiwiaW1nQm91bmRzIiwibGF5ZXJzVG9SZW1vdmUiLCJyZXNvbHZlIiwib3B0cyIsInN0YXR1c1VybCIsIl9kZWZhdWx0VXBkYXRlciIsIl9kZWZhdWx0SGFuZGxlU3RhdHVzUmVzIiwicmVxT3B0cyIsInJlcSIsInJlcyIsIl9kZWZhdWx0RmV0Y2hTdGF0dXNVcmwiLCJtZXJnZWRPcHRzIiwiZm9ybSIsImRpdmlkZXIiLCJ0b2dnbGVyIiwid3JhcCIsImJ1dHRvbiIsInRoaXMiLCJvbGRab29tIiwic2l6ZSIsImJvdW5kcyIsImxhYmVscyJdLCJtYXBwaW5ncyI6InlCQUFBLEVBQUUsTUFBUSxDQUNSLGlCQUFrQixDQUNoQixNQUFNQSxFQUFjLENBQ2xCLFlBQWEsZUFDYixhQUFjLGdCQUNkLGFBQWMsZ0JBQ2QsVUFBVyxhQUNYLFlBQWEsZUFDYixhQUFjLGdCQUNkLGFBQWMsZ0JBQ2QsVUFBVyxhQUNYLGdCQUFpQixvQkFDakIsZUFBZ0Isa0JBQ2hCLFNBQVUsWUFDVixXQUFZLGNBQ1osZ0JBQWlCLG9CQUNqQixxQkFBc0IseUJBQ3RCLGFBQWMsd0JBQ2QsWUFBYSxlQUNiLFdBQVksY0FDWixhQUFjLGlCQUNkLFlBQWEsZ0JBQ2IsYUFBYyxnQkFDZCxtQkFDRSxxRUFDRixxQkFDRSxzRUFDUixFQUVJLEdBQUksQ0FBQyxLQUFLLFFBQVEsWUFDaEIsS0FBSyxRQUFRLFlBQWNBLE1BRzNCLFdBQVdDLEtBQU9ELEVBQ1gsS0FBSyxRQUFRLFlBQVksZUFBZUMsQ0FBRyxJQUM5QyxLQUFLLFFBQVEsWUFBWUEsQ0FBRyxFQUFJRCxFQUFZQyxDQUFHLEdBS3JELEVBQUUsUUFBUSxnQkFBZ0IsS0FBSyxRQUFRLFdBQVcsQ0FDdEQsRUFFRSxhQUFhQyxFQUFLRCxFQUFLRSxFQUFXLENBRWhDLE1BRFksQ0FBQ0YsRUFBS0UsQ0FBUyxFQUNoQixPQUFPLFNBQVNELEVBQUtFLEVBQUcsQ0FDakMsT0FBT0YsR0FBT0EsRUFBSUUsQ0FBQyxDQUN6QixFQUFPRixDQUFHLENBQ1YsQ0FDQSxFQ2pEQSxFQUFFLFFBQVUsRUFBRSxPQUFPLEVBQUUsUUFB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
