(function(){"use strict";L.Utils={initTranslation(){const t={deleteImage:"Delete Image",deleteImages:"Delete Images",distortImage:"Distort Image",dragImage:"Drag Image",exportImage:"Export Image",exportImages:"Export Images",removeBorder:"Remove Border",addBorder:"Add Border",freeRotateImage:"Free rotate Image",geolocateImage:"Geolocate Image",lockMode:"Lock Mode",lockImages:"Lock Images",makeImageOpaque:"Make Image Opaque",makeImageTransparent:"Make Image Transparent",restoreImage:"Restore Natural Image",rotateImage:"Rotate Image",scaleImage:"Scale Image",stackToFront:"Stack to Front",stackToBack:"Stack to Back",unlockImages:"Unlock Images",confirmImageDelete:"Are you sure? This image will be permanently deleted from the map.",confirmImagesDeletes:"Are you sure? These images will be permanently deleted from the map."};if(!this.options.translation)this.options.translation=t;else for(const e in t)this.options.translation.hasOwnProperty(e)||(this.options.translation[e]=t[e]);L.DomUtil.initTranslation(this.options.translation)},getNestedVal(t,e,i){return[e,i].reduce(function(s,n){return s&&s[n]},t)}},L.DomUtil=L.extend(L.DomUtil,{initTranslation(t){this.translation=t},getMatrixString(t){const e=L.Browser.webkit3d||L.Browser.gecko3d||L.Browser.ie3d,i=[t[0],t[3],0,t[6],t[1],t[4],0,t[7],0,0,1,0,t[2],t[5],0,t[8]],o=e?"matrix3d("+i.join(",")+")":"";return e||console.log("Your browser must support 3D CSS transformsin order to use DistortableImageOverlay."),o},toggleClass(t,e){const i=e;return this.hasClass(t,i)?this.removeClass(t,i):this.addClass(t,i)},confirmDelete(){return window.confirm(this.translation.confirmImageDelete)},confirmDeletes(t){if(t===1)return this.confirmDelete();const e=this.translation.confirmImagesDeletes;let i="";return typeof e=="function"?i=e(t):i=e,window.confirm(i)}}),L.IconUtil={create(t){return/^#/.test(t)&&(t=t.replace(/^#/,"")),'<svg class="ldi-icon ldi-'+t+'"role="img" focusable="false"><use xlink:href="#'+t+'"></use></svg>'},addClassToSvg(t,e){const i=t.querySelector("svg");i&&L.DomUtil.addClass(i,e)},toggleXlink(t,e,i){/^#/.test(e)||(e="#"+e),/^#/.test(i)||(i="#"+i);const o=t.querySelector("use");if(o){const s=o.getAttribute("xlink:href")===e?i:e;return o.setAttribute("xlink:href",s),s}return!1},toggleTitle(t,e,i){const o=t.getAttribute("title")===e?i:e;return t.setAttribute("title",o),t.hasAttribute("aria-label")&&t.setAttribute("aria-label",o),o}},L.ImageUtil={getCmPerPixel(t){const e=t._map;return e.latLngToLayerPoint(t.getCorner(0)).distanceTo(e.latLngToLayerPoint(t.getCorner(1)))*100/t.getElement().width}},L.MatrixUtil={adj(t){return[t[4]*t[8]-t[5]*t[7],t[2]*t[7]-t[1]*t[8],t[1]*t[5]-t[2]*t[4],t[5]*t[6]-t[3]*t[8],t[0]*t[8]-t[2]*t[6],t[2]*t[3]-t[0]*t[5],t[3]*t[7]-t[4]*t[6],t[1]*t[6]-t[0]*t[7],t[0]*t[4]-t[1]*t[3]]},multmm(t,e){const i=[];let o;for(o=0;o<3;o++)for(let s=0;s<3;s++){let n=0;for(let a=0;a<3;a++)n+=t[3*o+a]*e[3*a+s];i[3*o+s]=n}return i},multmv(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},multsm(t,e){const i=[];for(let o=0,s=e.length;o<s;o++)i.push(t*e[o]);return i},basisToPoints(t,e,i,o,s,n,a,l){const r=[t,i,s,e,o,n,1,1,1],c=L.MatrixUtil.multmv(L.MatrixUtil.adj(r),[a,l,1]);return L.MatrixUtil.multmm(r,[c[0],0,0,0,c[1],0,0,0,c[2]])},project(t,e,i){const o=L.MatrixUtil.multmv(t,[e,i,1]);return[o[0]/o[2],o[1]/o[2]]},general2DProjection(t,e,i,o,s,n,a,l,r,c,d,p,_,f,b,v){const y=L.MatrixUtil.basisToPoints(t,e,s,n,r,c,_,f),k=L.MatrixUtil.basisToPoints(i,o,a,l,d,p,b,v),u=L.MatrixUtil.multmm(k,L.MatrixUtil.adj(y));return L.MatrixUtil.multsm(1/u[8],u)}},L.TrigUtil={calcAngle(t,e,i="deg"){return i==="deg"?this.radiansToDegrees(Math.atan2(e,t)):Math.atan2(e,t)},radiansToDegrees(t){return t*180/Math.PI},degreesToRadians(t){return t*Math.PI/180}},L.DistortableImageOverlay=L.ImageOverlay.extend({options:{height:200,crossOrigin:!0,edgeMinWidth:50,editable:!0,mode:"distort",selected:!1,interactive:!0,tooltipText:""},initialize(t,e){L.setOptions(this,e),L.Utils.initTranslation.call(this),this.edgeMinWidth=this.options.edgeMinWidth,this.editable=this.options.editable,this._selected=this.options.selected,this._url=t,this.rotation={},this._corners=this.options.corners||[],this.interactive=this.options.interactive,this.tooltipText=this.options.tooltipText},onAdd(t){this._map=t,this.getElement()||this._initImage(),t.on("viewreset",this._reset,this),this.options.corners&&(this._corners=this.options.corners,t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this)),L.DomEvent.on(this.getElement(),"load",()=>{if(this.getPane().appendChild(this.getElement()),this._initImageDimensions(),this.options.rotation){const i=this.options.rotation.deg>=0?"deg":"rad";this.setAngle(this.options.rotation[i],i)}else this.rotation={deg:0,rad:0},this._reset();this._corners||t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this);const e=this._eventParents;e?(this.eP=e[Object.keys(e)[0]],this.eP.editable&&this.editing.enable()):(this.editable&&this.editing.enable(),this.eP=null)}),L.DomEvent.on(this.getElement(),"click",this.select,this),L.DomEvent.on(t,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick},this),t.doubleClickZoom.enabled()||t.doubleClickLabels.enabled()||L.DomEvent.on(t,"click",this.deselect,this),this.fire("add"),L.DomEvent.on(this.getElement(),"mousemove",this.activateTooltip,this),L.DomEvent.on(this.getElement(),"mouseout",this.closeTooltip,this)},onRemove(t){L.DomEvent.off(this.getElement(),"click",this.select,this),L.DomEvent.off(t,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick},this),L.DomEvent.off(t,"click",this.deselect,this),this.editing&&this.editing.disable(),this.fire("remove"),L.ImageOverlay.prototype.onRemove.call(this,t),L.DomEvent.on(this.getElement(),"mouseout",this.closeTooltip,this),L.DomEvent.off(this.getElement(),"mousemove",this.deactivateTooltip,this)},_initImageDimensions(){const t=this._map,e=L.DomUtil.getStyle(this.getElement(),"width"),i=L.DomUtil.getStyle(this.getElement(),"height"),o=parseInt(e)/parseInt(i),s=this.options.height,n=parseInt(o*s),a=t.project(t.getCenter()),l=L.point(n,s).divideBy(2);this.options.corners?this._corners=this.options.corners:this._corners=[t.unproject(a.subtract(l)),t.unproject(a.add(L.point(l.x,-l.y))),t.unproject(a.add(L.point(-l.x,l.y))),t.unproject(a.add(l))],this._initialDimensions={center:a,offset:l,zoom:t.getZoom()},this.setBounds(L.latLngBounds(this.getCorners()))},_singleClick(t){if(t.type==="singleclick")this.deselect();else return},_singleClickListeners(){const t=this._map;L.DomEvent.off(t,"click",this.deselect,this),L.DomEvent.on(t,"singleclick",this.deselect,this)},_resetClickListeners(){const t=this._map;L.DomEvent.on(t,"click",this.deselect,this),L.DomEvent.off(t,"singleclick",this.deselect,this)},isSelected(){return this._selected},deselect(){const t=this.editing;if(t.enabled())return t._removeToolbar(),t._hideMarkers(),this._selected=!1,this.fire("deselect"),this},select(t){const e=this.editing,i=this.eP;if(e.enabled()){if(t&&L.DomEvent.stopPropagation(t),this._programmaticGrouping(),this._selected=!0,e._addToolbar(),e._showMarkers(),this.fire("select"),i&&i.anyCollected()){this.deselect();return}return this}},_programmaticGrouping(){this._map.eachLayer(t=>{t instanceof L.DistortableImageOverlay&&t.deselect()})},setCorner(t,e){const i=this.editing;return this._corners[t]=e,this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),i.toolbar&&i.toolbar instanceof L.DistortableImage.PopupBar&&i._updateToolbarPos(),this.edited=!0,this},_cornerExceedsMapLats(t,e,i){if(i.options.crs.Simple==L.CRS.Simple)return!1;{let o,s;return t===0?(o=i.project(e).y<2,s=i.project(e).y>=255):(o=i.project(e).y/t<2,s=i.project(e).y/Math.pow(2,t)>=255),o||s}},activateTooltip(){this._selected||this.bindTooltip(this.tooltipText,{direction:"top"}).openTooltip()},closeToolTip(){this.closeTooltip()},deactivateTooltip(){this.unbindTooltip()},getTooltipText(){return this.tooltipText},setCorners(t){const e=this._map,i=e.getZoom(),o=this.editing;let s=0;for(const n in t)if(this._cornerExceedsMapLats(i,t[n],e)){this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update");return}for(const n in t)this._corners[s]=t[n],s+=1;return this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),o.toolbar&&o.toolbar instanceof L.DistortableImage.PopupBar&&o._updateToolbarPos(),this.edited=!0,this},setCornersFromPoints(t){const e=this._map,i=e.getZoom(),o=this.editing;let s=0;for(const n in t){const a=e.layerPointToLatLng(t[n]);if(this._cornerExceedsMapLats(i,a,e)){this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update");return}}for(const n in t)this._corners[s]=e.layerPointToLatLng(t[n]),s+=1;return this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),o.toolbar&&o.toolbar instanceof L.DistortableImage.PopupBar&&o._updateToolbarPos(),this.edited=!0,this},scaleBy(t){const e=this._map,i=e.project(this.getCenter());let o,s;const n={};if(t!==0){for(o=0;o<4;o++)s=e.project(this.getCorner(o)).subtract(i).multiplyBy(t).add(i),n[o]=e.unproject(s);return this.setCorners(n),this}},getAngle(t="deg"){const e=this.getElement().style[L.DomUtil.TRANSFORM].split("matrix3d")[1].slice(1,-1).split(","),i=e[0],o=e[1],s=e[4],n=e[5],a=i*n-o*s;let l=L.TrigUtil.calcAngle(i,o,"rad");return a<0&&(l+=l<0?Math.PI:-Math.PI),l<0&&(l=2*Math.PI+l),t==="deg"?Math.round(L.TrigUtil.radiansToDegrees(l)):L.Util.formatNum(l,2)},setAngle(t,e="deg"){const i=this.getAngle(e),o=t-i;return this.rotateBy(o,e),this},rotateBy(t,e="deg"){const i=this._map,o=i.project(this.getCenter()),s={};let n,a,l;for(e==="deg"&&(t=L.TrigUtil.degreesToRadians(t)),n=0;n<4;n++)a=i.project(this.getCorner(n)).subtract(o),l=L.point(Math.cos(t)*a.x-Math.sin(t)*a.y,Math.sin(t)*a.x+Math.cos(t)*a.y),s[n]=i.unproject(l.add(o));return this.setCorners(s),this},dragBy(t,e){const i=this._map;let o,s;const n={},a=i.project(t).subtract(i.project(e));for(o=0;o<4;o++)s=i.project(this.getCorner(o)).subtract(a),n[o]=i.unproject(s);this.setCorners(n)},restore(){const t=this._map,e=this._initialDimensions.center,i=this._initialDimensions.offset,o=this._initialDimensions.zoom,s=[e.subtract(i),e.add(L.point(i.x,-i.y)),e.add(L.point(-i.x,i.y)),e.add(i)];for(let n=0;n<4;n++)t.unproject(s[n],o).equals(this.getCorner(n))||this.setCorner(n,t.unproject(s[n],o));return this.edited=!1,this.fire("restore"),this},_getTranslateString(t){const e=L.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",o=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+o},_reset(){const t=this._map,e=this.getElement(),i=L.bind(t.latLngToLayerPoint,t),o=this._calculateProjectiveTransform(i),s=i(this.getCorner(0)),n=L.DomUtil.getMatrixString(o),a=this._getTranslateString(s);e._leaflet_pos=s,e.style[L.DomUtil.TRANSFORM]=[a,n].join(" "),e.style[L.DomUtil.TRANSFORM+"-origin"]="0 0 0",this.rotation.deg=this.getAngle(),this.rotation.rad=this.getAngle("rad")},_animateZoom(t){const e=this._map,i=this.getElement(),o=function(r){return e._latLngToNewLayerPoint(r,t.zoom,t.center)},s=this._calculateProjectiveTransform(o),n=o(this.getCorner(0)),a=L.DomUtil.getMatrixString(s),l=this._getTranslateString(n);i._leaflet_pos=n,i.style[L.DomUtil.TRANSFORM]=[l,a].join(" ")},getCorners(){return this._corners},getCorner(t){return this._corners[t]},getCenter(){const t=this._map,e=this.getCorners().reduce(function(i,o){return i.add(t.project(o))},L.point(0,0));return t.unproject(e.divideBy(4))},_calculateProjectiveTransform(t){const e=t(this.getCorner(0)),i=this.getElement().offsetWidth||500,o=this.getElement().offsetHeight||375,s=[];let n;for(n=0;n<4;n++)s.push(t(this.getCorner(n))._subtract(e));return L.MatrixUtil.general2DProjection(0,0,s[0].x,s[0].y,i,0,s[1].x,s[1].y,0,o,s[2].x,s[2].y,i,o,s[3].x,s[3].y)}}),L.distortableImageOverlay=function(t,e){return new L.DistortableImageOverlay(t,e)},L.Map.addInitHook(function(){L.DomUtil.hasClass(this.getContainer(),"ldi")||L.DomUtil.addClass(this.getContainer(),"ldi")});const h=[];L.DistortableCollection=L.FeatureGroup.extend({options:{editable:!0,exportOpts:{exportStartUrl:"//export.mapknitter.org/export",statusUrl:"//export.mapknitter.org",exportUrl:"http://export.mapknitter.org/"}},initialize(t){L.setOptions(this,t),L.FeatureGroup.prototype.initialize.call(this,t),L.Utils.initTranslation.call(this),this.editable=this.options.editable},onAdd(t){L.FeatureGroup.prototype.onAdd.call(this,t),this._map=t,this.editable&&this.editing.enable(),this.on("layeradd",this._addEvents,this),this.on("layerremove",this._removeEvents,this)},onRemove(){this.editing&&this.editing.disable(),this.off("layeradd",this._addEvents,this),this.off("layerremove",this._removeEvents,this)},_addEvents(t){const e=t.layer;L.DomEvent.on(e,{dragstart:this._dragStartMultiple,drag:this._dragMultiple},this),L.DomEvent.on(e.getElement(),{mousedown:this._deselectOthers,contextmenu:this._longPressMultiSelect},this)},_removeEvents(t){const e=t.layer;L.DomEvent.off(e,{dragstart:this._dragStartMultiple,drag:this._dragMultiple},this),L.DomEvent.off(e.getElement(),{mousedown:this._deselectOthers,contextmenu:this._longPressMultiSelect},this)},_longPressMultiSelect(t){this.editable&&(t.preventDefault(),this.eachLayer(e=>{const i=e.editing;e.getElement()===t.target&&i.enabled()&&(L.DomUtil.toggleClass(e.getElement(),"collected"),this.anyCollected()?(e.deselect(),this.editing._addToolbar()):this.editing._removeToolbar())}))},isCollected(t){return L.DomUtil.hasClass(t.getElement(),"collected")},anyCollected(){return this.getLayers().some(this.isCollected.bind(this))},_toggleCollected(t,e){t.shiftKey&&e.editing.enabled()&&(L.DomUtil.toggleClass(t.target,"collected"),h.every(o=>o._leaflet_id!==e._leaflet_id)?h.push(e):h.splice(h.indexOf(e),1)),this.anyCollected()?e.deselect():this.editing._removeToolbar()},_deselectOthers(t){this.editable&&(this.eachLayer(e=>{e.getElement()!==t.target?e.deselect():this._toggleCollected(t,e)}),t&&L.DomEvent.stopPropagation(t))},_dragStartMultiple(t){const e=t.target,i=this._map;let o;this.isCollected(e)&&this.eachLayer(s=>{for(s._dragStartPoints={},s.deselect(),o=0;o<4;o++){const n=s.getCorner(o);s._dragStartPoints[o]=i.latLngToLayerPoint(n)}})},_dragMultiple(t){const e=t.target,i=this._map;if(!this.isCollected(e))return;const o=i.latLngToLayerPoint(e.getCorner(0)),s=e._dragStartPoints[0].subtract(o);this._updateCollectionFromPoints(s,e)},_toRemove(){return this.getLayers().filter(e=>{const i=e.editing._mode;return this.isCollected(e)&&i!=="lock"})},_toMove(t){return this.getLayers().filter(i=>{const o=i.editing._mode;return i!==t&&this.isCollected(i)&&o!=="lock"})},_updateCollectionFromPoints(t,e){const i=this._toMove(e),o=new L.Transformation(1,-t.x,1,-t.y);let s;i.forEach(n=>{const a={};for(s=0;s<4;s++)a[s]=o.transform(n._dragStartPoints[s]);n.setCornersFromPoints(a)})},_getAvgCmPerPixel(t){return t.reduce(function(i,o){return i+o.cm_per_pixel},0)/t.length},async fetchRemoteJson(t){let e=0;const i=[];try{const o=await axios.get(t);return o.data.hasOwnProperty("avg_cm_per_pixel")?o.data.collection.length>1?(o.data.collection.forEach(s=>{i[e]=s,e++}),{avg_cm_per_pixel:o.data.avg_cm_per_pixel,imgCollectionProps:i}):(i[e]=o.data.collection,{avg_cm_per_pixel:o.data.avg_cm_per_pixel,imgCollectionProps:i}):o.data.length>1?(o.data.forEach(s=>{i[e]=s,e++}),{imgCollectionProps:i}):(i[e]=o.data,{imgCollectionProps:i})}catch(o){console.log("err",o)}},async recreateImagesFromJsonUrl(t){let e={};return t&&(e=await this.fetchRemoteJson(t)),e},generateExportJson(t=!1){const e={};return e.images=[],this.eachLayer(function(i){if(t||this.isCollected(i)){const o=i._image.src.split("/"),s=o[o.length-1],n=i.getCorners(),a=[{lat:n[0].lat,lon:n[0].lng||n[0].lon},{lat:n[1].lat,lon:n[1].lng||n[1].lon},{lat:n[3].lat,lon:n[3].lng||n[3].lon},{lat:n[2].lat,lon:n[2].lng||n[2].lon}];e.images.push({id:i._leaflet_id,src:i._image.src,width:i._image.width,height:i._image.height,tooltipText:i.getTooltipText(),image_file_name:s,nodes:a,cm_per_pixel:L.ImageUtil.getCmPerPixel(i)})}},this),e.images=e.images.reverse(),e.avg_cm_per_pixel=this._getAvgCmPerPixel(e.images),e}}),L.distortableCollection=function(t,e){return new L.DistortableCollection(t,e)},L.EXIF=function(e){if(Object.keys(EXIF.getAllTags(e)).length!==0){console.log(EXIF.getAllTags(e));const i=EXIF.getAllTags(e);typeof i.GPSLatitude<"u"&&typeof i.GPSLongitude<"u"&&(i.GPSLatitude[0]+i.GPSLatitude[1]/60+i.GPSLatitude[2]/3600,i.GPSLongitude[0]+i.GPSLongitude[1]/60+i.GPSLongitude[2]/3600,i.GPSLatitudeRef,i.GPSLongitudeRef),i.GPSImgDirectionRef==="T"||i.GPSImgDirectionRef==="M"?Math.PI/180*(i.GPSImgDirection.numerator/i.GPSImgDirection.denominator-90):console.log("No compass data found"),console.log("Orientation:",i.Orientation),i.Orientation===6||i.Orientation===8||i.Orientation,typeof i.GPSAltitude<"u"&&typeof i.GPSAltitudeRef<"u"&&typeof i.GPSAltitude<"u"&&typeof i.GPSAltitudeRef<"u"&&i.GPSAltitude.numerator/i.GPSAltitude.denominator+i.GPSAltitudeRef}else alert("EXIF initialized. Press again to view data in console.")},L.EditHandle=L.Marker.extend({initialize(t,e,i){const o=t.getCorner(e);L.setOptions(this,i),this._handled=t,this._corner=e;const s={draggable:!0,zIndexOffset:10};i&&i.hasOwnProperty("draggable")&&(s.draggable=i.draggable),L.Marker.prototype.initialize.call(this,o,s)},onAdd(t){L.Marker.prototype.onAdd.call(this,t),this._bindListeners(),this.updateHandle()},onRemove(t){this._unbindListeners(),L.Marker.prototype.onRemove.call(this,t)},_onHandleDragStart(){this._handled.fire("editstart")},_onHandleDragEnd(){this._fireEdit()},_fireEdit(){this._handled.edited=!0,this._handled.fire("edit")},_bindListeners(){this.on({contextmenu:L.DomEvent.stop,dragstart:this._onHandleDragStart,drag:this._onHandleDrag,dragend:this._onHandleDragEnd},this),this._handled._map.on("zoomend",this.updateHandle,this),this._handled.on("update",this.updateHandle,this)},_unbindListeners(){this.off({contextmenu:L.DomEvent.stop,dragstart:this._onHandleDragStart,drag:this._onHandleDrag,dragend:this._onHandleDragEnd},this),this._handled._map.off("zoomend",this.updateHandle,this),this._handled.off("update",this.updateHandle,this)},_calculateScalingFactor(t,e){const i=this._handled,o=i._map,s=o.latLngToLayerPoint(i.getCenter()),n=o.latLngToLayerPoint(t),a=o.latLngToLayerPoint(e),l=this._d2(s,n),r=this._d2(s,a);return Math.sqrt(r/l)},_d2(t,e){const i=t.x-e.x,o=t.y-e.y;return Math.pow(i,2)+Math.pow(o,2)},calculateAngleDelta(t,e){const i=this._handled,o=i._map,s=o.latLngToLayerPoint(i.getCenter()),n=o.latLngToLayerPoint(t),a=o.latLngToLayerPoint(e),l=Math.atan2(s.y-n.y,s.x-n.x);return Math.atan2(s.y-a.y,s.x-a.x)-l}}),L.DistortHandle=L.EditHandle.extend({options:{TYPE:"distort",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAChSURBVO3BIU4DURgGwNkvL2B6AkQTLBqP4QCoSm7DDXoBLBZHDbfgICAIZjEV3YTn9uVHdMZZtcnCfI13bIzxg0emg6Nm6QVbYz3jylEsXRrvwommb49X67jFkz80fR9Mb1YxTzqiWBSLYlEsikWxKBbFolgUi2JRLIpFsSgWxaJY03fHHOu40dH07bAzWCx9Ge/TiWbpHgdsjPGNB2f/yS+7xRCyiiZPJQAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){this._handled.setCorner(this._corner,this.getLatLng())},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.distortHandle=function(t,e,i){return new L.DistortHandle(t,e,i)},L.DragHandle=L.EditHandle.extend({options:{TYPE:"drag",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAsVJREFUeNrMVztLXEEUvnNVFAVBAhY2aRKbTZEHJNpYabuNjSgYg/GxdsmPSJkUAa/ZdVEX8mgWYVutbHxAHkVskjQBuUUgBISVhCQk3wnfwMlk1rusN1wHPubOzJlzvjlz5sxc01Ma/hUEwQnwDIjqc7uvgv9YYO86qgIwCXQbdNTlQ8kcCBHgBch8TcloF6oJGr6phk6EQAkfdz3zvgDr9Mr7Fg1fptEZoM8jsmrokpfsiIFO4IIjuE2v1EDmR4LRdlR5Gh51hj8D34ABtm8YTtqna0TgklIw5CgQguKxIojEjmFROg/MKQO27NkFAB+4wAPouGUJiIvWKHwbAxX2XyWRKWkqhT+pbJntJZJuUzISW0+5hW+obxrVBsfvoH/dqCCJuU97GBh2VteLSiYvArmErT8EVoAK9Bw7enbpVYmvAQlyowYforrH5jXL2rPHI/TKONDB7u9AlavdaTBPvPmazUeQuy8f7UomUgTEwIJPEQ3sQGE/6ll2l9H/KcEzBcfWn2IclluM3DpddJxSHujlFkscbUPvmB0LHVnLrId7nlaZVkEc6QGXQI1MAwZcWmVRHeNaQwJMMiU2cwy4s7p/RJ2ckpvIQs+cIs+5GzitloLKHUV3MPREuXbTOKO91dX387gGTONxIgEWm+E61FFrpcyqXLHsEwiDjEsjAksqw5XPoL9MHVrn6QR4q+XZrDaR4RoWzq2ymafuRA/Mq1stSsHLVkcbdf9VjOcx8ZH3+SFWcCWlVPyWuUBOwUWdC1wP5NVjYiXFWLO69PZ6CRTUY6KSIoEKdf6T3IzzgHxnsyHctNBEkmn6Oob8ExUDg/ahGybd177cDjzH5xHwgDiSvoS7I/LZyvxJZj0wod7tkX5G0XVC7rEyLhfLJjBGbKoLLEfZWObyKeZ6oY82g+yf5Zn/mJyHX7PMf04z/T3/LcAAu4E6iiyJqf0AAAAASUVORK5CYII=",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t.getCorner(this._corner),i=this.getLatLng();t.dragBy(e,i)},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.dragHandle=function(t,e,i){return new L.DragHandle(t,e,i)},L.FreeRotateHandle=L.EditHandle.extend({options:{TYPE:"freeRotate",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAHiSURBVMXBa3HbShgA0PMp/1sCCo8oCEpgTaCXgIXAJiDzyCJoAUTm4UVQAns1Y8+snWnTvJyeE16hkjDgDrfoNTMKcpC9UPiLSo8JyetkjEHxjPCMyoS199kFoz8Iv1HpMaN3qWDCHoegOKkkRwnJpRmroHgiPFEZ8IBekzEGxQtUEhKSS/fB7Ew4U+lxcGkVZG9QWWPSFAxBcdK59KApuA+yNwp2uEdx1GN25sZJZULSfAtm77SlbNjju6MvG75u+WHRWVR6rDVjMPsgwYyVZl3pLTpHkyYHOx8syMiayaJzlDTZ9YyaZNFVkiYH2ZUEBcVJJXVImuz6Js3Qofe59pq7DoOTILu+g+a288mCouk7/1iH4qTS+2QdDppbV1ZJmrnDXnPnc5UOs2Z0fUmTuyBr+krvSioJyUmQO0dZM7mepMkWnaNRkyrJB6uskTSjxY3Fll8bvmJwlDb83FJ8gMqAB80uyBY3Trb82PAfvjj6vuHnluIdKgMeNXOwctK5NKBoHitrb1RJeHRp5Ux4ojLg0aWMHGQvUOkxIWkKVsHsTPiNSo8HDC5lZIsgO6n0uMUdRvQuFQxB8UR4RmXC2vvsgtEfhL+o9JiQvE7GGBTPCK9QSUjoMWgKDthjDrIX+h/k0I7gth6N5gAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t._map,i=t.getCorner(this._corner),o=this.getLatLng(),s=this.calculateAngleDelta(i,o),n=this._calculateScalingFactor(i,o);s!==0&&t.rotateBy(s,"rad");let a=t.edgeMinWidth;a||(a=50);const l=e.latLngToContainerPoint(t.getCorner(0)),r=e.latLngToContainerPoint(t.getCorner(1)),c=Math.abs(l.x-r.x),d=Math.abs(l.y-r.y);Math.sqrt(c*c+d*d)>a||n>1?t.scaleBy(n):t.scaleBy(1)},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.freeRotateHandle=(t,e,i)=>new L.FreeRotateHandle(t,e,i),L.LockHandle=L.EditHandle.extend({options:{TYPE:"lock",interactive:!1,icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAD8SURBVO3BPU7CYAAA0AdfjIcQlRCQBG7C3gk2uIPG2RC3Dk16Gz0FTO1WZs/gwGCMP/2+xsSl7+n1er1Iz9LtRQjaPeMeO+TinLDCJV78YqjdA04YodKuxhUaPGoRxMmxwRQZSt87Yo4KExGCeAUyLLFB4bMacxywEClIU2KDKXbInTUYo8JCgoFuGoxQO5uiwY1EA91VmDqrcKeDoX8WdNNgjApvmGGLXKIgXY0xGkxQYItrrFFIEKQ5Yo4KEx9yrDFDhlKkIF6NOQ5Y+KpAhiXWKEQI4pxwiwoLPyuxwQw75FoE7fZYocFEuwI7jHCBV39gL92TXq/Xi/AOcmczZmaIMScAAAAASUVORK5CYII=",iconSize:[32,32],iconAnchor:[16,16]})},onRemove(t){this.unbindTooltip(),L.EditHandle.prototype.onRemove.call(this,t)},_bindListeners(){const t=this.getElement();L.EditHandle.prototype._bindListeners.call(this),L.DomEvent.on(t,{mousedown:this._tooltipOn,mouseup:this._tooltipOff},this),L.DomEvent.on(document,"pointerleave",this._tooltipOff,this)},_unbindListeners(){const t=this.getElement();L.EditHandle.prototype._bindListeners.call(this),L.DomEvent.off(t,{mousedown:this._tooltipOn,mouseup:this._tooltipOff},this),L.DomEvent.off(document,"pointerleave",this._tooltipOff,this)},_onHandleDrag(){},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))},_tooltipOn(t){const e=this._handled.parentGroup,i=e?e.editing:this._handled.editing;if(t.shiftKey||!this._handled.isSelected()&&e&&!e.isCollected(this._handled))return;const o=i._lockHandles;this._timer=setTimeout(L.bind(function(){this._timeout&&clearTimeout(this._timeout),this.getTooltip()?o.eachLayer(function(s){this!==s&&s.closeTooltip()}):this.bindTooltip("Locked!",{permanent:!0}),this.openTooltip()},this),500)},_tooltipOff(t){const e=this._handled.parentGroup,i=e?e.editing:this._handled.editing;if(t.shiftKey||!this._handled.isSelected()&&e&&!e.isCollected(this._handled))return;const o=i._lockHandles;t.currentTarget===document&&o.eachLayer(function(s){s.closeTooltip()}),this._timer&&clearTimeout(this._timer),this._timeout=setTimeout(L.bind(function(){this.closeTooltip()},this),400)}}),L.lockHandle=function(t,e,i){return new L.LockHandle(t,e,i)},L.RotateHandle=L.EditHandle.extend({options:{TYPE:"rotate",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAHiSURBVMXBa3HbShgA0PMp/1sCCo8oCEpgTaCXgIXAJiDzyCJoAUTm4UVQAns1Y8+snWnTvJyeE16hkjDgDrfoNTMKcpC9UPiLSo8JyetkjEHxjPCMyoS199kFoz8Iv1HpMaN3qWDCHoegOKkkRwnJpRmroHgiPFEZ8IBekzEGxQtUEhKSS/fB7Ew4U+lxcGkVZG9QWWPSFAxBcdK59KApuA+yNwp2uEdx1GN25sZJZULSfAtm77SlbNjju6MvG75u+WHRWVR6rDVjMPsgwYyVZl3pLTpHkyYHOx8syMiayaJzlDTZ9YyaZNFVkiYH2ZUEBcVJJXVImuz6Js3Qofe59pq7DoOTILu+g+a288mCouk7/1iH4qTS+2QdDppbV1ZJmrnDXnPnc5UOs2Z0fUmTuyBr+krvSioJyUmQO0dZM7mepMkWnaNRkyrJB6uskTSjxY3Fll8bvmJwlDb83FJ8gMqAB80uyBY3Trb82PAfvjj6vuHnluIdKgMeNXOwctK5NKBoHitrb1RJeHRp5Ux4ojLg0aWMHGQvUOkxIWkKVsHsTPiNSo8HDC5lZIsgO6n0uMUdRvQuFQxB8UR4RmXC2vvsgtEfhL+o9JiQvE7GGBTPCK9QSUjoMWgKDthjDrIX+h/k0I7gth6N5gAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t.getCorner(this._corner),i=this.getLatLng(),o=this.calculateAngleDelta(e,i);t.rotateBy(o,"rad")},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.rotateHandle=function(t,e,i){return new L.RotateHandle(t,e,i)},L.ScaleHandle=L.EditHandle.extend({options:{TYPE:"scale",icon:L.icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NTkiIGhlaWdodD0iNDY0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iIj48cmVjdCBpZD0iYmFja2dyb3VuZHJlY3QiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9IjAiIHk9IjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgY2xhc3M9IiIgc3R5bGU9IiIvPjxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiIHN0eWxlPSIiPjx0aXRsZT5MYXllciAxPC90aXRsZT48cGF0aCBkPSJNNDU5LjA0OTE1OTUzMDQ3MTM0LDg2LjkyNjIzNDUxMjU1MDAyIFYwIGgtODUuNzE0NTczMzU2MzEyMDkgdjI3LjA0MzcxNzQwMzkwNDQ1MiBIODUuNzE0NTczMzU2MzEyMDMgVjAgSDAgdjg2LjkyNjIzNDUxMjU1MDAyIGgyNS43MTQzNzIwMDY4OTM2MjYgdjI4OS43NTQxMTUwNDE4MzM0IEgwIHY4Ni45MjYyMzQ1MTI1NTAwMiBoODUuNzE0NTczMzU2MzEyMDkgdi0yNy4wNDM3MTc0MDM5MDQ0NTIgaDI4NS43MTUyNDQ1MjEwNDAzIHYyNy4wNDM3MTc0MDM5MDQ0NTIgaDg1LjcxNDU3MzM1NjMxMjA5IHYtODYuOTI2MjM0NTEyNTUwMDIgaC0yMy44MDk2MDM3MTAwODY2OSBWODYuOTI2MjM0NTEyNTUwMDIgSDQ1OS4wNDkxNTk1MzA0NzEzNCB6TTM4NC43NjMxOTU5NTUwMDA5LDEyLjU1NjAxMTY1MTgxMjc4MSBoNjEuOTA0OTY5NjQ2MjI1Mzk2IHY2Mi43ODAwNTgyNTkwNjM5MSBoLTYxLjkwNDk2OTY0NjIyNTM5NiBWMTIuNTU2MDExNjUxODEyNzgxIHpNMTIuMzgwOTkzOTI5MjQ1MDUsMTIuNTU2MDExNjUxODEyNzgxIGg2MS45MDQ5Njk2NDYyMjUzOTYgdjYyLjc4MDA1ODI1OTA2MzkxIEgxMi4zODA5OTM5MjkyNDUwNSBWMTIuNTU2MDExNjUxODEyNzgxIHpNNzQuMjg1OTYzNTc1NDcwNTMsNDUxLjA1MDU3MjQxNTEyMDY2IEgxMi4zODA5OTM5MjkyNDUwNSB2LTYyLjc4MDA1ODI1OTA2MzkxIGg2MS45MDQ5Njk2NDYyMjUzOTYgVjQ1MS4wNTA1NzI0MTUxMjA2NiB6TTQ0NS43MTU3ODE0NTI4MjI3NCw0NTEuMDUwNTcyNDE1MTIwNjYgaC02Mi44NTczNTM3OTQ2Mjg4NjQgdi02Mi43ODAwNTgyNTkwNjM5MSBoNjIuODU3MzUzNzk0NjI4ODY0IFY0NTEuMDUwNTcyNDE1MTIwNjYgek00MDcuNjIwNDE1NTE2Njg0MjYsMzc2LjY4MDM0OTU1NDM4MzQ0IGgtMzYuMTkwNTk3NjM5MzMxNzcgdjMyLjgzODc5OTcwNDc0MTEyIEg4NS43MTQ1NzMzNTYzMTIwMyB2LTMyLjgzODc5OTcwNDc0MTEyIEg0OS41MjM5NzU3MTY5ODAzMiBWODYuOTI2MjM0NTEyNTUwMDIgaDM2LjE5MDU5NzYzOTMzMTc3IFY1MC4yMjQwNDY2MDcyNTExMjUgaDI4Ny42MjAwMTI4MTc4NDcyIHYzNi43MDIxODc5MDUyOTg5IGgzNC4yODU4MjkzNDI1MjQ4MzUgVjM3Ni42ODAzNDk1NTQzODM0NCB6IiBpZD0ic3ZnXzIiIGNsYXNzPSIiIGZpbGw9IiMxYTFhZWIiIGZpbGwtb3BhY2l0eT0iMSIvPjwvZz48L3N2Zz4=",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag(){const t=this._handled,e=t._map;let i=t.edgeMinWidth;const o=t.getCorner(this._corner),s=this.getLatLng(),n=this._calculateScalingFactor(o,s);i||(i=50);const a=e.latLngToLayerPoint(t.getCorner(0)),l=e.latLngToLayerPoint(t.getCorner(1)),r=Math.abs(a.x-l.x),c=Math.abs(a.y-l.y);Math.sqrt(r*r+c*c)>i||n>1?t.scaleBy(n):t.scaleBy(1)},updateHandle(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.scaleHandle=function(t,e,i){return new L.ScaleHandle(t,e,i)},L.IconSet=L.Class.extend({_svg:'<svg xmlns="http://www.w3.org/2000/svg">',_symbols:"",render(){return this.addSymbols(this._symbols),this._svg},addSymbols(t){this._svg+=t}}),L.KeymapperIconSet=L.IconSet.extend({_symbols:'<symbol viewBox="0 0 25 25" id="keyboard_open"><path d="M12 23l4-4H8l4 4zm7-15h-2V6h2v2zm0 3h-2V9h2v2zm-3-3h-2V6h2v2zm0 3h-2V9h2v2zm0 4H8v-2h8v2zM7 8H5V6h2v2zm0 3H5V9h2v2zm1-2h2v2H8V9zm0-3h2v2H8V6zm3 3h2v2h-2V9zm0-3h2v2h-2V6zm9-3H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></symbol>'}),L.ToolbarIconSet=L.IconSet.extend({_symbols:'<symbol viewBox="0 0 18 18" id="border_clear"><path d="M5.25 3.75h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm3-3h1.5v-1.5h-1.5v1.5zm0 3h1.5v-1.5h-1.5v1.5zm-6 0h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm6 6h1.5v-1.5h-1.5v1.5zm6 3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm0-9h1.5v-1.5h-1.5v1.5zm-6 0h1.5v-1.5h-1.5v1.5zm6-4.5v1.5h1.5v-1.5h-1.5zm-6 1.5h1.5v-1.5h-1.5v1.5zm3 12h1.5v-1.5h-1.5v1.5zm0-6h1.5v-1.5h-1.5v1.5zm0-6h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="border_outer"><path d="M9.75 5.25h-1.5v1.5h1.5v-1.5zm0 3h-1.5v1.5h1.5v-1.5zm3 0h-1.5v1.5h1.5v-1.5zm-10.5-6v13.5h13.5V2.25H2.25zm12 12H3.75V3.75h10.5v10.5zm-4.5-3h-1.5v1.5h1.5v-1.5zm-3-3h-1.5v1.5h1.5v-1.5z"/></symbol><symbol viewBox="0 0 18 18" id="cancel"><path d="M13.279 5.779l-1.058-1.058L9 7.942 5.779 4.721 4.721 5.779 7.942 9l-3.221 3.221 1.058 1.058L9 10.057l3.221 3.222 1.058-1.058L10.057 9z"/></symbol><symbol viewBox="0 0 18 18" id="crop_rotate"><path d="M5.603 16.117C3.15 14.947 1.394 12.57 1.125 9.75H0C.383 14.37 4.245 18 8.963 18c.172 0 .33-.015.495-.023L6.6 15.113l-.997 1.005zM9.037 0c-.172 0-.33.015-.495.03L11.4 2.888l.998-.998a7.876 7.876 0 0 1 4.477 6.36H18C17.617 3.63 13.755 0 9.037 0zM12 10.5h1.5V6A1.5 1.5 0 0 0 12 4.5H7.5V6H12v4.5zM6 12V3H4.5v1.5H3V6h1.5v6A1.5 1.5 0 0 0 6 13.5h6V15h1.5v-1.5H15V12H6z"/></symbol><symbol viewBox="0 0 18 18" id="delete_forever"><path d="M4.5 14.25c0 .825.675 1.5 1.5 1.5h6c.825 0 1.5-.675 1.5-1.5v-9h-9v9zm1.845-5.34l1.058-1.058L9 9.443l1.59-1.59 1.058 1.058-1.59 1.59 1.59 1.59-1.058 1.058L9 11.558l-1.59 1.59-1.058-1.058 1.59-1.59-1.597-1.59zM11.625 3l-.75-.75h-3.75l-.75.75H3.75v1.5h10.5V3h-2.625z"/></symbol><symbol viewBox="0 0 18 18" id="distort"><path d="M1.7 1.4H6v1.4h5.8V1.4h4.3v4.3h-1.4v5.8h1.4v4.4h-4.3v-1.5H6v1.5H1.7v-4.4h1.4V5.7H1.7V1.4zm10.1 4.3V4.3H6v1.4H4.6v5.8H6V13h5.8v-1.5h1.4V5.7h-1.4zM3.1 2.8v1.5h1.5V2.8H3.1zm10.1 0v1.5h1.5V2.8h-1.5zM3.1 13v1.4h1.5V13H3.1zm10.1 0v1.4h1.5V13h-1.5z"/></symbol><symbol viewBox="0 0 18 18" id="explore"><path d="M9 1.5C4.86 1.5 1.5 4.86 1.5 9c0 4.14 3.36 7.5 7.5 7.5 4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5zM9 15c-3.308 0-6-2.693-6-6 0-3.308 2.692-6 6-6 3.307 0 6 2.692 6 6 0 3.307-2.693 6-6 6zm-4.125-1.875l5.633-2.617 2.617-5.633-5.633 2.617-2.617 5.633zM9 8.175c.457 0 .825.367.825.825A.823.823 0 0 1 9 9.825.823.823 0 0 1 8.175 9c0-.457.367-.825.825-.825z"/></symbol><symbol viewBox="0 0 18 18" id="flip_to_back"><path d="M6.75 5.25h-1.5v1.5h1.5v-1.5zm0 3h-1.5v1.5h1.5v-1.5zm0-6a1.5 1.5 0 0 0-1.5 1.5h1.5v-1.5zm3 9h-1.5v1.5h1.5v-1.5zm4.5-9v1.5h1.5c0-.825-.675-1.5-1.5-1.5zm-4.5 0h-1.5v1.5h1.5v-1.5zm-3 10.5v-1.5h-1.5a1.5 1.5 0 0 0 1.5 1.5zm7.5-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0 6c.825 0 1.5-.675 1.5-1.5h-1.5v1.5zm-10.5-7.5h-1.5v9a1.5 1.5 0 0 0 1.5 1.5h9v-1.5h-9v-9zm7.5-1.5h1.5v-1.5h-1.5v1.5zm0 9h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="flip_to_front"><path d="M2.25 9.75h1.5v-1.5h-1.5v1.5zm0 3h1.5v-1.5h-1.5v1.5zm1.5 3v-1.5h-1.5a1.5 1.5 0 0 0 1.5 1.5zm-1.5-9h1.5v-1.5h-1.5v1.5zm9 9h1.5v-1.5h-1.5v1.5zm3-13.5h-7.5a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h7.5c.825 0 1.5-.675 1.5-1.5v-7.5c0-.825-.675-1.5-1.5-1.5zm0 9h-7.5v-7.5h7.5v7.5zm-6 4.5h1.5v-1.5h-1.5v1.5zm-3 0h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="get_app"><path d="M14.662 6.95h-3.15v-4.5H6.787v4.5h-3.15L9.15 12.2l5.512-5.25zM3.637 13.7v1.5h11.025v-1.5H3.637z"/></symbol><symbol viewBox="0 0 18 18" id="lock"><path d="M13.5 6h-.75V4.5C12.75 2.43 11.07.75 9 .75 6.93.75 5.25 2.43 5.25 4.5V6H4.5C3.675 6 3 6.675 3 7.5V15c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5V7.5c0-.825-.675-1.5-1.5-1.5zM6.75 4.5A2.247 2.247 0 0 1 9 2.25a2.247 2.247 0 0 1 2.25 2.25V6h-4.5V4.5zM13.5 15h-9V7.5h9V15zM9 12.75c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z"/></symbol><symbol viewBox="0 0 18 18" id="opacity"><path d="M13.245 6L9 1.763 4.755 6A6.015 6.015 0 0 0 3 10.23c0 1.5.585 3.082 1.755 4.252a5.993 5.993 0 0 0 8.49 0A6.066 6.066 0 0 0 15 10.23c0-1.5-.585-3.06-1.755-4.23zM4.5 10.5c.008-1.5.465-2.453 1.32-3.3L9 3.952l3.18 3.285c.855.84 1.313 1.763 1.32 3.263h-9z"/></symbol><symbol viewBox="0 0 14 18" id="opacity_empty"><path stroke="#0078A8" stroke-width="1.7" d="M10.708 6.25A5.113 5.113 0 0 1 12.2 9.846c0 1.275-.497 2.62-1.492 3.614a5.094 5.094 0 0 1-7.216 0A5.156 5.156 0 0 1 2 9.846c0-1.275.497-2.601 1.492-3.596L7.1 2.648l3.608 3.602zm0 0L7.1 2.648 3.492 6.25A5.113 5.113 0 0 0 2 9.846c0 1.275.497 2.62 1.492 3.614a5.094 5.094 0 0 0 7.216 0A5.156 5.156 0 0 0 12.2 9.846a5.113 5.113 0 0 0-1.492-3.596z"/></symbol><symbol viewBox="0 0 14 18" id="opacities"><g fill="#0078a8"><path d="m2.1 10.85c.2.98.68 1.89 1.39 2.61 0 0 .01.01.01.01.99.99 2.3 1.49 3.6 1.49h.01c1.3 0 2.6-.5 3.59-1.5.73-.73 1.19-1.66 1.39-2.61z" opacity=".75"/><path d="m2 9.85c0 .34.04.68.1 1.01h9.99c.07-.34.11-.67.11-1.01 0-1.13-.4-2.21-1.08-3.09h-8.04c-.7.91-1.08 2.01-1.08 3.09z" opacity=".5"/><path d="m3.08 6.75h8.03c-.13-.17-.26-.35-.41-.5l-3.6-3.6-3.61 3.6c-.15.16-.27.33-.41.5z" opacity=".25"/></g><path d="m10.71 6.25c.95.96 1.49 2.25 1.49 3.6 0 1.27-.5 2.62-1.49 3.61-1.99 1.99-5.21 2-7.2.01 0 0-.01-.01-.01-.01-.96-.96-1.5-2.26-1.5-3.61 0-1.27.5-2.6 1.49-3.6l3.61-3.6z" fill="none" stroke="#0078a8" stroke-width=".1"/><path d="m10.71 6.25c.95.96 1.49 2.25 1.49 3.6 0 1.27-.5 2.62-1.49 3.61-1.99 1.99-5.21 2-7.2.01 0 0-.01-.01-.01-.01-.96-.96-1.5-2.26-1.5-3.61 0-1.27.5-2.6 1.49-3.6l3.61-3.6z" fill="none" stroke="#0078a8" stroke-width="1.7"/></symbol><symbol viewBox="0 0 18 18" id="restore"><path d="M15.67 3.839a.295.295 0 0 0-.22.103l-5.116 3.249V4.179a.342.342 0 0 0-.193-.315.29.29 0 0 0-.338.078L3.806 7.751v-4.63h-.002l.002-.022c0-.277-.204-.502-.456-.502h-.873V2.6c-.253 0-.457.225-.457.503l.002.026v10.883h.005c.021.257.217.454.452.455l.016-.002h.822c.013.001.025.004.038.004.252 0 .457-.225.457-.502a.505.505 0 0 0-.006-.068V9.318l6.001 3.811a.288.288 0 0 0 .332.074.34.34 0 0 0 .194-.306V9.878l5.12 3.252a.288.288 0 0 0 .332.073.34.34 0 0 0 .194-.306V4.18a.358.358 0 0 0-.09-.24.296.296 0 0 0-.218-.1z"/></symbol><symbol viewBox="0 0 18 18" id="rotate"><path d="M5.505 4.808L.645 9.675l4.867 4.86 4.868-4.86-4.875-4.868zM2.768 9.675L5.513 6.93 8.25 9.675 5.505 12.42 2.768 9.675zM14.52 4.98A6.713 6.713 0 009.75 3V.57L6.57 3.75l3.18 3.18V4.5a5.23 5.23 0 013.713 1.537 5.255 5.255 0 010 7.426 5.23 5.23 0 01-5.843 1.08L6.503 15.66a6.76 6.76 0 003.247.84c1.725 0 3.457-.66 4.77-1.98a6.735 6.735 0 000-9.54z"/></symbol><symbol viewBox="0 0 18 18" id="scale"><path d="M8.25 9h-6a.75.75 0 00-.75.75v6c0 .414.336.75.75.75h6a.75.75 0 00.75-.75v-6A.75.75 0 008.25 9zm-.75 6H3v-4.5h4.5V15zm8.94-13.035a.75.75 0 00-.405-.405.75.75 0 00-.285-.06h-4.5a.75.75 0 000 1.5h2.692L9.967 6.968a.75.75 0 000 1.064.75.75 0 001.065 0L15 4.057V6.75a.75.75 0 101.5 0v-4.5a.75.75 0 00-.06-.285z" /></symbol><symbol viewBox="0 0 18 18" id="spinner"><path d="M9 6.48c-.216 0-.36-.144-.36-.36V3.24c0-.216.144-.36.36-.36s.36.144.36.36v2.88c0 .216-.144.36-.36.36z"/><path d="M9 15.12c-.216 0-.36-.144-.36-.36v-2.88c0-.216.144-.36.36-.36s.36.144.36.36v2.88c0 .216-.144.36-.36.36zm1.44-8.28c-.072 0-.108 0-.18-.036-.144-.108-.216-.288-.108-.468l1.44-2.484c.108-.144.288-.216.468-.108.144.108.216.288.108.468l-1.44 2.484c-.072.072-.18.144-.288.144zm-4.32 7.488c-.072 0-.108 0-.18-.036-.144-.108-.216-.288-.108-.468l1.44-2.484c.108-.144.288-.216.468-.108.144.108.216.288.108.468l-1.44 2.484c-.072.072-.18.144-.288.144z" opacity=".3"/><path d="M7.56 6.84c-.108 0-.216-.072-.288-.18l-1.44-2.484c-.108-.144-.036-.36.108-.468.144-.108.36-.036.468.108L7.848 6.3c.108.144.036.36-.108.468-.072.072-.108.072-.18.072z" opacity=".93"/><path d="M11.88 14.328c-.108 0-.216-.072-.288-.18l-1.44-2.484c-.108-.144-.036-.36.108-.468.144-.108.36-.036.468.108l1.44 2.484c.108.144.036.36-.108.468-.072.036-.108.072-.18.072z" opacity=".3"/><path d="M6.12 9.36H3.24c-.216 0-.36-.144-.36-.36s.144-.36.36-.36h2.88c.216 0 .36.144.36.36s-.144.36-.36.36z" opacity=".65"/><path d="M14.76 9.36h-2.88c-.216 0-.36-.144-.36-.36s.144-.36.36-.36h2.88c.216 0 .36.144.36.36s-.144.36-.36.36z" opacity=".3"/><path d="M6.516 7.884c-.072 0-.108 0-.18-.036l-2.484-1.44c-.144-.108-.216-.288-.108-.468.108-.144.288-.216.468-.108l2.484 1.44c.144.108.216.288.108.468a.327.327 0 01-.288.144z" opacity=".86"/><path d="M14.004 12.204c-.072 0-.108 0-.18-.036l-2.484-1.44c-.144-.108-.216-.288-.108-.468.108-.144.288-.216.468-.108l2.484 1.44c.144.108.216.288.108.468a.327.327 0 01-.288.144z" opacity=".3"/><path d="M3.996 12.204c-.108 0-.216-.072-.288-.18-.108-.144-.036-.36.108-.468l2.484-1.44c.144-.108.36-.036.468.108.108.144.036.36-.108.468l-2.484 1.44c-.036.072-.108.072-.18.072z" opacity=".44"/><path d="M11.484 7.884c-.108 0-.216-.072-.288-.18-.108-.144-.036-.36.108-.468l2.484-1.44c.144-.108.36-.036.468.108.108.144.036.36-.108.468l-2.484 1.44c-.072.072-.108.072-.18.072z" opacity=".3"/></symbol><symbol viewBox="0 0 18 18" id="drag"><path d="M2.3 16.5c-0.2 0-0.4-0.1-0.5-0.2 -0.2-0.2-0.3-0.5-0.2-0.8l2.5-6.5 -2.5-6.5C1.5 2.3 1.5 2 1.7 1.8c0.2-0.2 0.5-0.3 0.8-0.2l6.5 2.5 6.5-2.5c0.3-0.1 0.6 0 0.8 0.2 0.2 0.2 0.3 0.5 0.2 0.8l-2.5 6.5 2.5 6.5c0.1 0.3 0 0.6-0.2 0.8 -0.2 0.2-0.5 0.3-0.8 0.2l-6.5-2.5 -6.5 2.5C2.4 16.5 2.3 16.5 2.3 16.5zM3.6 3.6l2 5.1c0.1 0.2 0.1 0.4 0 0.5l-2 5.1 5.1-2c0.2-0.1 0.4-0.1 0.5 0l5.1 2L12.4 9.3c-0.1-0.2-0.1-0.4 0-0.5l2-5.1L9.3 5.6c-0.2 0.1-0.4 0.1-0.5 0L3.6 3.6z" /></symbol><symbol viewBox="0 0 18 18" id="unlock"><path d="M13.5 6h-.75V4.5C12.75 2.43 11.07.75 9 .75 6.93.75 5.25 2.43 5.25 4.5h1.5A2.247 2.247 0 0 1 9 2.25a2.247 2.247 0 0 1 2.25 2.25V6H4.5C3.675 6 3 6.675 3 7.5V15c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5V7.5c0-.825-.675-1.5-1.5-1.5zm0 9h-9V7.5h9V15zM9 12.75c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z"/></symbol>'}),L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.action_map={},L.EditAction=L.Toolbar2.Action.extend({options:{toolbarIcon:{svg:!1,html:"",className:"",tooltip:""}},initialize(t,e,i){this._overlay=e,this._map=t,L.setOptions(this,i),L.Toolbar2.Action.prototype.initialize.call(this,i),this._injectIconSet()},_createIcon(t,e,i){const o=this.options.toolbarIcon,s=o.className,n=this._overlay.editing,a=this.options.toolbarIcon.style;this.toolbar=t,this._icon=L.DomUtil.create("li","",e),this._link=L.DomUtil.create("a","",this._icon),o.svg?this._link.innerHTML=L.IconUtil.create(o.html):this._link.innerHTML=o.html,this._link.setAttribute("href","#"),this._link.setAttribute("title",o.tooltip),a&&this._link.setAttribute("style",a),this._link.setAttribute("role","button"),L.DomUtil.addClass(this._link,this.constructor.baseClass),s&&(L.DomUtil.addClass(this._link,s),s==="disabled"&&L.DomUtil.addClass(this._icon,s),s===n._mode?L.DomUtil.addClass(this._link,"selected-mode"):L.DomUtil.removeClass(this._link,"selected-mode")),L.DomEvent.on(this._link,"click",this.enable,this),L.DomEvent.on(this._overlay,"update",()=>{const l=this._link.innerHTML.match(/xlink:href="#restore"/);l&&l.length===1&&this._enableAction()}),this._addSubToolbar(t,this._icon,i)},_injectIconSet(){if(document.querySelector("#iconset"))return;const t=document.createElement("div");t.id="iconset",t.setAttribute("hidden","hidden"),t.innerHTML=new L.ToolbarIconSet().render(),document.querySelector(".leaflet-marker-pane").appendChild(t)},_enableAction(){L.DomUtil.removeClass(this._link.parentElement,"disabled"),L.DomUtil.removeClass(this._link,"disabled")},_disableAction(){L.DomUtil.addClass(this._link.parentElement,"disabled"),L.DomUtil.addClass(this._link,"disabled")}}),L.editAction=function(t,e,i){return new L.EditAction(t,e,i)},L.BorderAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing,s=o._mode;let n,a;o._outlined?(n="border_outer",a=e.options.translation.removeBorder):(n="border_clear",a=e.options.translation.addBorder),i=i||{},i.toolbarIcon={svg:!0,html:n,tooltip:a,className:s==="lock"?"disabled":""},L.DistortableImage.action_map.b=s==="lock"?"":"_toggleBorder",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;L.IconUtil.toggleXlink(this._link,"border_clear","border_outer"),L.IconUtil.toggleTitle(this._link,"Remove Border","Add Border"),t._toggleBorder()}}),L.DeleteAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing,s="delete_forever";let n;o instanceof L.DistortableImage.Edit?(n=e.options.translation.deleteImage,L.DistortableImage.action_map.Backspace=o._mode==="lock"?"":"_removeOverlay"):(n=e.options.translation.deleteImages,L.DistortableImage.group_action_map.Backspace=o._mode==="lock"?"":"_removeGroup"),i=i||{},i.toolbarIcon={svg:!0,html:s,tooltip:n,className:o._mode==="lock"?"disabled":""},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;t instanceof L.DistortableImage.Edit?t._removeOverlay():t._removeGroup()}}),L.DistortAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"distort",tooltip:e.options.translation.distortImage,className:"distort"},L.DistortableImage.action_map.d="_distortMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._distortMode()}}),L.DragAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"drag",tooltip:e.options.translation.dragImage,className:"drag"},L.DistortableImage.action_map.D="_dragMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._dragMode()}}),L.ExportAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;let s;this.isExporting=!1,this.mouseLeaveSkip=!0,this.isHooksExecuted=!1,o instanceof L.DistortableImage.Edit?(L.DistortableImage.action_map.e="_getExport",s=e.options.translation.exportImage):(L.DistortableImage.group_action_map.e="runExporter",s=e.options.translation.exportImages),i=i||{},i.toolbarIcon={svg:!0,html:"get_app",tooltip:s},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;if(t instanceof L.DistortableImage.Edit){t._getExport();return}if(this.isHooksExecuted)return;this.isHooksExecuted=!0;const e=this._link.parentElement;this.mouseEnterHandler=this.handleMouseEnter.bind(this),this.mouseLeaveHandler=this.handleMouseLeave.bind(this),L.DomEvent.on(e,"click",function(){if(!this.isExporting)this.isExporting=!0,this.renderExportIcon(),setTimeout(this.attachMouseEventListeners.bind(this,e),100),t.runExporter().then((function(){this.resetState(),this.detachMouseEventListeners(e)}).bind(this));else{if(this.mouseLeaveSkip)return;this.resetState(),this.detachMouseEventListeners(e),t.cancelExport()}},this)},resetState(){this.renderDownloadIcon(),this.isExporting=!1,this.mouseLeaveSkip=!0},attachMouseEventListeners(t){t.addEventListener("mouseenter",this.mouseEnterHandler),t.addEventListener("mouseleave",this.mouseLeaveHandler)},detachMouseEventListeners(t){t.removeEventListener("mouseenter",this.mouseEnterHandler),t.removeEventListener("mouseleave",this.mouseLeaveHandler)},handleMouseEnter(){this.renderCancelIcon()},handleMouseLeave(){this.mouseLeaveSkip?this.mouseLeaveSkip=!1:this.renderExportIcon()},renderDownloadIcon(){L.IconUtil.toggleXlink(this._link,"get_app","spinner"),L.IconUtil.toggleTitle(this._link,"Export Images","Loading..."),L.DomUtil.removeClass(this._link.firstChild,"loader")},renderExportIcon(){L.IconUtil.toggleXlink(this._link,"spinner"),L.IconUtil.toggleTitle(this._link,"Export Images","Loading..."),L.IconUtil.addClassToSvg(this._link,"loader")},renderCancelIcon(){L.IconUtil.toggleXlink(this._link,"cancel"),L.IconUtil.toggleTitle(this._link,"Cancel Export","Loading..."),L.DomUtil.removeClass(this._link.firstChild,"loader")}}),L.FreeRotateAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"crop_rotate",tooltip:e.options.translation.freeRotateImage,className:"freeRotate"},L.DistortableImage.action_map.f="_freeRotateMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._freeRotateMode()}}),L.GeolocateAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;i=i||{},i.toolbarIcon={svg:!0,html:"explore",tooltip:e.options.translation.geolocateImage,className:o._mode==="lock"?"disabled":""},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.getElement();EXIF.getData(t,L.EXIF(t))}}),L.LockAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;let s,n;o instanceof L.DistortableImage.Edit?(L.DistortableImage.action_map.u="_unlock",L.DistortableImage.action_map.l="_lock",n=e.options.translation.lockMode,s=o.isMode("lock")?"lock":"unlock"):(L.DistortableImage.group_action_map.l="_lockGroup",n=e.options.translation.lockImages,s="lock"),i=i||{},i.toolbarIcon={svg:!0,html:s,tooltip:n,className:"lock"},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;t instanceof L.DistortableImage.Edit?t._toggleLockMode():t._lockGroup()}});let m=[100,80,60,40,20,0];const g=new CSSStyleSheet;g.replaceSync(`.leaflet-toolbar-icon-vertical {
        box-sizing: border-box !important;
        display: block !important;
        width: 30px !important;
        height: 30px !important;
        line-height: 30px !important;
        padding: 0 !important;
        text-align: center !important;
        text-decoration: none !important;
        background-color: #fff;
        border: inset 0.5px lightgray !important;
        font-size: 12px !important;
        font-weight: bold !important;
        color:#0087A8 !important;
        float: none !important;
        margin: auto !important;
        z-index:900 !important;
      }
    `),g.insertRule(`.leaflet-toolbar-1 li:first-child a {
        border-radius: 4px 4px 0px 0px !important;
    }`),document.adoptedStyleSheets=[g],m=m.map(t=>((isNaN(t)||t>100)&&(t=100),t<0&&(t=0),L.EditAction.extend({options:{toolbarIcon:{html:t,tooltip:"Opacity "+t+"%",className:"leaflet-toolbar-icon-vertical",style:"background-color:rgb("+(100-t)+"%,"+(100-t)+"%,"+(100-t)+"%);"}},addHooks(){this._overlay.editing._setOpacities(t/100)}}))),L.OpacitiesToolbar2=L.Toolbar2.extend({options:{className:"",filter:function(){return!0},actions:[],style:`translate(-1px, -${(m.length+1)*30}px)`},appendToContainer(t){let i=this.constructor.baseClass+"-"+this._calculateDepth()+" "+this.options.className,o,s,n,a,l,r;for(this._container=t,this._ul=L.DomUtil.create("ul",i,t),this._ul.style.transform=this.options.style?this.options.style:"",this._disabledEvents=["click","mousemove","dblclick","mousedown","mouseup","touchstart"],a=0,r=this._disabledEvents.length;a<r;a++)L.DomEvent.on(this._ul,this._disabledEvents[a],L.DomEvent.stopPropagation);for(n=0,l=this.options.actions.length;n<l;n++)o=this._getActionConstructor(this.options.actions[n]),s=new o,s._createIcon(this,this._ul,this._arguments)}}),L.OpacitiesAction=L.EditAction.extend({initialize(t,e,i){const s=e.editing._mode;i=i||{},i.toolbarIcon={svg:!0,html:"opacities",tooltip:"Set custom opacity",className:s==="lock"?"disabled":""},i.subToolbar=new L.OpacitiesToolbar2({actions:m}),L.DistortableImage.action_map.o=s==="lock"?"":"_setOpacities",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._link;L.DomUtil.hasClass(t,"subtoolbar_enabled")?(L.DomUtil.removeClass(t,"subtoolbar_enabled"),setTimeout(()=>{this.options.subToolbar._hide()},100)):L.DomUtil.addClass(t,"subtoolbar_enabled"),L.IconUtil.toggleXlink(t,"opacities","cancel"),L.IconUtil.toggleTitle(t,"Make Image Transparent","Cancel")}}),L.OpacityAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing,s=o._mode;let n,a;o._transparent?(n="opacity_empty",a=e.options.translation.makeImageOpaque):(n="opacity",a=e.options.translation.makeImageTransparent),i=i||{},i.toolbarIcon={svg:!0,html:n,tooltip:a,className:s==="lock"?"disabled":""},L.DistortableImage.action_map.o=s==="lock"?"":"_toggleOpacity",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing,e=this._link;L.IconUtil.toggleXlink(e,"opacity","opacity_empty"),L.IconUtil.toggleTitle(e,"Make Image Transparent","Make Image Opaque"),t._toggleOpacity()}}),L.RestoreAction=L.EditAction.extend({initialize(t,e,i){const o=L.Utils.getNestedVal(e,"editing","_mode"),s=e.edited;i=i||{},i.toolbarIcon={svg:!0,html:"restore",tooltip:e.options.translation.restoreImage,className:s&&o!=="lock"?"":"disabled"},L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay;L.DomEvent.on(t,{edit:this._enableAction,restore:this._disableAction},this),t.restore()}}),L.RotateAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"rotate",tooltip:e.options.translation.rotateImage,className:"rotate"},L.DistortableImage.action_map.r="_rotateMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._rotateMode()}}),L.ScaleAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"scale",tooltip:e.options.translation.scaleImage,className:"scale"},L.DistortableImage.action_map.s="_scaleMode",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._scaleMode()}}),L.StackAction=L.EditAction.extend({initialize(t,e,i){const o=e.editing;let s,n;o._toggledImage?(s="flip_to_back",n=e.options.translation.stackToFront):(s="flip_to_front",n=e.options.translation.stackToBack),i=i||{},i.toolbarIcon={svg:!0,html:s,tooltip:n,className:o._mode==="lock"?"disabled":""},L.DistortableImage.action_map.q=o._mode==="lock"?"":"_stackUp",L.DistortableImage.action_map.a=o._mode==="lock"?"":"_stackDown",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){const t=this._overlay.editing;L.IconUtil.toggleXlink(this._link,"flip_to_front","flip_to_back"),L.IconUtil.toggleTitle(this._link,"Stack to Front","Stack to Back"),t._toggleOrder()}}),L.UnlockAction=L.EditAction.extend({initialize(t,e,i){i=i||{},i.toolbarIcon={svg:!0,html:"unlock",tooltip:e.options.translation.unlockImages},L.DistortableImage.group_action_map.u="_unlockGroup",L.EditAction.prototype.initialize.call(this,t,e,i)},addHooks(){this._overlay.editing._unlockGroup()}}),L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.action_map={},L.DistortableImage.PopupBar=L.Toolbar2.Popup.extend({options:{anchor:[0,-10]},initialize(t,e){L.setOptions(this,e),L.Toolbar2.Popup.prototype.initialize.call(this,t,e)},addHooks(t,e){this.map=t,this.ov=e},tools(){if(this._ul)return this._ul.children},clickTool(t){const e=this.tools();for(let i=0;i<e.length;i++){const o=e.item(i).children[0];if(L.DomUtil.hasClass(o,t))return o.click(),o}return!1}}),L.distortableImage.popupBar=function(t,e){return new L.DistortableImage.PopupBar(t,e)},L.DistortableImageOverlay.addInitHook(function(){this.ACTIONS=[L.DragAction,L.ScaleAction,L.DistortAction,L.RotateAction,L.FreeRotateAction,L.LockAction,L.OpacityAction,L.OpacitiesAction,L.BorderAction,L.ExportAction,L.DeleteAction],L.DistortableImage.Edit.MODES={drag:L.DragAction,scale:L.ScaleAction,distort:L.DistortAction,rotate:L.RotateAction,freeRotate:L.FreeRotateAction,lock:L.LockAction};const t=this.options.actions?this.options.actions:this.ACTIONS;this.editing=L.distortableImage.edit(this,{actions:t})}),L.distortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.group_action_map={},L.DistortableImage.ControlBar=L.Toolbar2.Control.extend({}),L.distortableImage.controlBar=function(t){return new L.DistortableImage.ControlBar(t)},L.DistortableCollection.addInitHook(function(){this.ACTIONS=[L.ExportAction,L.DeleteAction,L.LockAction,L.UnlockAction],L.DistortableCollection.Edit.MODES={lock:L.LockAction,unlock:L.UnlockAction};const t=this.options.actions?this.options.actions:this.ACTIONS;this.editing=L.distortableCollection.edit(this,{actions:t})}),L.DistortableImage=L.DistortableImage||{},L.DistortableImage.Edit=L.Handler.extend({options:{opacity:.5,outline:"1px solid red",keymap:L.distortableImage.action_map},initialize(t,e){this._overlay=t,this._toggledImage=!1,this._mode=t.options.mode,this._transparent=!1,this._outlined=!1,this._opacity=e.opacity,L.setOptions(this,e),L.distortableImage.action_map.Escape="_deselect"},addHooks(){const t=this._overlay;this.editActions=this.options.actions,t.bringToFront(),this._initModes(),this._initHandles(),this._appendHandlesandDragable(),t.isSelected()&&!t.options.suppressToolbar&&this._addToolbar(),this.parentGroup=t.eP?t.eP:!1,L.DomEvent.on(t.getElement(),{dblclick:this.nextMode},this),L.DomEvent.on(window,"keydown",this._onKeyDown,this)},removeHooks(){const t=this._overlay,e=this.parentGroup;this._disableDragging(),this.toolbar&&this._removeToolbar();for(const i in this._handles)L.DomUtil.remove(i);L.DomUtil.hasClass(t.getElement(),"collected")&&L.DomUtil.removeClass(t.getElement(),"collected"),e&&!e.anyCollected()&&e.editing.toolbar&&e.editing._removeToolbar(),L.DomEvent.off(t.getElement(),{dblclick:this.nextMode},this),L.DomEvent.off(window,"keydown",this._onKeyDown,this)},disable(){return this._enabled?(this._overlay.deselect(),this._enabled=!1,this.removeHooks(),this):this},_initModes(){this._modes={};for(const t in L.DistortableImage.Edit.MODES){const e=L.DistortableImage.Edit.MODES[t];this.editActions.indexOf(e)!==-1&&(this._modes[t]=e)}this._modes[this._mode]||(this._mode=Object.keys(this._modes)[0])},_initHandles(){const t=this._overlay;let e;for(this._dragHandles=L.layerGroup(),e=0;e<4;e++)this._dragHandles.addLayer(L.dragHandle(t,e));for(this._scaleHandles=L.layerGroup(),e=0;e<4;e++)this._scaleHandles.addLayer(L.scaleHandle(t,e));for(this._distortHandles=L.layerGroup(),e=0;e<4;e++)this._distortHandles.addLayer(L.distortHandle(t,e));for(this._rotateHandles=L.layerGroup(),e=0;e<4;e++)this._rotateHandles.addLayer(L.rotateHandle(t,e));for(this._freeRotateHandles=L.layerGroup(),e=0;e<4;e++)this._freeRotateHandles.addLayer(L.freeRotateHandle(t,e));for(this._lockHandles=L.layerGroup(),e=0;e<4;e++)this._lockHandles.addLayer(L.lockHandle(t,e,{draggable:!1}));this._handles={drag:this._dragHandles,scale:this._scaleHandles,distort:this._distortHandles,rotate:this._rotateHandles,freeRotate:this._freeRotateHandles,lock:this._lockHandles}},_appendHandlesandDragable(){const t=this._overlay;if(!this._mode){this._enableDragging();return}this._updateHandle(),!t.isSelected()&&this.currentHandle&&this.currentHandle.eachLayer(e=>{e.setOpacity(0),e.dragging&&e.dragging.disable()}),this.isMode("lock")||this._enableDragging()},_onKeyDown(t){const i=this.options.keymap[t.key],o=this._overlay,s=this.parentGroup;s&&s.anyCollected()||this[i]!==void 0&&!o.options.suppressToolbar&&o.isSelected()&&this.toolbar&&this[i].call(this)},replaceTool(t,e){return e.baseClass!=="leaflet-toolbar-icon"||this.hasTool(e)?this:(this.editActions.some((i,o)=>{if(i===t){this._removeToolbar(),this.editActions[o]=e,this._addToolbar();for(const s in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[s]===t?(delete this._modes[s],this._nextOrNone(s)):L.DistortableImage.Edit.MODES[s]===e&&(this._modes[s]=e);return!0}}),this)},addTool(t){if(t.baseClass==="leaflet-toolbar-icon"&&!this.hasTool(t)){this._removeToolbar(),this.editActions.push(t),this._addToolbar();for(const e in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[e]===t&&(this._modes[e]=t);this._overlay.isSelected()||this._removeToolbar()}return this},hasTool(t){return this.editActions.some(e=>e===t)},removeTool(t){return this.editActions.some((e,i)=>{if(e===t){this._removeToolbar(),this.editActions.splice(i,1),this._addToolbar();for(const o in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[o]===t&&(delete this._modes[o],this._nextOrNone(o));return!0}}),this._overlay.isSelected()||this._removeToolbar(),this},_nextOrNone(t){this.isMode(t)&&(Object.keys(this.getModes()).length>=1?this.nextMode():(t==="lock"&&this._enableDragging(),this._mode="",this._updateHandle()))},_removeToolbar(){const e=this._overlay._map;this.toolbar&&(e.removeLayer(this.toolbar),this.toolbar=!1)},_enableDragging(){const t=this._overlay,e=t._map;this.dragging=new L.Draggable(t.getElement()),this.dragging.enable(),this.dragging.on("dragstart",()=>{t.fire("dragstart"),this._removeToolbar()}),this.dragging._updatePosition=function(){const i=t.getCorner(0),o=this._newPos.subtract(e.latLngToLayerPoint(i));let s;const n={};let a;for(this.fire("predrag"),a=0;a<4;a++)s=e.latLngToLayerPoint(t.getCorner(a)),n[a]=e.layerPointToLatLng(s.add(o));t.setCorners(n),t.fire("drag"),this.fire("drag")},this.dragging.on("dragend",()=>{t.fire("dragend")})},_disableDragging(){this.dragging&&(this.dragging.disable(),delete this.dragging)},_dragMode(){this.setMode("drag")},_scaleMode(){this.setMode("scale")},_distortMode(){this.setMode("distort")},_rotateMode(){this.setMode("rotate")},_freeRotateMode(){this.setMode("freeRotate")},_toggleLockMode(){this.isMode("lock")?this._unlock():this._lock()},_toggleOpacity(){const t=this._overlay.getElement();if(!this.hasTool(L.OpacityAction))return;this._transparent=!this._transparent;const e=this._transparent?this.options.opacity:1;L.DomUtil.setOpacity(t,e),t.setAttribute("opacity",e),this._refresh()},_setOpacities(t){const e=this._overlay.getElement();this._opacity=t,this.hasTool(L.OpacitiesAction)&&(this._opacity<1?this._transparent=!0:this._transparent=!1,L.DomUtil.setOpacity(e,this._opacity),e.setAttribute("opacity",this._opacity),this._refresh())},_toggleBorder(){const t=this._overlay.getElement();if(!this.hasTool(L.BorderAction))return;this._outlined=!this._outlined;const e=this._outlined?this.options.outline:"none";t.style.outline=e,this._refresh()},_toggleOrder(){this._toggledImage?this._stackUp():this._stackDown()},_removeOverlay(){const t=this._overlay,e=this.parentGroup;this.isMode("lock")||!this.hasTool(L.DeleteAction)||!L.DomUtil.confirmDelete()||(this._removeToolbar(),e?e.removeLayer(t):t._map.removeLayer(t))},_getExport(){const t=this._overlay,e=t._map,i=t.getElement();if(!this.hasTool(L.ExportAction))return;const o=new Image;o.id=o.id||"tempId12345",document.body.appendChild(o),o.onload=function(){const n=o.height,a=o.width,l=e.latLngToLayerPoint(t.getCorner(0)),r=e.latLngToLayerPoint(t.getCorner(1)),c=e.latLngToLayerPoint(t.getCorner(2)),d=e.latLngToLayerPoint(t.getCorner(3));o.onload=function(){L.DomUtil.remove(o)},window&&window.hasOwnProperty("warpWebGl")&&warpWebGl(o.id,[0,0,a,0,a,n,0,n],[l.x,l.y,r.x,r.y,d.x,d.y,c.x,c.y],!0)},o.src=t.options.fullResolutionSrc||i.src},_stackUp(){!this._toggledImage||!this.hasTool(L.StackAction)||(this._toggledImage=!1,this._overlay.bringToFront(),this._refresh())},_stackDown(){this._toggledImage||!this.hasTool(L.StackAction)||(this._toggledImage=!0,this._overlay.bringToBack(),this._refresh())},_unlock(){const t=this._overlay,e=t._map,i=this.parentGroup;this.isMode("lock")&&((i&&!i.isCollected(t)||!i)&&!this.hasTool(L.LockAction)||(this.currentHandle&&e.removeLayer(this.currentHandle),t.options.mode==="lock"||!this.hasMode(t.options.mode)?(this._mode="",this.currentHandle=""):this._mode=t.options.mode,this._updateHandle(),this._enableDragging(),this._refresh()))},_lock(){const t=this._overlay,e=t._map,i=this.parentGroup;this.isMode("lock")||(i&&!i.isCollected(t)||!i)&&!this.hasTool(L.LockAction)||(this.currentHandle&&e.removeLayer(this.currentHandle),this._mode="lock",this._updateHandle(),this._disableDragging(),this._refresh())},_deselect(){this._overlay.deselect()},_showMarkers(t){const e=this.parentGroup;this.currentHandle&&(!this.isMode("lock")&&e&&e.anyCollected()||this.currentHandle.eachLayer(i=>{i.setOpacity(1),i.dragging&&i.dragging.enable(),L.DomUtil.addClass(i.getElement(),"leaflet-interactive")}))},_hideMarkers(){const t=this._overlay,e=this.parentGroup;this._handles||this._initHandles(),this.currentHandle&&(this.isMode("lock")&&e&&e.isCollected(t)||this.currentHandle.eachLayer(i=>{i.setOpacity(0),i.dragging&&i.dragging.disable(),L.DomUtil.removeClass(i.getElement(),"leaflet-interactive")}))},_updateHandle(){const e=this._overlay._map,i=this.getMode();this.currentHandle&&e.removeLayer(this.currentHandle),this.currentHandle=i===""?"":this._handles[i],this.currentHandle!==""&&e.addLayer(this.currentHandle)},_addToolbar(){const t=this._overlay,e=this.parentGroup,i=t._map,o=t.getCorners();let s=-1/0;if(e&&e.anyCollected()){e.editing._addToolbar();return}if(t.options.suppressToolbar||this.toolbar)return;for(let a=0;a<o.length;a++)o[a].lat>s&&(s=o[a].lat);const n=t.getCenter();n.lat=s,this.toolbar=L.distortableImage.popupBar(n,{actions:this.editActions}).addTo(i,t),t.fire("toolbar:created")},_refresh(){this.toolbar&&this._removeToolbar(),this._addToolbar()},_updateToolbarPos(){const t=this._overlay,e=t.getCorners(),i=this.toolbar;let o=-1/0;if(i&&i instanceof L.DistortableImage.PopupBar){for(let n=0;n<e.length;n++)e[n].lat>o&&(o=e[n].lat);const s=t.getCenter();s.lat=o,t.options.suppressToolbar||this.toolbar.setLatLng(s)}},hasMode(t){return!!this._modes[t]},getMode(){if(this.enabled())return this._mode},getModes(){return this._modes},isMode(t){return this.enabled()?this._mode===t:!1},setMode(t){const e=this._overlay,i=this.parentGroup;if(!(this.getMode()===t||!this.hasMode(t)||!this.enabled()))return this.toolbar&&this.toolbar.clickTool(t),this.isMode("lock")&&!this.dragging&&this._enableDragging(),this._mode=t,this.isMode("lock")&&this._disableDragging(),this._updateHandle(),this._refresh(),i&&i.isCollected(e)&&e.deselect(),this},nextMode(t){const e=this.getMode(),i=this.parentGroup,o=Object.keys(this.getModes()),n=(o.indexOf(e)+1)%o.length,a=o[n];if(t){if(i&&i.anyCollected())return;L.DomEvent.stop(t)}return this.setMode(a)}}),L.distortableImage.edit=(t,e)=>new L.DistortableImage.Edit(t,e),L.DistortableImage=L.DistortableImage||{},L.DistortableCollection.Edit=L.Handler.extend({options:{keymap:L.distortableImage.group_action_map},initialize(t,e){this._group=t,this._exportOpts=t.options.exportOpts,L.setOptions(this,e),L.distortableImage.group_action_map.Escape="_decollectAll"},addHooks(){const e=this._group._map;this.editActions=this.options.actions,this.runExporter=L.bind(L.Utils.getNestedVal(this,"_exportOpts","exporter")||this.startExport,this),L.DomEvent.on(document,"keydown",this._onKeyDown,this),e.doubleClickZoom.enabled()||e.doubleClickLabels.enabled()||L.DomEvent.on(e,"click",this._decollectAll,this),L.DomEvent.on(e,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick,boxcollectend:this._addCollections},this),this._group.editable=!0,this._group.eachLayer(i=>i.editing.enable())},removeHooks(){const e=this._group._map;L.DomEvent.off(document,"keydown",this._onKeyDown,this),e.doubleClickZoom.enabled()||e.doubleClickLabels.enabled()||L.DomEvent.off(e,"click",this._decollectAll,this),L.DomEvent.off(e,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick,boxcollectend:this._addCollections},this),this._decollectAll(),this._group.editable=!1,this._group.eachLayer(i=>i.editing.disable())},enable(){return this._enabled=!0,this.addHooks(),this},disable(){return this._enabled=!1,this.removeHooks(),this},_onKeyDown(t){const i=this.options.keymap[t.key];this[i]&&this._group.anyCollected()&&this[i].call(this)},_singleClick(t){if(t.type==="singleclick")this._decollectAll(t);else return},_singleClickListeners(){const t=this._group._map;L.DomEvent.off(t,"click",this._decollectAll,this),L.DomEvent.on(t,"singleclick",this._decollectAll,this)},_resetClickListeners(){const t=this._group._map;L.DomEvent.on(t,"click",this._decollectAll,this),L.DomEvent.off(t,"singleclick",this._decollectAll,this)},_decollectAll(t){let e;t&&(e=t.originalEvent),!(e&&(e.shiftKey||e.target instanceof HTMLImageElement))&&(this._group.eachLayer(i=>{L.DomUtil.removeClass(i.getElement(),"collected"),i.deselect()}),this._removeToolbar(),t&&L.DomEvent.stopPropagation(t))},_unlockGroup(){this.hasTool(L.UnlockAction)&&this._group.eachLayer(t=>{this._group.isCollected(t)&&(t.editing._unlock(),t.deselect())})},_lockGroup(){this.hasTool(L.LockAction)&&this._group.eachLayer(t=>{this._group.isCollected(t)&&(t.editing._lock(),L.DomUtil.addClass(t.getElement(),"collected"))})},_addCollections(t){const e=t.boxCollectBounds,i=this._group._map;this._group.eachLayer(o=>{const s=o.editing;o.isSelected()&&o.deselect();const n=i.getZoom(),a=i.getCenter();let l=L.latLngBounds(o.getCorner(2),o.getCorner(1));l=i._latLngBoundsToNewLayerBounds(l,n,a),e.intersects(l)&&s.enabled()&&(this.toolbar||this._addToolbar(),L.DomUtil.addClass(o.getElement(),"collected"))})},_removeGroup(t){if(!this.hasTool(L.DeleteAction))return;const e=this._group._toRemove(),i=e.length;if(i===0)return;L.DomUtil.confirmDeletes(i)&&(e.forEach(s=>{this._group.removeLayer(s)}),this._group.anyCollected()||this._removeToolbar()),t&&L.DomEvent.stopPropagation(t)},cancelExport(){this.customCollection||(this._exportOpts.collection=void 0),clearInterval(this.updateInterval)},_addToolbar(){const t=this._group,e=t._map;t.options.suppressToolbar||this.toolbar||(this.toolbar=L.distortableImage.controlBar({actions:this.editActions,position:"topleft"}).addTo(e,t))},_removeToolbar(){const t=this._group._map;if(this.toolbar)t.removeLayer(this.toolbar),this.toolbar=!1;else return!1},hasTool(t){return this.editActions.some(e=>e===t)},addTool(t){return t.baseClass==="leaflet-toolbar-icon"&&!this.hasTool(t)&&(this._removeToolbar(),this.editActions.push(t),this._addToolbar()),this},removeTool(t){return this.editActions.some((e,i)=>this.editActions[i]===t?(this._removeToolbar(),this.editActions.splice(i,1),this._addToolbar(),!0):!1),this},startExport(){if(this.hasTool(L.ExportAction))return new Promise(t=>{const e=this._exportOpts;e.resolve=t;let i;this.updateInterval=null;const o=a=>{a=JSON.parse(a),a.status_url&&(i!==a.status_url&&a.status_url.match(".json")&&(i=a.status_url),a.status==="complete"&&(clearInterval(this.updateInterval),this.customCollection||(this._exportOpts.collection=void 0),t(),a.jpg!==null&&alert("Export succeeded. "+e.exportUrl+a.jpg)),console.log(a))},s=a=>{i=e.statusUrl+a,this.updateInterval=setInterval(()=>{const l={method:"GET"},r=new Request(`${i}?${Date.now()}`,l);fetch(r).then(c=>{if(c.ok)return c.text()}).then(e.updater)},e.frequency)},n=a=>{const l=new FormData;l.append("collection",JSON.stringify(a.collection)),l.append("scale",a.scale),l.append("upload",!0);const r={method:"POST",body:l},c=new Request(a.exportStartUrl,r);fetch(c).then(d=>{if(d.ok)return d.text()}).then(a.handleStatusRes)};this.customCollection=!!e.collection,this.customCollection||(e.collection=this._group.generateExportJson().images),e.frequency=e.frequency||3e3,e.scale=e.scale||100,e.updater=e.updater||o,e.handleStatusRes=e.handleStatusRes||s,e.fetchStatusUrl=e.fetchStatusUrl||n,e.fetchStatusUrl(e)})}}),L.distortableCollection.edit=(t,e)=>new L.DistortableCollection.Edit(t,e),L.DomUtil=L.DomUtil||{},L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.Keymapper=L.Handler.extend({options:{position:"topright"},initialize(t,e){this._map=t,L.setOptions(this,e)},addHooks(){this._keymapper||(this._container=this._buildContainer(),this._scrollWrapper=this._wrap(),this._toggler=this._createButton(),this._setMapper(this._container,this._scrollWrapper,this._toggler),L.DomEvent.on(this._toggler,"click",this._toggleKeymapper,this),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container))},removeHooks(){this._keymapper&&(L.DomEvent.off(this._toggler,"click",this._toggleKeymapper,this),L.DomUtil.remove(this._toggler),L.DomUtil.remove(this._scrollWrapper),L.DomUtil.remove(this._container),this._keymapper=!1)},_buildContainer(){const t=L.DomUtil.create("div","ldi-keymapper-hide");t.setAttribute("id","ldi-keymapper");const e=L.DomUtil.create("br","divider");return t.appendChild(e),t},_createButton(){const t=L.DomUtil.create("a","");return t.innerHTML=L.IconUtil.create("keyboard_open"),t.setAttribute("id","toggle-keymapper"),t.setAttribute("href","#"),t.setAttribute("title","Show keymap"),t.setAttribute("role","button"),t.setAttribute("aria-label","Show keymap"),t},_wrap(){const t=L.DomUtil.create("div","");return t.setAttribute("id","keymapper-wrapper"),t.style.display="none",t},_setMapper(t,e,i){this._keymapper=L.control({position:this.options.position}),this._keymapper.onAdd=function(){return t.appendChild(e),e.insertAdjacentHTML("beforeend",'<table><tbody><hr id="keymapper-hr"><tr><td><div class="left"><span>Rotate Mode</span></div><div class="right"><kbd>R</kbd></div></td></tr><tr><td><div class="left"><span>RotateScale Mode</span></div><div class="right"><kbd>r</kbd></div></td></tr><tr><td><div class="left"><span>Scale Mode</span></div><div class="right"><kbd>s</kbd></div></td></tr><tr><td><div class="left"><span>Distort Mode</span></div><div class="right"><kbd>d</kbd></div></td></tr><tr><td><div class="left"><span>Drag Mode</span></div><div class="right"><kbd>D</kbd></div></td></tr><tr><td><div class="left"><span>Lock (Mode) / Unlock Image</span></div><div class="right"><kbd>l</kbd><kbd>u</kbd></div></td></tr><tr><td><div class="left"><span>Stack up / down</span></div><div class="right"><kbd>q</kbd><kbd>a</kbd></div></td></tr><tr><td><div class="left"><span>Add / Remove Image Border</span></div><div class="right"><kbd>b</kbd></div></td></tr><tr><td><div class="left"><span>Toggle Opacity</span></div><div class="right"><kbd>o</kbd></div></td></tr><tr><td><div class="left"><span>Deselect All</span></div><div class="right"><kbd>esc</kbd></div></td></tr><tr><td><div class="left"><span>Delete Image(s)</span></div><div class="right"><kbd>delete</kbd><kbd>backspace</kbd></div></td></tr><tr><td><div class="left"><span>Export Image(s)</span></div><div class="right"><kbd>e</kbd></div></td></tr></tbody></table>'),t.appendChild(i),t},this._keymapper.addTo(this._map)},_toggleKeymapper(t){t.preventDefault(),this._container.className=this._container.className==="ldi-keymapper leaflet-control"?"ldi-keymapper-hide leaflet-control":"ldi-keymapper leaflet-control",this._scrollWrapper.style.display=this._scrollWrapper.style.display==="none"?"block":"none",this._toggler.innerHTML=this._toggler.innerHTML==="close"?L.IconUtil.create("keyboard_open"):"close",L.IconUtil.toggleTitle(this._toggler,"Show keymap","Hide keymap"),L.DomUtil.toggleClass(this._toggler,"close-icon")},_injectIconSet(){if(document.querySelector("#keymapper-iconset"))return;const t=L.DomUtil.create("div","");t.id="keymapper-iconset",t.setAttribute("hidden","hidden"),this._iconset=new L.KeymapperIconSet().render(),t.innerHTML=this._iconset,document.querySelector(".leaflet-control-container").appendChild(t)}}),L.DistortableImage.Keymapper.addInitHook(()=>{L.DistortableImage.Keymapper.prototype._n=L.DistortableImage.Keymapper.prototype._n?L.DistortableImage.Keymapper.prototype._n+1:1,L.DistortableImage.Keymapper.prototype._n===1&&!L.Browser.mobile&&((void 0).enable(),(void 0)._injectIconSet())}),L.distortableImage.keymapper=(t,e)=>new L.DistortableImage.Keymapper(t,e),L.Map.DoubleClickZoom.include({addHooks(){this._map.on({click:this._fireIfSingle,dblclick:this._onDoubleClick},this)},removeHooks(){this._map.off({click:this._fireIfSingle,dblclick:this._onDoubleClick},this)},enable(){return this._enabled?this:this._map.doubleClickLabels&&this._map.doubleClickLabels.enabled()?this:(this._map.fire("singleclickon"),this._enabled=!0,this.addHooks(),this)},disable(){return this._enabled?(this._map.fire("singleclickoff"),this._enabled=!1,this.removeHooks(),this):this},_fireIfSingle(t){const e=this._map,i=t.originalEvent;i&&i.shiftKey||(e._clicked+=1,this._map._clickTimeout=setTimeout(function(){e._clicked===1?(e._clicked=0,e.fire("singleclick",{type:"singleclick"})):L.Browser.touch&&i&&i.sourceCapabilities.firesTouchEvents&&e._fireDOMEvent(i,"dblclick",[e])},250))},_onDoubleClick(t){const e=this._map,i=t.originalEvent;if(setTimeout(function(){e._clicked=0,clearTimeout(e._clickTimeout)},0),!i)return!1;const o=e.getZoom(),s=e.options.zoomDelta,n=i.shiftKey?o-s:o+s;e.options.doubleClickZoom==="center"?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),L.Map.mergeOptions({boxCollector:!0,boxZoom:!1}),L.Map.BoxCollector=L.Map.BoxZoom.extend({initialize(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks(){L.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks(){L.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved(){return this._moved},_destroy(){L.DomUtil.remove(this._pane),delete this._pane},_resetState(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),L.DomEvent.on(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},_onMouseMove(t){this._moved||(this._moved=!0,this._box=L.DomUtil.create("div","leaflet-zoom-box",this._container),L.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t),this._bounds=L.bounds(this._startPoint,this._point);const e=this._bounds.getSize();L.DomUtil.setPosition(this._box,this._bounds.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish(){this._moved&&(L.DomUtil.remove(this._box),L.DomUtil.removeClass(this._container,"leaflet-crosshair")),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),L.DomEvent.off(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},_onMouseUp(t){if(t.which!==1&&t.button!==1||(this._finish(),!this._moved))return;this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(L.Util.bind(this._resetState,this),0);let e=L.latLngBounds(this._map.containerPointToLatLng(this._bounds.getBottomLeft()),this._map.containerPointToLatLng(this._bounds.getTopRight()));const i=this._map.getZoom(),o=this._map.getCenter();e=this._map._latLngBoundsToNewLayerBounds(e,i,o),this._map.fire("boxcollectend",{boxCollectBounds:e})}}),L.Map.addInitHook("addHandler","boxCollector",L.Map.BoxCollector),L.Map.mergeOptions({doubleClickLabels:!0}),L.Map.DoubleClickLabels=L.Map.DoubleClickZoom.extend({enable(){const t=this._map;return this._enabled?this:(t.doubleClickZoom.enabled()&&t.doubleClickZoom.disable(),this._map.fire("singleclickon"),this._enabled=!0,this.addHooks(),this)},disable(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},_fireIfSingle(t){const e=this._map,i=t.originalEvent;i&&i.shiftKey||(e._clicked+=1,this._map._clickTimeout=setTimeout(function(){e._clicked===1?(e._clicked=0,e.fire("singleclick",{type:"singleclick"})):L.Browser.touch&&i&&i.sourceCapabilities.firesTouchEvents&&e.fire("dblclick")},250))},_onDoubleClick(){const t=this._map,e=t._labels;setTimeout(function(){t._clicked=0,clearTimeout(t._clickTimeout)},0),e&&(e.options.opacity===1?(e.options.opacity=0,e.setOpacity(0)):(e.options.opacity=1,e.setOpacity(1)))}}),L.Map.addInitHook("addHandler","doubleClickLabels",L.Map.DoubleClickLabels),L.Map.include({_clicked:0,addGoogleMutant(t){const e="http://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}";return t=this.mutantOptions=L.extend({mutantOpacity:.8,maxZoom:24,maxNativeZoom:20,minZoom:0,labels:!0,labelOpacity:1,doubleClickLabels:!0},t),t.labels||(this.mutantOptions=L.extend(this.mutantOptions,{labelOpacity:t.labels?1:void 0,doubleClickLabels:t.labels?!0:void 0})),this._googleMutant=L.tileLayer(e,{maxZoom:t.maxZoom,maxNativeZoom:t.maxNativeZoom,minZoom:t.minZoom,opacity:t.mutantOpacity}).addTo(this),t.labels?this._addLabels(t):this.doubleClickLabels=void 0,this},_addLabels(t){const e="https://stamen-tiles-{s}.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}{r}.{ext}";return t.labelOpacity!==0&&t.labelOpacity!==1&&(t.labelOpacity=1),this._labels=L.tileLayer(e,{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",interactive:!1,opacity:t.labelOpacity,maxZoom:t.maxZoom,maxNativeZoom:t.maxNativeZoom,minZoom:t.minZoom,ext:"png"}).addTo(this),this.mutantOptions.doubleClickLabels&&this.doubleClickLabels.enable(),this}}),L.Map.addInitHook(function(){this.doubleClickLabels.disable(),this.doubleClickZoom.enable()})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZmxldC5kaXN0b3J0YWJsZWltYWdlLmlpZmUuanMiLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlsL1V0aWxzLmpzIiwiLi4vc3JjL3V0aWwvRG9tVXRpbC5qcyIsIi4uL3NyYy91dGlsL0ljb25VdGlsLmpzIiwiLi4vc3JjL3V0aWwvSW1hZ2VVdGlsLmpzIiwiLi4vc3JjL3V0aWwvTWF0cml4VXRpbC5qcyIsIi4uL3NyYy91dGlsL1RyaWdVdGlsLmpzIiwiLi4vc3JjL0Rpc3RvcnRhYmxlSW1hZ2VPdmVybGF5LmpzIiwiLi4vc3JjL0Rpc3RvcnRhYmxlQ29sbGVjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2dldEVYSUZkYXRhLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9FZGl0SGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9EaXN0b3J0SGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9EcmFnSGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9GcmVlUm90YXRlSGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9Mb2NrSGFuZGxlLmpzIiwiLi4vc3JjL2VkaXQvaGFuZGxlcy9Sb3RhdGVIYW5kbGUuanMiLCIuLi9zcmMvZWRpdC9oYW5kbGVzL1NjYWxlSGFuZGxlLmpzIiwiLi4vc3JjL2ljb25zZXRzL0ljb25TZXQuanMiLCIuLi9zcmMvaWNvbnNldHMvS2V5bWFwcGVySWNvblNldC5qcyIsIi4uL3NyYy9pY29uc2V0cy9Ub29sYmFySWNvblNldC5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvRWRpdEFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvQm9yZGVyQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9EZWxldGVBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL0Rpc3RvcnRBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL0RyYWdBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL0V4cG9ydEFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvRnJlZVJvdGF0ZUFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvR2VvbG9jYXRlQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9Mb2NrQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9PcGFjaXRpZXNBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL09wYWNpdHlBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL1Jlc3RvcmVBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL1JvdGF0ZUFjdGlvbi5qcyIsIi4uL3NyYy9lZGl0L2FjdGlvbnMvU2NhbGVBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC9hY3Rpb25zL1N0YWNrQWN0aW9uLmpzIiwiLi4vc3JjL2VkaXQvYWN0aW9ucy9VbmxvY2tBY3Rpb24uanMiLCIuLi9zcmMvZWRpdC90b29sYmFycy9EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyLmpzIiwiLi4vc3JjL2VkaXQvdG9vbGJhcnMvRGlzdG9ydGFibGVJbWFnZS5Db250cm9sQmFyLmpzIiwiLi4vc3JjL2VkaXQvRGlzdG9ydGFibGVJbWFnZS5FZGl0LmpzIiwiLi4vc3JjL2VkaXQvRGlzdG9ydGFibGVDb2xsZWN0aW9uLkVkaXQuanMiLCIuLi9zcmMvY29tcG9uZW50cy9EaXN0b3J0YWJsZUltYWdlLktleW1hcHBlci5qcyIsIi4uL3NyYy9tYXBtaXhpbnMvRG91YmxlQ2xpY2tab29tLmpzIiwiLi4vc3JjL21hcG1peGlucy9Cb3hDb2xsZWN0b3IuanMiLCIuLi9zcmMvbWFwbWl4aW5zL0RvdWJsZUNsaWNrTGFiZWxzLmpzIiwiLi4vc3JjL21hcG1peGlucy9NYXBNaXhpbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiTC5VdGlscyA9IHtcbiAgaW5pdFRyYW5zbGF0aW9uKCkge1xuICAgIGNvbnN0IHRyYW5zbGF0aW9uID0ge1xuICAgICAgZGVsZXRlSW1hZ2U6ICdEZWxldGUgSW1hZ2UnLFxuICAgICAgZGVsZXRlSW1hZ2VzOiAnRGVsZXRlIEltYWdlcycsXG4gICAgICBkaXN0b3J0SW1hZ2U6ICdEaXN0b3J0IEltYWdlJyxcbiAgICAgIGRyYWdJbWFnZTogJ0RyYWcgSW1hZ2UnLFxuICAgICAgZXhwb3J0SW1hZ2U6ICdFeHBvcnQgSW1hZ2UnLFxuICAgICAgZXhwb3J0SW1hZ2VzOiAnRXhwb3J0IEltYWdlcycsXG4gICAgICByZW1vdmVCb3JkZXI6ICdSZW1vdmUgQm9yZGVyJyxcbiAgICAgIGFkZEJvcmRlcjogJ0FkZCBCb3JkZXInLFxuICAgICAgZnJlZVJvdGF0ZUltYWdlOiAnRnJlZSByb3RhdGUgSW1hZ2UnLFxuICAgICAgZ2VvbG9jYXRlSW1hZ2U6ICdHZW9sb2NhdGUgSW1hZ2UnLFxuICAgICAgbG9ja01vZGU6ICdMb2NrIE1vZGUnLFxuICAgICAgbG9ja0ltYWdlczogJ0xvY2sgSW1hZ2VzJyxcbiAgICAgIG1ha2VJbWFnZU9wYXF1ZTogJ01ha2UgSW1hZ2UgT3BhcXVlJyxcbiAgICAgIG1ha2VJbWFnZVRyYW5zcGFyZW50OiAnTWFrZSBJbWFnZSBUcmFuc3BhcmVudCcsXG4gICAgICByZXN0b3JlSW1hZ2U6ICdSZXN0b3JlIE5hdHVyYWwgSW1hZ2UnLFxuICAgICAgcm90YXRlSW1hZ2U6ICdSb3RhdGUgSW1hZ2UnLFxuICAgICAgc2NhbGVJbWFnZTogJ1NjYWxlIEltYWdlJyxcbiAgICAgIHN0YWNrVG9Gcm9udDogJ1N0YWNrIHRvIEZyb250JyxcbiAgICAgIHN0YWNrVG9CYWNrOiAnU3RhY2sgdG8gQmFjaycsXG4gICAgICB1bmxvY2tJbWFnZXM6ICdVbmxvY2sgSW1hZ2VzJyxcbiAgICAgIGNvbmZpcm1JbWFnZURlbGV0ZTpcbiAgICAgICAgJ0FyZSB5b3Ugc3VyZT8gVGhpcyBpbWFnZSB3aWxsIGJlIHBlcm1hbmVudGx5IGRlbGV0ZWQgZnJvbSB0aGUgbWFwLicsXG4gICAgICBjb25maXJtSW1hZ2VzRGVsZXRlczpcbiAgICAgICAgJ0FyZSB5b3Ugc3VyZT8gVGhlc2UgaW1hZ2VzIHdpbGwgYmUgcGVybWFuZW50bHkgZGVsZXRlZCBmcm9tIHRoZSBtYXAuJyxcbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMudHJhbnNsYXRpb24pIHtcbiAgICAgIHRoaXMub3B0aW9ucy50cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgdHJhbnNsYXRpb24gZm9yIGEgd29yZCBpcyBub3Qgc3BlY2lmaWVkLCBmYWxsYmFjayB0byBFbmdsaXNoLlxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhbnNsYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudHJhbnNsYXRpb24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2xhdGlvbltrZXldID0gdHJhbnNsYXRpb25ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIEwuRG9tVXRpbC5pbml0VHJhbnNsYXRpb24odGhpcy5vcHRpb25zLnRyYW5zbGF0aW9uKTtcbiAgfSxcblxuICBnZXROZXN0ZWRWYWwob2JqLCBrZXksIG5lc3RlZEtleSkge1xuICAgIGNvbnN0IGRpZyA9IFtrZXksIG5lc3RlZEtleV07XG4gICAgcmV0dXJuIGRpZy5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBrKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9ialtrXTtcbiAgICB9LCBvYmopO1xuICB9LFxufTtcbiIsIkwuRG9tVXRpbCA9IEwuZXh0ZW5kKEwuRG9tVXRpbCwge1xuICBpbml0VHJhbnNsYXRpb24ob2JqKSB7XG4gICAgdGhpcy50cmFuc2xhdGlvbiA9IG9iajtcbiAgfSxcblxuICBnZXRNYXRyaXhTdHJpbmcobSkge1xuICAgIGNvbnN0IGlzM2QgPSBMLkJyb3dzZXIud2Via2l0M2QgfHwgTC5Ccm93c2VyLmdlY2tvM2QgfHwgTC5Ccm93c2VyLmllM2Q7XG5cbiAgICAvKlxuICAgICAqIFNpbmNlIG1hdHJpeDNkIHRha2VzIGEgNCo0IG1hdHJpeCwgd2UgYWRkIGluIGFuIGVtcHR5IHJvdyBhbmQgY29sdW1uLFxuICAgICAqIHdoaWNoIGFjdCBhcyB0aGUgaWRlbnRpdHkgb24gdGhlIHotYXhpcy5cbiAgICAgKiBTZWU6XG4gICAgICogICAgIGh0dHA6Ly9mcmFua2xpbnRhLmNvbS8yMDE0LzA5LzA4L2NvbXB1dGluZy1jc3MtbWF0cml4M2QtdHJhbnNmb3Jtcy9cbiAgICAgKiAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RyYW5zZm9ybS1mdW5jdGlvbiNNLkMzLkI2Yml1cydfaG9tb2dlbmVvdXNfY29vcmRpbmF0ZXNfaW5fcHJvamVjdGl2ZV9nZW9tZXRyeVxuICAgICAqL1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIG1bMF0sIG1bM10sIDAsIG1bNl0sXG4gICAgICBtWzFdLCBtWzRdLCAwLCBtWzddLFxuICAgICAgMCwgMCwgMSwgMCxcbiAgICAgIG1bMl0sIG1bNV0sIDAsIG1bOF0sXG4gICAgXTtcblxuICAgIGNvbnN0IHN0ciA9IGlzM2QgPyAnbWF0cml4M2QoJyArIG1hdHJpeC5qb2luKCcsJykgKyAnKScgOiAnJztcblxuICAgIGlmICghaXMzZCkge1xuICAgICAgY29uc29sZVxuICAgICAgICAgIC5sb2coJ1lvdXIgYnJvd3NlciBtdXN0IHN1cHBvcnQgM0QgQ1NTIHRyYW5zZm9ybXMnICtcbiAgICAgICAgICAnaW4gb3JkZXIgdG8gdXNlIERpc3RvcnRhYmxlSW1hZ2VPdmVybGF5LicpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH0sXG5cbiAgdG9nZ2xlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgIGNvbnN0IGMgPSBjbGFzc05hbWU7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ2xhc3MoZWwsIGMpID9cbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoZWwsIGMpIDogdGhpcy5hZGRDbGFzcyhlbCwgYyk7XG4gIH0sXG5cbiAgY29uZmlybURlbGV0ZSgpIHtcbiAgICByZXR1cm4gd2luZG93LmNvbmZpcm0odGhpcy50cmFuc2xhdGlvbi5jb25maXJtSW1hZ2VEZWxldGUpO1xuICB9LFxuXG4gIGNvbmZpcm1EZWxldGVzKG4pIHtcbiAgICBpZiAobiA9PT0gMSkgeyByZXR1cm4gdGhpcy5jb25maXJtRGVsZXRlKCk7IH1cblxuICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gdGhpcy50cmFuc2xhdGlvbi5jb25maXJtSW1hZ2VzRGVsZXRlcztcbiAgICBsZXQgd2FybmluZ01zZyA9ICcnO1xuXG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2FybmluZ01zZyA9IHRyYW5zbGF0aW9uKG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nTXNnID0gdHJhbnNsYXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpbmRvdy5jb25maXJtKHdhcm5pbmdNc2cpO1xuICB9LFxufSk7XG4iLCJMLkljb25VdGlsID0ge1xuICAvKiBjcmVhdGVzIGFuIHN2ZyBlbGVtZW5ldCB3aXRoIGJ1aWx0IGluIGFjY2Vzc2liaWxpdHkgcHJvcGVydGllc1xuICAgKiBhbmQgc3RhbmRhcmRpemVkIGNsYXNzZXMgZm9yIHN0eWxpbmcsIHRha2VzIGluIHRoZSBmcmFnbWVudFxuICAgKiBpZGVudGlmaWVyIChpZCkgb2YgdGhlIHN5bWJvbCB0byByZWZlcmVuY2UuIG5vdGUgZm9yIHN5bXBsaWNpdHlcbiAgICogd2UgYWxsb3cgcHJvdmlkaW5nIHRoZSBpY29uIHRhcmdldCB3aXRoIG9yIHdpdGhvdXQgdGhlICcjJyBwcmVmaXhcbiAgICovXG4gIGNyZWF0ZShyZWYpIHtcbiAgICBpZiAoL14jLy50ZXN0KHJlZikpIHtcbiAgICAgIHJlZiA9IHJlZi5yZXBsYWNlKC9eIy8sICcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgJzxzdmcgY2xhc3M9XCJsZGktaWNvbiBsZGktJyArIHJlZiArICdcInJvbGU9XCJpbWdcIiBmb2N1c2FibGU9XCJmYWxzZVwiPicgK1xuICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIiMnICsgcmVmICsgJ1wiPjwvdXNlPicgK1xuICAgICAgJzwvc3ZnPidcbiAgICApO1xuICB9LFxuXG4gIGFkZENsYXNzVG9TdmcoY29udGFpbmVyLCBsb2FkZXIpIHtcbiAgICBjb25zdCBzdmcgPSBjb250YWluZXIucXVlcnlTZWxlY3Rvcignc3ZnJyk7XG5cbiAgICBpZiAoc3ZnKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3Moc3ZnLCBsb2FkZXIpO1xuICAgIH1cbiAgfSxcblxuICAvLyBmaW5kcyB0aGUgdXNlIGVsZW1lbnQgYW5kIHRvZ2dsZXMgaXRzIGljb24gcmVmZXJlbmNlXG4gIHRvZ2dsZVhsaW5rKGNvbnRhaW5lciwgcmVmMSwgcmVmMikge1xuICAgIGlmICghL14jLy50ZXN0KHJlZjEpKSB7XG4gICAgICByZWYxID0gJyMnICsgcmVmMTtcbiAgICB9XG4gICAgaWYgKCEvXiMvLnRlc3QocmVmMikpIHtcbiAgICAgIHJlZjIgPSAnIycgKyByZWYyO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICBpZiAodXNlKSB7XG4gICAgICBjb25zdCB0b2dnbGVkID0gdXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpID09PSByZWYxID8gcmVmMiA6IHJlZjE7XG4gICAgICB1c2Uuc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgdG9nZ2xlZCk7XG4gICAgICByZXR1cm4gdG9nZ2xlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIHRvZ2dsZVRpdGxlKGNvbnRhaW5lciwgdGl0bGUxLCB0aXRsZTIpIHtcbiAgICBjb25zdCB0b2dnbGVkID0gY29udGFpbmVyLmdldEF0dHJpYnV0ZSgndGl0bGUnKSA9PT0gdGl0bGUxID8gdGl0bGUyIDogdGl0bGUxO1xuXG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0b2dnbGVkKTtcbiAgICBpZiAoY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpKSB7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdG9nZ2xlZCk7XG4gICAgfVxuICAgIHJldHVybiB0b2dnbGVkO1xuICB9LFxufTtcbiIsIkwuSW1hZ2VVdGlsID0ge1xuXG4gIGdldENtUGVyUGl4ZWwob3ZlcmxheSkge1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcblxuICAgIGNvbnN0IGRpc3QgPSBtYXBcbiAgICAgICAgLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigwKSlcbiAgICAgICAgLmRpc3RhbmNlVG8obWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigxKSkpO1xuXG4gICAgcmV0dXJuIChkaXN0ICogMTAwKSAvIG92ZXJsYXkuZ2V0RWxlbWVudCgpLndpZHRoO1xuICB9LFxufTtcbiIsIkwuTWF0cml4VXRpbCA9IHtcblxuICAvLyBDb21wdXRlIHRoZSBhZGp1Z2F0ZSBvZiBtXG4gIGFkaihtKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG1bNF0qbVs4XS1tWzVdKm1bN10sIG1bMl0qbVs3XS1tWzFdKm1bOF0sIG1bMV0qbVs1XS1tWzJdKm1bNF0sXG4gICAgICBtWzVdKm1bNl0tbVszXSptWzhdLCBtWzBdKm1bOF0tbVsyXSptWzZdLCBtWzJdKm1bM10tbVswXSptWzVdLFxuICAgICAgbVszXSptWzddLW1bNF0qbVs2XSwgbVsxXSptWzZdLW1bMF0qbVs3XSwgbVswXSptWzRdLW1bMV0qbVszXSxcbiAgICBdO1xuICB9LFxuXG4gIC8vIG11bHRpcGx5IHR3byAzKjMgbWF0cmljZXNcbiAgbXVsdG1tKGEsIGIpIHtcbiAgICBjb25zdCBjID0gW107XG4gICAgbGV0IGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICBsZXQgY2lqID0gMDtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykge1xuICAgICAgICAgIGNpaiArPSBhWzMqaSArIGtdKmJbMyprICsgal07XG4gICAgICAgIH1cblxuICAgICAgICBjWzMqaSArIGpdID0gY2lqO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9LFxuXG4gIC8vIG11bHRpcGx5IGEgMyozIG1hdHJpeCBhbmQgYSAzLXZlY3RvclxuICBtdWx0bXYobSwgdikge1xuICAgIHJldHVybiBbXG4gICAgICBtWzBdKnZbMF0gKyBtWzFdKnZbMV0gKyBtWzJdKnZbMl0sXG4gICAgICBtWzNdKnZbMF0gKyBtWzRdKnZbMV0gKyBtWzVdKnZbMl0sXG4gICAgICBtWzZdKnZbMF0gKyBtWzddKnZbMV0gKyBtWzhdKnZbMl0sXG4gICAgXTtcbiAgfSxcblxuICAvLyBtdWx0aXBseSBhIHNjYWxhciBhbmQgYSAzKjMgbWF0cml4XG4gIG11bHRzbShzLCBtKSB7XG4gICAgY29uc3QgbWF0cml4ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IG0ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBtYXRyaXgucHVzaChzKm1baV0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH0sXG5cbiAgYmFzaXNUb1BvaW50cyh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICBjb25zdCBtID0gW1xuICAgICAgeDEsIHgyLCB4MyxcbiAgICAgIHkxLCB5MiwgeTMsXG4gICAgICAxLCAxLCAxLFxuICAgIF07XG4gICAgY29uc3QgdiA9IEwuTWF0cml4VXRpbC5tdWx0bXYoTC5NYXRyaXhVdGlsLmFkaihtKSwgW3g0LCB5NCwgMV0pO1xuXG4gICAgcmV0dXJuIEwuTWF0cml4VXRpbC5tdWx0bW0obSwgW1xuICAgICAgdlswXSwgMCwgMCxcbiAgICAgIDAsIHZbMV0sIDAsXG4gICAgICAwLCAwLCB2WzJdLFxuICAgIF0pO1xuICB9LFxuXG4gIHByb2plY3QobSwgeCwgeSkge1xuICAgIGNvbnN0IHYgPSBMLk1hdHJpeFV0aWwubXVsdG12KG0sIFt4LCB5LCAxXSk7XG5cbiAgICByZXR1cm4gW3ZbMF0vdlsyXSwgdlsxXS92WzJdXTtcbiAgfSxcblxuICBnZW5lcmFsMkRQcm9qZWN0aW9uKFxuICAgICAgeDFzLCB5MXMsIHgxZCwgeTFkLFxuICAgICAgeDJzLCB5MnMsIHgyZCwgeTJkLFxuICAgICAgeDNzLCB5M3MsIHgzZCwgeTNkLFxuICAgICAgeDRzLCB5NHMsIHg0ZCwgeTRkXG4gICkge1xuICAgIGNvbnN0IHMgPSBMLk1hdHJpeFV0aWwuYmFzaXNUb1BvaW50cyh4MXMsIHkxcywgeDJzLCB5MnMsIHgzcywgeTNzLCB4NHMsIHk0cyk7XG4gICAgY29uc3QgZCA9IEwuTWF0cml4VXRpbC5iYXNpc1RvUG9pbnRzKHgxZCwgeTFkLCB4MmQsIHkyZCwgeDNkLCB5M2QsIHg0ZCwgeTRkKTtcbiAgICBjb25zdCBtID0gTC5NYXRyaXhVdGlsLm11bHRtbShkLCBMLk1hdHJpeFV0aWwuYWRqKHMpKTtcblxuICAgIC8vIE5vcm1hbGl6ZSB0byB0aGUgdW5pcXVlIG1hdHJpeCB3aXRoIG1bOF0gPT0gMS5cbiAgICAvLyBTZWU6IGh0dHA6Ly9mcmFua2xpbnRhLmNvbS8yMDE0LzA5LzA4L2NvbXB1dGluZy1jc3MtbWF0cml4M2QtdHJhbnNmb3Jtcy9cblxuICAgIHJldHVybiBMLk1hdHJpeFV0aWwubXVsdHNtKDEvbVs4XSwgbSk7XG4gIH0sXG59O1xuIiwiTC5UcmlnVXRpbCA9IHtcblxuICBjYWxjQW5nbGUoeCwgeSwgdW5pdCA9ICdkZWcnKSB7XG4gICAgcmV0dXJuIHVuaXQgPT09ICdkZWcnID9cbiAgICAgICAgdGhpcy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoeSwgeCkpIDpcbiAgICAgICAgTWF0aC5hdGFuMih5LCB4KTtcbiAgfSxcblxuICByYWRpYW5zVG9EZWdyZWVzKGFuZ2xlKSB7XG4gICAgcmV0dXJuIChhbmdsZSAqIDE4MCkgLyBNYXRoLlBJO1xuICB9LFxuXG4gIGRlZ3JlZXNUb1JhZGlhbnMoYW5nbGUpIHtcbiAgICByZXR1cm4gKGFuZ2xlICogTWF0aC5QSSkgLyAxODA7XG4gIH0sXG59O1xuIiwiTC5EaXN0b3J0YWJsZUltYWdlT3ZlcmxheSA9IEwuSW1hZ2VPdmVybGF5LmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBoZWlnaHQ6IDIwMCxcbiAgICBjcm9zc09yaWdpbjogdHJ1ZSxcbiAgICAvLyB0b2RvOiBmaW5kIGlkZWFsIG51bWJlciB0byBwcmV2ZW50IGRpc3RvcnRpb25zIGR1cmluZyBSb3RhdGVTY2FsZSwgYW5kIG1ha2UgaXQgZHluYW1pYyAocmVtb3ZlIGhhcmRjb2RpbmcpXG4gICAgZWRnZU1pbldpZHRoOiA1MCxcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICBtb2RlOiAnZGlzdG9ydCcsXG4gICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgIHRvb2x0aXBUZXh0OiAnJyxcbiAgfSxcblxuICBpbml0aWFsaXplKHVybCwgb3B0aW9ucykge1xuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICBMLlV0aWxzLmluaXRUcmFuc2xhdGlvbi5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lZGdlTWluV2lkdGggPSB0aGlzLm9wdGlvbnMuZWRnZU1pbldpZHRoO1xuICAgIHRoaXMuZWRpdGFibGUgPSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gICAgdGhpcy5fc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnMuc2VsZWN0ZWQ7XG4gICAgdGhpcy5fdXJsID0gdXJsO1xuICAgIHRoaXMucm90YXRpb24gPSB7fTtcbiAgICB0aGlzLl9jb3JuZXJzID0gdGhpcy5vcHRpb25zLmNvcm5lcnMgfHwgW107XG5cbiAgICB0aGlzLmludGVyYWN0aXZlID0gdGhpcy5vcHRpb25zLmludGVyYWN0aXZlO1xuICAgIHRoaXMudG9vbHRpcFRleHQgPSB0aGlzLm9wdGlvbnMudG9vbHRpcFRleHQ7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIGlmICghdGhpcy5nZXRFbGVtZW50KCkpIHtcbiAgICAgIHRoaXMuX2luaXRJbWFnZSgpO1xuICAgIH1cblxuICAgIG1hcC5vbigndmlld3Jlc2V0JywgdGhpcy5fcmVzZXQsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb3JuZXJzKSB7XG4gICAgICB0aGlzLl9jb3JuZXJzID0gdGhpcy5vcHRpb25zLmNvcm5lcnM7XG4gICAgICBpZiAobWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbiAmJiBMLkJyb3dzZXIuYW55M2QpIHtcbiAgICAgICAgbWFwLm9uKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYXZlIHRvIHdhaXQgZm9yIHRoZSBpbWFnZSB0byBsb2FkIGJlY2F1c2UgbmVlZCB0byBhY2Nlc3MgaXRzIHcvaFxuICAgIEwuRG9tRXZlbnQub24odGhpcy5nZXRFbGVtZW50KCksICdsb2FkJywgKCkgPT4ge1xuICAgICAgdGhpcy5nZXRQYW5lKCkuYXBwZW5kQ2hpbGQodGhpcy5nZXRFbGVtZW50KCkpO1xuICAgICAgdGhpcy5faW5pdEltYWdlRGltZW5zaW9ucygpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJvdGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHVuaXRzID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uLmRlZyA+PSAwID8gJ2RlZycgOiAncmFkJztcbiAgICAgICAgdGhpcy5zZXRBbmdsZSh0aGlzLm9wdGlvbnMucm90YXRpb25bdW5pdHNdLCB1bml0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0ge2RlZzogMCwgcmFkOiAwfTtcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIH1cblxuICAgICAgLyogSW5pdGlhbGl6ZSBkZWZhdWx0IGNvcm5lcnMgaWYgbm90IGFscmVhZHkgc2V0ICovXG4gICAgICBpZiAoIXRoaXMuX2Nvcm5lcnMpIHtcbiAgICAgICAgaWYgKG1hcC5vcHRpb25zLnpvb21BbmltYXRpb24gJiYgTC5Ccm93c2VyLmFueTNkKSB7XG4gICAgICAgICAgbWFwLm9uKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiogaWYgdGhlcmUgaXMgYSBmZWF0dXJlR3JvdXAsIG9ubHkgaXRzIGVkaXRhYmxlIG9wdGlvbiBtYXR0ZXJzICovXG4gICAgICBjb25zdCBldmVudFBhcmVudHMgPSB0aGlzLl9ldmVudFBhcmVudHM7XG4gICAgICBpZiAoZXZlbnRQYXJlbnRzKSB7XG4gICAgICAgIHRoaXMuZVAgPSBldmVudFBhcmVudHNbT2JqZWN0LmtleXMoZXZlbnRQYXJlbnRzKVswXV07XG4gICAgICAgIGlmICh0aGlzLmVQLmVkaXRhYmxlKSB7XG4gICAgICAgICAgdGhpcy5lZGl0aW5nLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5lZGl0YWJsZSkge1xuICAgICAgICAgIHRoaXMuZWRpdGluZy5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVQID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIEwuRG9tRXZlbnQub24odGhpcy5nZXRFbGVtZW50KCksICdjbGljaycsIHRoaXMuc2VsZWN0LCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKFxuICAgICAgbWFwLFxuICAgICAge1xuICAgICAgICBzaW5nbGVjbGlja29uOiB0aGlzLl9zaW5nbGVDbGlja0xpc3RlbmVycyxcbiAgICAgICAgc2luZ2xlY2xpY2tvZmY6IHRoaXMuX3Jlc2V0Q2xpY2tMaXN0ZW5lcnMsXG4gICAgICAgIHNpbmdsZWNsaWNrOiB0aGlzLl9zaW5nbGVDbGljayxcbiAgICAgIH0sXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIGN1c3RvbSBldmVudHMgZmlyZWQgZnJvbSBEb3VibGVDbGlja0xhYmVscy5qcy4gVXNlZCB0byBkaWZmZXJlbnRpYXRlXG4gICAgICogc2luZ2xlIC8gZGJsY2xpY2sgdG8gbm90IGRlc2VsZWN0IGltYWdlcyBvbiBtYXAgZGJsY2xpY2suXG4gICAgICovXG4gICAgaWYgKCEobWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGVkKCkgfHwgbWFwLmRvdWJsZUNsaWNrTGFiZWxzLmVuYWJsZWQoKSkpIHtcbiAgICAgIEwuRG9tRXZlbnQub24obWFwLCAnY2xpY2snLCB0aGlzLmRlc2VsZWN0LCB0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLmZpcmUoJ2FkZCcpO1xuXG4gICAgTC5Eb21FdmVudC5vbih0aGlzLmdldEVsZW1lbnQoKSwgJ21vdXNlbW92ZScsIHRoaXMuYWN0aXZhdGVUb29sdGlwLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuZ2V0RWxlbWVudCgpLCAnbW91c2VvdXQnLCB0aGlzLmNsb3NlVG9vbHRpcCwgdGhpcyk7XG4gIH0sXG5cbiAgb25SZW1vdmUobWFwKSB7XG4gICAgTC5Eb21FdmVudC5vZmYodGhpcy5nZXRFbGVtZW50KCksICdjbGljaycsIHRoaXMuc2VsZWN0LCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZihcbiAgICAgIG1hcCxcbiAgICAgIHtcbiAgICAgICAgc2luZ2xlY2xpY2tvbjogdGhpcy5fc2luZ2xlQ2xpY2tMaXN0ZW5lcnMsXG4gICAgICAgIHNpbmdsZWNsaWNrb2ZmOiB0aGlzLl9yZXNldENsaWNrTGlzdGVuZXJzLFxuICAgICAgICBzaW5nbGVjbGljazogdGhpcy5fc2luZ2xlQ2xpY2ssXG4gICAgICB9LFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgTC5Eb21FdmVudC5vZmYobWFwLCAnY2xpY2snLCB0aGlzLmRlc2VsZWN0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmVkaXRpbmcpIHtcbiAgICAgIHRoaXMuZWRpdGluZy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHRoaXMuZmlyZSgncmVtb3ZlJyk7XG5cbiAgICBMLkltYWdlT3ZlcmxheS5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuXG4gICAgTC5Eb21FdmVudC5vbih0aGlzLmdldEVsZW1lbnQoKSwgJ21vdXNlb3V0JywgdGhpcy5jbG9zZVRvb2x0aXAsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgdGhpcy5nZXRFbGVtZW50KCksXG4gICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgIHRoaXMuZGVhY3RpdmF0ZVRvb2x0aXAsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfSxcblxuICBfaW5pdEltYWdlRGltZW5zaW9ucygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3Qgb3JpZ2luYWxJbWFnZVdpZHRoID0gTC5Eb21VdGlsLmdldFN0eWxlKHRoaXMuZ2V0RWxlbWVudCgpLCAnd2lkdGgnKTtcbiAgICBjb25zdCBvcmlnaW5hbEltYWdlSGVpZ2h0ID0gTC5Eb21VdGlsLmdldFN0eWxlKHRoaXMuZ2V0RWxlbWVudCgpLCAnaGVpZ2h0Jyk7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPVxuICAgICAgcGFyc2VJbnQob3JpZ2luYWxJbWFnZVdpZHRoKSAvIHBhcnNlSW50KG9yaWdpbmFsSW1hZ2VIZWlnaHQpO1xuICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcbiAgICBjb25zdCBpbWFnZVdpZHRoID0gcGFyc2VJbnQoYXNwZWN0UmF0aW8gKiBpbWFnZUhlaWdodCk7XG4gICAgY29uc3QgY2VudGVyID0gbWFwLnByb2plY3QobWFwLmdldENlbnRlcigpKTtcbiAgICBjb25zdCBvZmZzZXQgPSBMLnBvaW50KGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KS5kaXZpZGVCeSgyKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvcm5lcnMpIHtcbiAgICAgIHRoaXMuX2Nvcm5lcnMgPSB0aGlzLm9wdGlvbnMuY29ybmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29ybmVycyA9IFtcbiAgICAgICAgbWFwLnVucHJvamVjdChjZW50ZXIuc3VidHJhY3Qob2Zmc2V0KSksXG4gICAgICAgIG1hcC51bnByb2plY3QoY2VudGVyLmFkZChMLnBvaW50KG9mZnNldC54LCAtb2Zmc2V0LnkpKSksXG4gICAgICAgIG1hcC51bnByb2plY3QoY2VudGVyLmFkZChMLnBvaW50KC1vZmZzZXQueCwgb2Zmc2V0LnkpKSksXG4gICAgICAgIG1hcC51bnByb2plY3QoY2VudGVyLmFkZChvZmZzZXQpKSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdGlhbERpbWVuc2lvbnMgPSB7XG4gICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgem9vbTogbWFwLmdldFpvb20oKSxcbiAgICB9O1xuICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gIH0sXG5cbiAgX3NpbmdsZUNsaWNrKGUpIHtcbiAgICBpZiAoZS50eXBlID09PSAnc2luZ2xlY2xpY2snKSB7XG4gICAgICB0aGlzLmRlc2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgX3NpbmdsZUNsaWNrTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBMLkRvbUV2ZW50Lm9mZihtYXAsICdjbGljaycsIHRoaXMuZGVzZWxlY3QsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub24obWFwLCAnc2luZ2xlY2xpY2snLCB0aGlzLmRlc2VsZWN0LCB0aGlzKTtcbiAgfSxcblxuICBfcmVzZXRDbGlja0xpc3RlbmVycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgTC5Eb21FdmVudC5vbihtYXAsICdjbGljaycsIHRoaXMuZGVzZWxlY3QsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKG1hcCwgJ3NpbmdsZWNsaWNrJywgdGhpcy5kZXNlbGVjdCwgdGhpcyk7XG4gIH0sXG5cbiAgaXNTZWxlY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XG4gIH0sXG5cbiAgZGVzZWxlY3QoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuZWRpdGluZztcbiAgICBpZiAoIWVkaXQuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWRpdC5fcmVtb3ZlVG9vbGJhcigpO1xuICAgIGVkaXQuX2hpZGVNYXJrZXJzKCk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuZmlyZSgnZGVzZWxlY3QnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBzZWxlY3QoZSkge1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLmVkaXRpbmc7XG4gICAgY29uc3QgZVAgPSB0aGlzLmVQO1xuXG4gICAgaWYgKCFlZGl0LmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZSkge1xuICAgICAgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBlbnN1cmVzIGRlc2VsZWN0aW9uIG9mIGFsbCBvdGhlciBpbWFnZXMsIGFsbG93aW5nIHVzIHRvIGtlZXAgY29sbGVjdGlvbiBncm91cCBvcHRpb25hbFxuICAgIHRoaXMuX3Byb2dyYW1tYXRpY0dyb3VwaW5nKCk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZCA9IHRydWU7XG4gICAgZWRpdC5fYWRkVG9vbGJhcigpO1xuICAgIGVkaXQuX3Nob3dNYXJrZXJzKCk7XG4gICAgdGhpcy5maXJlKCdzZWxlY3QnKTtcblxuICAgIC8vIHdlIHJ1biB0aGUgc2VsZWN0aW9uIGxvZ2ljIDFzdCBhbnl3YXkgYmVjYXVzZSB0aGUgY29sbGVjdGlvbiBncm91cCdzIF9hZGRUb29sYmFyIG1ldGhvZCBkZXBlbmRzIG9uIGl0XG4gICAgaWYgKGVQICYmIGVQLmFueUNvbGxlY3RlZCgpKSB7XG4gICAgICB0aGlzLmRlc2VsZWN0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3Byb2dyYW1tYXRpY0dyb3VwaW5nKCkge1xuICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2VPdmVybGF5KSB7XG4gICAgICAgIGxheWVyLmRlc2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgc2V0Q29ybmVyKGNvcm5lciwgbGF0bG5nKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuZWRpdGluZztcblxuICAgIHRoaXMuX2Nvcm5lcnNbY29ybmVyXSA9IGxhdGxuZztcblxuICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gICAgdGhpcy5maXJlKCd1cGRhdGUnKTtcblxuICAgIGlmIChlZGl0LnRvb2xiYXIgJiYgZWRpdC50b29sYmFyIGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyKSB7XG4gICAgICBlZGl0Ll91cGRhdGVUb29sYmFyUG9zKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lZGl0ZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX2Nvcm5lckV4Y2VlZHNNYXBMYXRzKHpvb20sIGNvcm5lciwgbWFwKSB7XG4gICAgaWYgKG1hcC5vcHRpb25zLmNycy5TaW1wbGUgPT0gTC5DUlMuU2ltcGxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBleGNlZWRzVG9wO1xuICAgICAgbGV0IGV4Y2VlZHNCb3R0b207XG4gICAgICBpZiAoem9vbSA9PT0gMCkge1xuICAgICAgICBleGNlZWRzVG9wID0gbWFwLnByb2plY3QoY29ybmVyKS55IDwgMjtcbiAgICAgICAgZXhjZWVkc0JvdHRvbSA9IG1hcC5wcm9qZWN0KGNvcm5lcikueSA+PSAyNTU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleGNlZWRzVG9wID0gbWFwLnByb2plY3QoY29ybmVyKS55IC8gem9vbSA8IDI7XG4gICAgICAgIGV4Y2VlZHNCb3R0b20gPSBtYXAucHJvamVjdChjb3JuZXIpLnkgLyBNYXRoLnBvdygyLCB6b29tKSA+PSAyNTU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhjZWVkc1RvcCB8fCBleGNlZWRzQm90dG9tO1xuICAgIH1cbiAgfSxcblxuICBhY3RpdmF0ZVRvb2x0aXAoKSB7XG4gICAgaWYgKCF0aGlzLl9zZWxlY3RlZCkge1xuICAgICAgdGhpcy5iaW5kVG9vbHRpcCh0aGlzLnRvb2x0aXBUZXh0LCB7ZGlyZWN0aW9uOiAndG9wJ30pLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuICB9LFxuXG4gIGNsb3NlVG9vbFRpcCgpIHtcbiAgICB0aGlzLmNsb3NlVG9vbHRpcCgpO1xuICB9LFxuXG4gIGRlYWN0aXZhdGVUb29sdGlwKCkge1xuICAgIHRoaXMudW5iaW5kVG9vbHRpcCgpO1xuICB9LFxuXG4gIGdldFRvb2x0aXBUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2x0aXBUZXh0O1xuICB9LFxuXG4gIHNldENvcm5lcnMobGF0bG5nT2JqKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLmVkaXRpbmc7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgLy8gdGhpcyBpcyB0byBmaXggaHR0cHM6Ly9naXRodWIuY29tL3B1YmxpY2xhYi9MZWFmbGV0LkRpc3RvcnRhYmxlSW1hZ2UvaXNzdWVzLzQwMlxuICAgIGZvciAoY29uc3QgayBpbiBsYXRsbmdPYmopIHtcbiAgICAgIGlmICh0aGlzLl9jb3JuZXJFeGNlZWRzTWFwTGF0cyh6b29tLCBsYXRsbmdPYmpba10sIG1hcCkpIHtcbiAgICAgICAgLy8gY2FsbGluZyByZXNldCAvIHVwZGF0ZSB3LyB0aGUgc2FtZSBjb3JuZXJzIGJjIGl0IHByZXZlbnRzIGEgbWFya2VyIGZsaWNrZXIgZm9yIHJvdGF0ZVxuICAgICAgICB0aGlzLnNldEJvdW5kcyhMLmxhdExuZ0JvdW5kcyh0aGlzLmdldENvcm5lcnMoKSkpO1xuICAgICAgICB0aGlzLmZpcmUoJ3VwZGF0ZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrIGluIGxhdGxuZ09iaikge1xuICAgICAgdGhpcy5fY29ybmVyc1tpXSA9IGxhdGxuZ09ialtrXTtcbiAgICAgIGkgKz0gMTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEJvdW5kcyhMLmxhdExuZ0JvdW5kcyh0aGlzLmdldENvcm5lcnMoKSkpO1xuICAgIHRoaXMuZmlyZSgndXBkYXRlJyk7XG5cbiAgICBpZiAoZWRpdC50b29sYmFyICYmIGVkaXQudG9vbGJhciBpbnN0YW5jZW9mIEwuRGlzdG9ydGFibGVJbWFnZS5Qb3B1cEJhcikge1xuICAgICAgZWRpdC5fdXBkYXRlVG9vbGJhclBvcygpO1xuICAgIH1cblxuICAgIHRoaXMuZWRpdGVkID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIHNldENvcm5lcnNGcm9tUG9pbnRzKHBvaW50c09iaikge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5lZGl0aW5nO1xuICAgIGxldCBpID0gMDtcblxuICAgIGZvciAoY29uc3QgayBpbiBwb2ludHNPYmopIHtcbiAgICAgIGNvbnN0IGNvcm5lciA9IG1hcC5sYXllclBvaW50VG9MYXRMbmcocG9pbnRzT2JqW2tdKTtcblxuICAgICAgaWYgKHRoaXMuX2Nvcm5lckV4Y2VlZHNNYXBMYXRzKHpvb20sIGNvcm5lciwgbWFwKSkge1xuICAgICAgICAvLyBjYWxsaW5nIHJlc2V0IC8gdXBkYXRlIHcvIHRoZSBzYW1lIGNvcm5lcnMgYmMgaXQgcHJldmVudHMgYSBtYXJrZXIgZmxpY2tlciBmb3Igcm90YXRlXG4gICAgICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gICAgICAgIHRoaXMuZmlyZSgndXBkYXRlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGsgaW4gcG9pbnRzT2JqKSB7XG4gICAgICB0aGlzLl9jb3JuZXJzW2ldID0gbWFwLmxheWVyUG9pbnRUb0xhdExuZyhwb2ludHNPYmpba10pO1xuICAgICAgaSArPSAxO1xuICAgIH1cblxuICAgIHRoaXMuc2V0Qm91bmRzKEwubGF0TG5nQm91bmRzKHRoaXMuZ2V0Q29ybmVycygpKSk7XG4gICAgdGhpcy5maXJlKCd1cGRhdGUnKTtcblxuICAgIGlmIChlZGl0LnRvb2xiYXIgJiYgZWRpdC50b29sYmFyIGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLlBvcHVwQmFyKSB7XG4gICAgICBlZGl0Ll91cGRhdGVUb29sYmFyUG9zKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lZGl0ZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgc2NhbGVCeShzY2FsZSkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBjZW50ZXIgPSBtYXAucHJvamVjdCh0aGlzLmdldENlbnRlcigpKTtcbiAgICBsZXQgaTtcbiAgICBsZXQgcDtcbiAgICBjb25zdCBzY2FsZWRDb3JuZXJzID0ge307XG5cbiAgICBpZiAoc2NhbGUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBwID0gbWFwXG4gICAgICAgIC5wcm9qZWN0KHRoaXMuZ2V0Q29ybmVyKGkpKVxuICAgICAgICAuc3VidHJhY3QoY2VudGVyKVxuICAgICAgICAubXVsdGlwbHlCeShzY2FsZSlcbiAgICAgICAgLmFkZChjZW50ZXIpO1xuICAgICAgc2NhbGVkQ29ybmVyc1tpXSA9IG1hcC51bnByb2plY3QocCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRDb3JuZXJzKHNjYWxlZENvcm5lcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZ2V0QW5nbGUodW5pdCA9ICdkZWcnKSB7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5nZXRFbGVtZW50KClcbiAgICAgIC5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXS5zcGxpdCgnbWF0cml4M2QnKVsxXVxuICAgICAgLnNsaWNlKDEsIC0xKVxuICAgICAgLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCByb3cweCA9IG1hdHJpeFswXTtcbiAgICBjb25zdCByb3cweSA9IG1hdHJpeFsxXTtcbiAgICBjb25zdCByb3cxeCA9IG1hdHJpeFs0XTtcbiAgICBjb25zdCByb3cxeSA9IG1hdHJpeFs1XTtcblxuICAgIGNvbnN0IGRldGVybWluYW50ID0gcm93MHggKiByb3cxeSAtIHJvdzB5ICogcm93MXg7XG5cbiAgICBsZXQgYW5nbGUgPSBMLlRyaWdVdGlsLmNhbGNBbmdsZShyb3cweCwgcm93MHksICdyYWQnKTtcblxuICAgIGlmIChkZXRlcm1pbmFudCA8IDApIHtcbiAgICAgIGFuZ2xlICs9IGFuZ2xlIDwgMCA/IE1hdGguUEkgOiAtTWF0aC5QSTtcbiAgICB9XG5cbiAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICBhbmdsZSA9IDIgKiBNYXRoLlBJICsgYW5nbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXQgPT09ICdkZWcnXG4gICAgICA/IE1hdGgucm91bmQoTC5UcmlnVXRpbC5yYWRpYW5zVG9EZWdyZWVzKGFuZ2xlKSlcbiAgICAgIDogTC5VdGlsLmZvcm1hdE51bShhbmdsZSwgMik7XG4gIH0sXG5cbiAgc2V0QW5nbGUoYW5nbGUsIHVuaXQgPSAnZGVnJykge1xuICAgIGNvbnN0IGN1cnJlbnRBbmdsZSA9IHRoaXMuZ2V0QW5nbGUodW5pdCk7XG4gICAgY29uc3QgYW5nbGVUb1JvdGF0ZUJ5ID0gYW5nbGUgLSBjdXJyZW50QW5nbGU7XG4gICAgdGhpcy5yb3RhdGVCeShhbmdsZVRvUm90YXRlQnksIHVuaXQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcm90YXRlQnkoYW5nbGUsIHVuaXQgPSAnZGVnJykge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBjZW50ZXIgPSBtYXAucHJvamVjdCh0aGlzLmdldENlbnRlcigpKTtcbiAgICBjb25zdCBjb3JuZXJzID0ge307XG4gICAgbGV0IGk7XG4gICAgbGV0IHA7XG4gICAgbGV0IHE7XG5cbiAgICBpZiAodW5pdCA9PT0gJ2RlZycpIHtcbiAgICAgIGFuZ2xlID0gTC5UcmlnVXRpbC5kZWdyZWVzVG9SYWRpYW5zKGFuZ2xlKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBwID0gbWFwLnByb2plY3QodGhpcy5nZXRDb3JuZXIoaSkpLnN1YnRyYWN0KGNlbnRlcik7XG4gICAgICBxID0gTC5wb2ludChcbiAgICAgICAgTWF0aC5jb3MoYW5nbGUpICogcC54IC0gTWF0aC5zaW4oYW5nbGUpICogcC55LFxuICAgICAgICBNYXRoLnNpbihhbmdsZSkgKiBwLnggKyBNYXRoLmNvcyhhbmdsZSkgKiBwLnlcbiAgICAgICk7XG4gICAgICBjb3JuZXJzW2ldID0gbWFwLnVucHJvamVjdChxLmFkZChjZW50ZXIpKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldENvcm5lcnMoY29ybmVycyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBkcmFnQnkoZm9ybWVyUG9pbnQsIG5ld1BvaW50KSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGxldCBpO1xuICAgIGxldCBwO1xuICAgIGNvbnN0IHRyYW5zQ29ybmVycyA9IHt9O1xuICAgIGNvbnN0IGRlbHRhID0gbWFwLnByb2plY3QoZm9ybWVyUG9pbnQpLnN1YnRyYWN0KG1hcC5wcm9qZWN0KG5ld1BvaW50KSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBwID0gbWFwLnByb2plY3QodGhpcy5nZXRDb3JuZXIoaSkpLnN1YnRyYWN0KGRlbHRhKTtcbiAgICAgIHRyYW5zQ29ybmVyc1tpXSA9IG1hcC51bnByb2plY3QocCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRDb3JuZXJzKHRyYW5zQ29ybmVycyk7XG4gIH0sXG5cbiAgcmVzdG9yZSgpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5faW5pdGlhbERpbWVuc2lvbnMuY2VudGVyO1xuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2luaXRpYWxEaW1lbnNpb25zLm9mZnNldDtcbiAgICBjb25zdCB6b29tID0gdGhpcy5faW5pdGlhbERpbWVuc2lvbnMuem9vbTtcbiAgICBjb25zdCBjb3JuZXJzID0gW1xuICAgICAgY2VudGVyLnN1YnRyYWN0KG9mZnNldCksXG4gICAgICBjZW50ZXIuYWRkKEwucG9pbnQob2Zmc2V0LngsIC1vZmZzZXQueSkpLFxuICAgICAgY2VudGVyLmFkZChMLnBvaW50KC1vZmZzZXQueCwgb2Zmc2V0LnkpKSxcbiAgICAgIGNlbnRlci5hZGQob2Zmc2V0KSxcbiAgICBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIGlmICghbWFwLnVucHJvamVjdChjb3JuZXJzW2ldLCB6b29tKS5lcXVhbHModGhpcy5nZXRDb3JuZXIoaSkpKSB7XG4gICAgICAgIHRoaXMuc2V0Q29ybmVyKGksIG1hcC51bnByb2plY3QoY29ybmVyc1tpXSwgem9vbSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJlKCdyZXN0b3JlJyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKiBDb3BpZWQgZnJvbSBMZWFmbGV0IHYwLjcgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9ibG9iLzY2MjgyZjE0YmNiMTgwZWM4N2Q5ODE4ZDlmM2M5Zjc1YWZkMDFiMzAvc3JjL2RvbS9Eb21VdGlsLmpzI0wxODktTDE5OSAqL1xuICAvKiBzaW5jZSBMLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKCkgaXMgZGVwcmVjYXRlZCBpbiBMZWFmbGV0IHYxLjAgKi9cbiAgX2dldFRyYW5zbGF0ZVN0cmluZyhwb2ludCkge1xuICAgIC8vIG9uIFdlYktpdCBicm93c2VycyAoQ2hyb21lL1NhZmFyaS9pT1MgU2FmYXJpL0FuZHJvaWQpXG4gICAgLy8gdXNpbmcgdHJhbnNsYXRlM2QgaW5zdGVhZCBvZiB0cmFuc2xhdGVcbiAgICAvLyBtYWtlcyBhbmltYXRpb24gc21vb3RoZXIgYXMgaXQgZW5zdXJlcyBIVyBhY2NlbCBpcyB1c2VkLlxuICAgIC8vIEZpcmVmb3ggMTMgZG9lc24ndCBjYXJlXG4gICAgLy8gKHNhbWUgc3BlZWQgZWl0aGVyIHdheSksIE9wZXJhIDEyIGRvZXNuJ3Qgc3VwcG9ydCB0cmFuc2xhdGUzZFxuXG4gICAgY29uc3QgaXMzZCA9IEwuQnJvd3Nlci53ZWJraXQzZDtcbiAgICBjb25zdCBvcGVuID0gJ3RyYW5zbGF0ZScgKyAoaXMzZCA/ICczZCcgOiAnJykgKyAnKCc7XG4gICAgY29uc3QgY2xvc2UgPSAoaXMzZCA/ICcsMCcgOiAnJykgKyAnKSc7XG5cbiAgICByZXR1cm4gb3BlbiArIHBvaW50LnggKyAncHgsJyArIHBvaW50LnkgKyAncHgnICsgY2xvc2U7XG4gIH0sXG5cbiAgX3Jlc2V0KCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgIGNvbnN0IGxhdExuZ1RvTGF5ZXJQb2ludCA9IEwuYmluZChtYXAubGF0TG5nVG9MYXllclBvaW50LCBtYXApO1xuICAgIGNvbnN0IHRyYW5zZm9ybU1hdHJpeCA9XG4gICAgICB0aGlzLl9jYWxjdWxhdGVQcm9qZWN0aXZlVHJhbnNmb3JtKGxhdExuZ1RvTGF5ZXJQb2ludCk7XG4gICAgY29uc3QgdG9wTGVmdCA9IGxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLmdldENvcm5lcigwKSk7XG4gICAgY29uc3Qgd2FycCA9IEwuRG9tVXRpbC5nZXRNYXRyaXhTdHJpbmcodHJhbnNmb3JtTWF0cml4KTtcbiAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHRoaXMuX2dldFRyYW5zbGF0ZVN0cmluZyh0b3BMZWZ0KTtcblxuICAgIC8qIFNlZSBMLkRvbVV0aWwuc2V0UG9zaXRpb24uIE1haW5seSBmb3IgdGhlIHB1cnBvc2VzIG9mIEwuRHJhZ2dhYmxlLiAqL1xuICAgIGltYWdlLl9sZWFmbGV0X3BvcyA9IHRvcExlZnQ7XG5cbiAgICBpbWFnZS5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSA9IFt0cmFuc2xhdGlvbiwgd2FycF0uam9pbignICcpO1xuXG4gICAgLyogU2V0IG9yaWdpbiB0byB0aGUgdXBwZXItbGVmdCBjb3JuZXIgcmF0aGVyIHRoYW5cbiAgICAgKiB0aGUgY2VudGVyIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuXG4gICAgICovXG4gICAgaW1hZ2Uuc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STSArICctb3JpZ2luJ10gPSAnMCAwIDAnO1xuXG4gICAgdGhpcy5yb3RhdGlvbi5kZWcgPSB0aGlzLmdldEFuZ2xlKCk7XG4gICAgdGhpcy5yb3RhdGlvbi5yYWQgPSB0aGlzLmdldEFuZ2xlKCdyYWQnKTtcbiAgfSxcblxuICAvKlxuICAgKiBDYWxjdWxhdGVzIHRoZSB0cmFuc2Zvcm0gc3RyaW5nIHRoYXQgd2lsbCBiZVxuICAgKiBjb3JyZWN0ICphdCB0aGUgZW5kKiBvZiB6b29taW5nLlxuICAgKiBMZWFmbGV0IHRoZW4gZ2VuZXJhdGVzIGEgQ1NTMyBhbmltYXRpb24gYmV0d2VlbiB0aGUgY3VycmVudCB0cmFuc2Zvcm0gYW5kXG4gICAqIGZ1dHVyZSB0cmFuc2Zvcm0gd2hpY2ggbWFrZXMgdGhlIHRyYW5zaXRpb24gYXBwZWFyIHNtb290aC5cbiAgICovXG4gIF9hbmltYXRlWm9vbShldmVudCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgIGNvbnN0IGxhdExuZ1RvTmV3TGF5ZXJQb2ludCA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcbiAgICAgIHJldHVybiBtYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludChsYXRsbmcsIGV2ZW50Lnpvb20sIGV2ZW50LmNlbnRlcik7XG4gICAgfTtcbiAgICBjb25zdCB0cmFuc2Zvcm1NYXRyaXggPSB0aGlzLl9jYWxjdWxhdGVQcm9qZWN0aXZlVHJhbnNmb3JtKFxuICAgICAgbGF0TG5nVG9OZXdMYXllclBvaW50XG4gICAgKTtcbiAgICBjb25zdCB0b3BMZWZ0ID0gbGF0TG5nVG9OZXdMYXllclBvaW50KHRoaXMuZ2V0Q29ybmVyKDApKTtcbiAgICBjb25zdCB3YXJwID0gTC5Eb21VdGlsLmdldE1hdHJpeFN0cmluZyh0cmFuc2Zvcm1NYXRyaXgpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gdGhpcy5fZ2V0VHJhbnNsYXRlU3RyaW5nKHRvcExlZnQpO1xuXG4gICAgLyogU2VlIEwuRG9tVXRpbC5zZXRQb3NpdGlvbi4gTWFpbmx5IGZvciB0aGUgcHVycG9zZXMgb2YgTC5EcmFnZ2FibGUuICovXG4gICAgaW1hZ2UuX2xlYWZsZXRfcG9zID0gdG9wTGVmdDtcblxuICAgIGltYWdlLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dID0gW3RyYW5zbGF0aW9uLCB3YXJwXS5qb2luKCcgJyk7XG4gIH0sXG5cbiAgZ2V0Q29ybmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5fY29ybmVycztcbiAgfSxcblxuICBnZXRDb3JuZXIoaSkge1xuICAgIHJldHVybiB0aGlzLl9jb3JuZXJzW2ldO1xuICB9LFxuXG4gIC8vIGltYWdlICh2ZXJ0ZXgpIGNlbnRyb2lkIGNhbGN1bGF0aW9uXG4gIGdldENlbnRlcigpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgcmVkdWNlID0gdGhpcy5nZXRDb3JuZXJzKCkucmVkdWNlKGZ1bmN0aW9uIChhZ2csIGNvcm5lcikge1xuICAgICAgcmV0dXJuIGFnZy5hZGQobWFwLnByb2plY3QoY29ybmVyKSk7XG4gICAgfSwgTC5wb2ludCgwLCAwKSk7XG4gICAgcmV0dXJuIG1hcC51bnByb2plY3QocmVkdWNlLmRpdmlkZUJ5KDQpKTtcbiAgfSxcblxuICBfY2FsY3VsYXRlUHJvamVjdGl2ZVRyYW5zZm9ybShsYXRMbmdUb0NhcnRlc2lhbikge1xuICAgIC8qIFNldHRpbmcgcmVhc29uYWJsZSBidXQgbWFkZS11cCBpbWFnZSBkZWZhdWx0c1xuICAgICAqIGFsbG93IHVzIHRvIHBsYWNlIGltYWdlcyBvbiB0aGUgbWFwIGJlZm9yZVxuICAgICAqIHRoZXkndmUgZmluaXNoZWQgZG93bmxvYWRpbmcuICovXG4gICAgY29uc3Qgb2Zmc2V0ID0gbGF0TG5nVG9DYXJ0ZXNpYW4odGhpcy5nZXRDb3JuZXIoMCkpO1xuICAgIGNvbnN0IHcgPSB0aGlzLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aCB8fCA1MDA7XG4gICAgY29uc3QgaCA9IHRoaXMuZ2V0RWxlbWVudCgpLm9mZnNldEhlaWdodCB8fCAzNzU7XG4gICAgY29uc3QgYyA9IFtdO1xuICAgIGxldCBqO1xuICAgIC8qIENvbnZlcnQgY29ybmVycyB0byBjb250YWluZXIgcG9pbnRzIChpLmUuIGNhcnRlc2lhbiBjb29yZGluYXRlcykuICovXG4gICAgZm9yIChqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgYy5wdXNoKGxhdExuZ1RvQ2FydGVzaWFuKHRoaXMuZ2V0Q29ybmVyKGopKS5fc3VidHJhY3Qob2Zmc2V0KSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGlzIG1hdHJpeCBkZXNjcmliZXMgdGhlIGFjdGlvbiBvZlxuICAgICAqIHRoZSBDU1MgdHJhbnNmb3JtIG9uIGVhY2ggY29ybmVyIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBJdCBtYXBzIGZyb20gdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGNlbnRlcmVkXG4gICAgICogYXQgdGhlIHVwcGVyIGxlZnQgY29ybmVyIG9mIHRoZSBpbWFnZVxuICAgICAqIHRvIHRoZSByZWdpb24gYm91bmRlZCBieSB0aGUgbGF0bG5ncyBpbiB0aGlzLl9jb3JuZXJzLlxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqIDAsIDAsIGNbMF0ueCwgY1swXS55XG4gICAgICogc2F5cyB0aGF0IHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2VcbiAgICAgKiBtYXBzIHRvIHRoZSBmaXJzdCBsYXRsbmcgaW4gdGhpcy5fY29ybmVycy5cbiAgICAgKi9cbiAgICByZXR1cm4gTC5NYXRyaXhVdGlsLmdlbmVyYWwyRFByb2plY3Rpb24oXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGNbMF0ueCxcbiAgICAgIGNbMF0ueSxcbiAgICAgIHcsXG4gICAgICAwLFxuICAgICAgY1sxXS54LFxuICAgICAgY1sxXS55LFxuICAgICAgMCxcbiAgICAgIGgsXG4gICAgICBjWzJdLngsXG4gICAgICBjWzJdLnksXG4gICAgICB3LFxuICAgICAgaCxcbiAgICAgIGNbM10ueCxcbiAgICAgIGNbM10ueVxuICAgICk7XG4gIH0sXG59KTtcblxuTC5kaXN0b3J0YWJsZUltYWdlT3ZlcmxheSA9IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IEwuRGlzdG9ydGFibGVJbWFnZU92ZXJsYXkoaWQsIG9wdGlvbnMpO1xufTtcblxuTC5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xuICBpZiAoIUwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLmdldENvbnRhaW5lcigpLCAnbGRpJykpIHtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5nZXRDb250YWluZXIoKSwgJ2xkaScpO1xuICB9XG59KTtcbiIsImNvbnN0IGFyciA9IFtdO1xuTC5EaXN0b3J0YWJsZUNvbGxlY3Rpb24gPSBMLkZlYXR1cmVHcm91cC5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgZXhwb3J0T3B0czoge1xuICAgICAgZXhwb3J0U3RhcnRVcmw6ICcvL2V4cG9ydC5tYXBrbml0dGVyLm9yZy9leHBvcnQnLFxuICAgICAgc3RhdHVzVXJsOiAnLy9leHBvcnQubWFwa25pdHRlci5vcmcnLFxuICAgICAgZXhwb3J0VXJsOiAnaHR0cDovL2V4cG9ydC5tYXBrbml0dGVyLm9yZy8nLFxuICAgIH0sXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZShvcHRpb25zKSB7XG4gICAgTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIEwuRmVhdHVyZUdyb3VwLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgTC5VdGlscy5pbml0VHJhbnNsYXRpb24uY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuZWRpdGFibGUgPSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgTC5GZWF0dXJlR3JvdXAucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcblxuICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgIGlmICh0aGlzLmVkaXRhYmxlKSB7IHRoaXMuZWRpdGluZy5lbmFibGUoKTsgfVxuXG4gICAgLyoqXG4gICAgICogYWx0aG91Z2ggd2UgaGF2ZSBhIERpc3RvcnRhYmxlQ29sbGVjdGlvbi5FZGl0IGNsYXNzIHRoYXQgaGFuZGxlcyBjb2xsZWN0aW9uIGV2ZW50cyB0byBrZWVwIG91ciBjb2RlIG1hbmFnYWJsZSxcbiAgICAgKiBldmVudHMgdGhhdCBuZWVkIHRvIGJlIGFkZGVkIG9uIGluZGl2aWR1YWwgaW1hZ2VzIGFyZSBrZXB0IGhlcmUgdG8gZG8gc28gdGhyb3VnaCBgbGF5ZXJhZGRgLlxuICAgICAqL1xuICAgIHRoaXMub24oJ2xheWVyYWRkJywgdGhpcy5fYWRkRXZlbnRzLCB0aGlzKTtcbiAgICB0aGlzLm9uKCdsYXllcnJlbW92ZScsIHRoaXMuX3JlbW92ZUV2ZW50cywgdGhpcyk7XG4gIH0sXG5cbiAgb25SZW1vdmUoKSB7XG4gICAgaWYgKHRoaXMuZWRpdGluZykgeyB0aGlzLmVkaXRpbmcuZGlzYWJsZSgpOyB9XG4gICAgdGhpcy5vZmYoJ2xheWVyYWRkJywgdGhpcy5fYWRkRXZlbnRzLCB0aGlzKTtcbiAgICB0aGlzLm9mZignbGF5ZXJyZW1vdmUnLCB0aGlzLl9yZW1vdmVFdmVudHMsIHRoaXMpO1xuICB9LFxuXG4gIF9hZGRFdmVudHMoZSkge1xuICAgIGNvbnN0IGxheWVyID0gZS5sYXllcjtcblxuICAgIEwuRG9tRXZlbnQub24obGF5ZXIsIHtcbiAgICAgIGRyYWdzdGFydDogdGhpcy5fZHJhZ1N0YXJ0TXVsdGlwbGUsXG4gICAgICBkcmFnOiB0aGlzLl9kcmFnTXVsdGlwbGUsXG4gICAgfSwgdGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGxheWVyLmdldEVsZW1lbnQoKSwge1xuICAgICAgbW91c2Vkb3duOiB0aGlzLl9kZXNlbGVjdE90aGVycyxcbiAgICAgIC8qIEVuYWJsZSBsb25ncHJlc3MgZm9yIG11bHRpIHNlbGVjdCBmb3IgdG91Y2ggZGV2aWNlcy4gKi9cbiAgICAgIGNvbnRleHRtZW51OiB0aGlzLl9sb25nUHJlc3NNdWx0aVNlbGVjdCxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBfcmVtb3ZlRXZlbnRzKGUpIHtcbiAgICBjb25zdCBsYXllciA9IGUubGF5ZXI7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZihsYXllciwge1xuICAgICAgZHJhZ3N0YXJ0OiB0aGlzLl9kcmFnU3RhcnRNdWx0aXBsZSxcbiAgICAgIGRyYWc6IHRoaXMuX2RyYWdNdWx0aXBsZSxcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGxheWVyLmdldEVsZW1lbnQoKSwge1xuICAgICAgbW91c2Vkb3duOiB0aGlzLl9kZXNlbGVjdE90aGVycyxcbiAgICAgIGNvbnRleHRtZW51OiB0aGlzLl9sb25nUHJlc3NNdWx0aVNlbGVjdCxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBfbG9uZ1ByZXNzTXVsdGlTZWxlY3QoZSkge1xuICAgIGlmICghdGhpcy5lZGl0YWJsZSkgeyByZXR1cm47IH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgY29uc3QgZWRpdCA9IGxheWVyLmVkaXRpbmc7XG4gICAgICBpZiAobGF5ZXIuZ2V0RWxlbWVudCgpID09PSBlLnRhcmdldCAmJiBlZGl0LmVuYWJsZWQoKSkge1xuICAgICAgICBMLkRvbVV0aWwudG9nZ2xlQ2xhc3MobGF5ZXIuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gICAgICAgIGlmICh0aGlzLmFueUNvbGxlY3RlZCgpKSB7XG4gICAgICAgICAgbGF5ZXIuZGVzZWxlY3QoKTtcbiAgICAgICAgICB0aGlzLmVkaXRpbmcuX2FkZFRvb2xiYXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVkaXRpbmcuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGlzQ29sbGVjdGVkKG92ZXJsYXkpIHtcbiAgICByZXR1cm4gTC5Eb21VdGlsLmhhc0NsYXNzKG92ZXJsYXkuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gIH0sXG5cbiAgYW55Q29sbGVjdGVkKCkge1xuICAgIGNvbnN0IGxheWVyQXJyID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJBcnIuc29tZSh0aGlzLmlzQ29sbGVjdGVkLmJpbmQodGhpcykpO1xuICB9LFxuXG4gIF90b2dnbGVDb2xsZWN0ZWQoZSwgbGF5ZXIpIHtcbiAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgLyogY29uZGl0aW9uYWwgcHJldmVudHMgZGlzYWJsZWQgaW1hZ2VzIGZyb20gZmxpY2tlcmluZyBtdWx0aS1zZWxlY3QgbW9kZSAqL1xuICAgICAgaWYgKGxheWVyLmVkaXRpbmcuZW5hYmxlZCgpKSB7XG4gICAgICAgIEwuRG9tVXRpbC50b2dnbGVDbGFzcyhlLnRhcmdldCwgJ2NvbGxlY3RlZCcpO1xuICAgICAgICAvLyByZS1vcmRlciBsYXllcnMgYnkgX2xlYWZsZXRfaWQgdG8gbWF0Y2ggdGhlaXIgZGlzcGxheSBvcmRlciBpbiBVSVxuICAgICAgICAvLyBhZGQgbmV3IGxheWVyIHRvIHJpZ2h0IHBvc2l0aW9uIGFuZCBhdm9pZCByZXBpdGl0aW9uXG4gICAgICAgIGNvbnN0IG5ld0FyciA9IGFyci5ldmVyeSgoZWFjaCkgPT4ge1xuICAgICAgICAgIHJldHVybiBlYWNoLl9sZWFmbGV0X2lkICE9PSBsYXllci5fbGVhZmxldF9pZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuZXdBcnIpIHtcbiAgICAgICAgICBhcnIucHVzaChsYXllcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyLnNwbGljZShhcnIuaW5kZXhPZihsYXllciksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYW55Q29sbGVjdGVkKCkpIHsgbGF5ZXIuZGVzZWxlY3QoKTsgfVxuICAgIGVsc2UgeyB0aGlzLmVkaXRpbmcuX3JlbW92ZVRvb2xiYXIoKTsgfVxuICB9LFxuXG4gIF9kZXNlbGVjdE90aGVycyhlKSB7XG4gICAgaWYgKCF0aGlzLmVkaXRhYmxlKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIuZ2V0RWxlbWVudCgpICE9PSBlLnRhcmdldCkge1xuICAgICAgICBsYXllci5kZXNlbGVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQ29sbGVjdGVkKGUsIGxheWVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChlKSB7IEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGUpOyB9XG4gIH0sXG5cbiAgX2RyYWdTdGFydE11bHRpcGxlKGUpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gZS50YXJnZXQ7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGxldCBpO1xuXG4gICAgaWYgKCF0aGlzLmlzQ29sbGVjdGVkKG92ZXJsYXkpKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBsYXllci5fZHJhZ1N0YXJ0UG9pbnRzID0ge307XG4gICAgICBsYXllci5kZXNlbGVjdCgpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBjb25zdCBjID0gbGF5ZXIuZ2V0Q29ybmVyKGkpO1xuICAgICAgICBsYXllci5fZHJhZ1N0YXJ0UG9pbnRzW2ldID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChjKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfZHJhZ011bHRpcGxlKGUpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gZS50YXJnZXQ7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgaWYgKCF0aGlzLmlzQ29sbGVjdGVkKG92ZXJsYXkpKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgdG9wTGVmdCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMCkpO1xuICAgIGNvbnN0IGRlbHRhID0gb3ZlcmxheS5fZHJhZ1N0YXJ0UG9pbnRzWzBdLnN1YnRyYWN0KHRvcExlZnQpO1xuXG4gICAgdGhpcy5fdXBkYXRlQ29sbGVjdGlvbkZyb21Qb2ludHMoZGVsdGEsIG92ZXJsYXkpO1xuICB9LFxuXG4gIF90b1JlbW92ZSgpIHtcbiAgICBjb25zdCBsYXllckFyciA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG5cbiAgICByZXR1cm4gbGF5ZXJBcnIuZmlsdGVyKChsYXllcikgPT4ge1xuICAgICAgY29uc3QgbW9kZSA9IGxheWVyLmVkaXRpbmcuX21vZGU7XG4gICAgICByZXR1cm4gKHRoaXMuaXNDb2xsZWN0ZWQobGF5ZXIpICYmIG1vZGUgIT09ICdsb2NrJyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX3RvTW92ZShvdmVybGF5KSB7XG4gICAgY29uc3QgbGF5ZXJBcnIgPSB0aGlzLmdldExheWVycygpO1xuXG4gICAgcmV0dXJuIGxheWVyQXJyLmZpbHRlcigobGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IG1vZGUgPSBsYXllci5lZGl0aW5nLl9tb2RlO1xuICAgICAgcmV0dXJuIGxheWVyICE9PSBvdmVybGF5ICYmIHRoaXMuaXNDb2xsZWN0ZWQobGF5ZXIpICYmIG1vZGUgIT09ICdsb2NrJztcbiAgICB9KTtcbiAgfSxcblxuICBfdXBkYXRlQ29sbGVjdGlvbkZyb21Qb2ludHMoZGVsdGEsIG92ZXJsYXkpIHtcbiAgICBjb25zdCBsYXllcnNUb01vdmUgPSB0aGlzLl90b01vdmUob3ZlcmxheSk7XG4gICAgY29uc3QgcCA9IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDEsIC1kZWx0YS54LCAxLCAtZGVsdGEueSk7XG4gICAgbGV0IGk7XG5cbiAgICBsYXllcnNUb01vdmUuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IG1vdmVkUG9pbnRzID0ge307XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIG1vdmVkUG9pbnRzW2ldID0gcC50cmFuc2Zvcm0obGF5ZXIuX2RyYWdTdGFydFBvaW50c1tpXSk7XG4gICAgICB9XG4gICAgICBsYXllci5zZXRDb3JuZXJzRnJvbVBvaW50cyhtb3ZlZFBvaW50cyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX2dldEF2Z0NtUGVyUGl4ZWwoaW1ncykge1xuICAgIGNvbnN0IHJlZHVjZSA9IGltZ3MucmVkdWNlKGZ1bmN0aW9uKHN1bSwgaW1nKSB7XG4gICAgICByZXR1cm4gc3VtICsgaW1nLmNtX3Blcl9waXhlbDtcbiAgICB9LCAwKTtcbiAgICByZXR1cm4gcmVkdWNlIC8gaW1ncy5sZW5ndGg7XG4gIH0sXG5cbiAgLy8gY29ubmVjdHMgdG8gSlNPTiBmaWxlIGFuZCBmZXRjaGVzIEpTT04gZGF0YSB0aGVyZWluIGZyb20gcmVtb3RlIHNvdXJjZVxuICBhc3luYyBmZXRjaFJlbW90ZUpzb24odXJsKSB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBjb25zdCBpbWdDb2xsZWN0aW9uUHJvcHMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCh1cmwpO1xuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ2F2Z19jbV9wZXJfcGl4ZWwnKSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2xsZWN0aW9uLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXNwb25zZS5kYXRhLmNvbGxlY3Rpb24uZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaW1nQ29sbGVjdGlvblByb3BzW2luZGV4XSA9IGRhdGE7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdmdfY21fcGVyX3BpeGVsOiByZXNwb25zZS5kYXRhLmF2Z19jbV9wZXJfcGl4ZWwsXG4gICAgICAgICAgICBpbWdDb2xsZWN0aW9uUHJvcHMsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpbWdDb2xsZWN0aW9uUHJvcHNbaW5kZXhdID0gcmVzcG9uc2UuZGF0YS5jb2xsZWN0aW9uO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXZnX2NtX3Blcl9waXhlbDogcmVzcG9uc2UuZGF0YS5hdmdfY21fcGVyX3BpeGVsLFxuICAgICAgICAgIGltZ0NvbGxlY3Rpb25Qcm9wcyxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGltZ0NvbGxlY3Rpb25Qcm9wc1tpbmRleF0gPSBkYXRhO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW1nQ29sbGVjdGlvblByb3BzLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaW1nQ29sbGVjdGlvblByb3BzW2luZGV4XSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbWdDb2xsZWN0aW9uUHJvcHMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gZXhwZWN0cyB1cmwgaW4gdGhpcyBmb3JtYXQ6IGh0dHBzOi8vYXJjaGl2ZS5vcmcvZG93bmxvYWQvbWtsLTEvbWtsLTEuanNvblxuICBhc3luYyByZWNyZWF0ZUltYWdlc0Zyb21Kc29uVXJsKHVybCkge1xuICAgIGxldCBpbWFnZUNvbGxlY3Rpb25PYmogPSB7fTtcblxuICAgIGlmICh1cmwpIHtcbiAgICAgIGltYWdlQ29sbGVjdGlvbk9iaiA9IGF3YWl0IHRoaXMuZmV0Y2hSZW1vdGVKc29uKHVybCk7XG4gICAgICByZXR1cm4gaW1hZ2VDb2xsZWN0aW9uT2JqO1xuICAgIH07XG5cbiAgICByZXR1cm4gaW1hZ2VDb2xsZWN0aW9uT2JqO1xuICB9LFxuXG4gIGdlbmVyYXRlRXhwb3J0SnNvbihhbGxJbWFnZXMgPSBmYWxzZSkge1xuICAgIGNvbnN0IGpzb24gPSB7fTtcbiAgICBqc29uLmltYWdlcyA9IFtdO1xuXG4gICAgdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgIGlmIChhbGxJbWFnZXMgfHwgdGhpcy5pc0NvbGxlY3RlZChsYXllcikpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSBsYXllci5faW1hZ2Uuc3JjLnNwbGl0KCcvJyk7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gc2VjdGlvbnNbc2VjdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IHpjID0gbGF5ZXIuZ2V0Q29ybmVycygpO1xuXG4gICAgICAgIGNvbnN0IGNvcm5lcnMgPSBbXG4gICAgICAgICAge2xhdDogemNbMF0ubGF0LCBsb246IHpjWzBdLmxuZyB8fCB6Y1swXS5sb259LFxuICAgICAgICAgIHtsYXQ6IHpjWzFdLmxhdCwgbG9uOiB6Y1sxXS5sbmcgfHwgemNbMV0ubG9ufSxcbiAgICAgICAgICB7bGF0OiB6Y1szXS5sYXQsIGxvbjogemNbM10ubG5nIHx8IHpjWzNdLmxvbn0sXG4gICAgICAgICAge2xhdDogemNbMl0ubGF0LCBsb246IHpjWzJdLmxuZyB8fCB6Y1syXS5sb259LFxuICAgICAgICBdO1xuXG4gICAgICAgIGpzb24uaW1hZ2VzLnB1c2goe1xuICAgICAgICAgIGlkOiBsYXllci5fbGVhZmxldF9pZCxcbiAgICAgICAgICBzcmM6IGxheWVyLl9pbWFnZS5zcmMsXG4gICAgICAgICAgd2lkdGg6IGxheWVyLl9pbWFnZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGxheWVyLl9pbWFnZS5oZWlnaHQsXG4gICAgICAgICAgdG9vbHRpcFRleHQ6IGxheWVyLmdldFRvb2x0aXBUZXh0KCksXG4gICAgICAgICAgaW1hZ2VfZmlsZV9uYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgICBub2RlczogY29ybmVycyxcbiAgICAgICAgICBjbV9wZXJfcGl4ZWw6IEwuSW1hZ2VVdGlsLmdldENtUGVyUGl4ZWwobGF5ZXIpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGpzb24uaW1hZ2VzID0ganNvbi5pbWFnZXMucmV2ZXJzZSgpO1xuICAgIGpzb24uYXZnX2NtX3Blcl9waXhlbCA9IHRoaXMuX2dldEF2Z0NtUGVyUGl4ZWwoanNvbi5pbWFnZXMpO1xuICAgIHJldHVybiBqc29uO1xuICB9LFxufSk7XG5cbkwuZGlzdG9ydGFibGVDb2xsZWN0aW9uID0gZnVuY3Rpb24oaWQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlQ29sbGVjdGlvbihpZCwgb3B0aW9ucyk7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbkwuRVhJRiA9IGZ1bmN0aW9uIGdldEVYSUZkYXRhKGltZykge1xuICBpZiAoT2JqZWN0LmtleXMoRVhJRi5nZXRBbGxUYWdzKGltZykpLmxlbmd0aCAhPT0gMCkge1xuICAgIGNvbnNvbGUubG9nKEVYSUYuZ2V0QWxsVGFncyhpbWcpKTtcbiAgICBjb25zdCBHUFMgPSBFWElGLmdldEFsbFRhZ3MoaW1nKTtcbiAgICBsZXQgYWx0aXR1ZGU7XG5cbiAgICAvKiBJZiB0aGUgbGF0L2xuZyBpcyBhdmFpbGFibGUuICovXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIEdQUy5HUFNMYXRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBHUFMuR1BTTG9uZ2l0dWRlICE9PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgLy8gc2FkbHksIGVuY29kZWQgaW4gW2RlZ3JlZXMsbWludXRlcyxzZWNvbmRzXVxuICAgICAgLy8gcHJpbWl0aXZlIHZhbHVlID0gR1BTLkdQU0xhdGl0dWRlW3hdLm51bWVyYXRvclxuICAgICAgbGV0IGxhdCA9XG4gICAgICAgIEdQUy5HUFNMYXRpdHVkZVswXSArXG4gICAgICAgIEdQUy5HUFNMYXRpdHVkZVsxXSAvIDYwICtcbiAgICAgICAgR1BTLkdQU0xhdGl0dWRlWzJdIC8gMzYwMDtcbiAgICAgIGxldCBsbmcgPVxuICAgICAgICBHUFMuR1BTTG9uZ2l0dWRlWzBdICtcbiAgICAgICAgR1BTLkdQU0xvbmdpdHVkZVsxXSAvIDYwICtcbiAgICAgICAgR1BTLkdQU0xvbmdpdHVkZVsyXSAvIDM2MDA7XG5cbiAgICAgIGlmIChHUFMuR1BTTGF0aXR1ZGVSZWYgIT09ICdOJykge1xuICAgICAgICBsYXQgPSBsYXQgKiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChHUFMuR1BTTG9uZ2l0dWRlUmVmID09PSAnVycpIHtcbiAgICAgICAgbG5nID0gbG5nICogLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXR0ZW1wdCB0byB1c2UgR1BTIGNvbXBhc3MgaGVhZGluZzsgd2lsbCByZXF1aXJlXG4gICAgLy8gc29tZSB0cmlnIHRvIGNhbGMgY29ybmVyIHBvaW50cywgd2hpY2ggeW91IGNhbiBmaW5kIGJlbG93OlxuXG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICAvLyBcIlRcIiByZWZlcnMgdG8gXCJUcnVlIG5vcnRoXCIsIHNvIC05MC5cbiAgICBpZiAoR1BTLkdQU0ltZ0RpcmVjdGlvblJlZiA9PT0gJ1QnKSB7XG4gICAgICBhbmdsZSA9XG4gICAgICAgIChNYXRoLlBJIC8gMTgwKSAqXG4gICAgICAgIChHUFMuR1BTSW1nRGlyZWN0aW9uLm51bWVyYXRvciAvIEdQUy5HUFNJbWdEaXJlY3Rpb24uZGVub21pbmF0b3IgLSA5MCk7XG4gICAgICAvLyBcIk1cIiByZWZlcnMgdG8gXCJNYWduZXRpYyBub3J0aFwiXG4gICAgfSBlbHNlIGlmIChHUFMuR1BTSW1nRGlyZWN0aW9uUmVmID09PSAnTScpIHtcbiAgICAgIGFuZ2xlID1cbiAgICAgICAgKE1hdGguUEkgLyAxODApICpcbiAgICAgICAgKEdQUy5HUFNJbWdEaXJlY3Rpb24ubnVtZXJhdG9yIC8gR1BTLkdQU0ltZ0RpcmVjdGlvbi5kZW5vbWluYXRvciAtIDkwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ05vIGNvbXBhc3MgZGF0YSBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdPcmllbnRhdGlvbjonLCBHUFMuT3JpZW50YXRpb24pO1xuXG4gICAgLyogSWYgdGhlcmUgaXMgb3JpZW50YXRpb24gZGF0YSAtLSBpLmUuIGxhbmRzY2FwZS9wb3J0cmFpdCBldGMgKi9cbiAgICBpZiAoR1BTLk9yaWVudGF0aW9uID09PSA2KSB7XG4gICAgICAvLyBDQ1dcbiAgICAgIGFuZ2xlICs9IChNYXRoLlBJIC8gMTgwKSAqIC05MDtcbiAgICB9IGVsc2UgaWYgKEdQUy5PcmllbnRhdGlvbiA9PT0gOCkge1xuICAgICAgLy8gQ1dcbiAgICAgIGFuZ2xlICs9IChNYXRoLlBJIC8gMTgwKSAqIDkwO1xuICAgIH0gZWxzZSBpZiAoR1BTLk9yaWVudGF0aW9uID09PSAzKSB7XG4gICAgICAvLyAxODBcbiAgICAgIGFuZ2xlICs9IChNYXRoLlBJIC8gMTgwKSAqIDE4MDtcbiAgICB9XG5cbiAgICAvKiBJZiB0aGVyZSBpcyBhbHRpdHVkZSBkYXRhICovXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIEdQUy5HUFNBbHRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBHUFMuR1BTQWx0aXR1ZGVSZWYgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICAvLyBBdHRlbXB0IHRvIHVzZSBHUFMgYWx0aXR1ZGU6XG4gICAgICAvLyAobWF5IGV2ZW50dWFsbHkgbmVlZCB0byBmaW5kIEVYSUYgZmllbGQgb2YgdmlldyBmb3IgY29ycmVjdGlvbilcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIEdQUy5HUFNBbHRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIEdQUy5HUFNBbHRpdHVkZVJlZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICkge1xuICAgICAgICBhbHRpdHVkZSA9XG4gICAgICAgICAgR1BTLkdQU0FsdGl0dWRlLm51bWVyYXRvciAvIEdQUy5HUFNBbHRpdHVkZS5kZW5vbWluYXRvciArXG4gICAgICAgICAgR1BTLkdQU0FsdGl0dWRlUmVmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWx0aXR1ZGUgPSAwOyAvLyBub25lXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFsZXJ0KCdFWElGIGluaXRpYWxpemVkLiBQcmVzcyBhZ2FpbiB0byB2aWV3IGRhdGEgaW4gY29uc29sZS4nKTtcbiAgfVxufTtcbiIsIkwuRWRpdEhhbmRsZSA9IEwuTWFya2VyLmV4dGVuZCh7XG4gIGluaXRpYWxpemUob3ZlcmxheSwgY29ybmVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGF0bG5nID0gb3ZlcmxheS5nZXRDb3JuZXIoY29ybmVyKTtcblxuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX2hhbmRsZWQgPSBvdmVybGF5O1xuICAgIHRoaXMuX2Nvcm5lciA9IGNvcm5lcjtcblxuICAgIGNvbnN0IG1hcmtlck9wdGlvbnMgPSB7XG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICB6SW5kZXhPZmZzZXQ6IDEwLFxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KCdkcmFnZ2FibGUnKSkge1xuICAgICAgbWFya2VyT3B0aW9ucy5kcmFnZ2FibGUgPSBvcHRpb25zLmRyYWdnYWJsZTtcbiAgICB9XG5cbiAgICBMLk1hcmtlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGxhdGxuZywgbWFya2VyT3B0aW9ucyk7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgTC5NYXJrZXIucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcbiAgICB0aGlzLl9iaW5kTGlzdGVuZXJzKCk7XG4gICAgdGhpcy51cGRhdGVIYW5kbGUoKTtcbiAgfSxcblxuICBvblJlbW92ZShtYXApIHtcbiAgICB0aGlzLl91bmJpbmRMaXN0ZW5lcnMoKTtcbiAgICBMLk1hcmtlci5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuICB9LFxuXG4gIF9vbkhhbmRsZURyYWdTdGFydCgpIHtcbiAgICB0aGlzLl9oYW5kbGVkLmZpcmUoJ2VkaXRzdGFydCcpO1xuICB9LFxuXG4gIF9vbkhhbmRsZURyYWdFbmQoKSB7XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgfSxcblxuICBfZmlyZUVkaXQoKSB7XG4gICAgdGhpcy5faGFuZGxlZC5lZGl0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2hhbmRsZWQuZmlyZSgnZWRpdCcpO1xuICB9LFxuXG4gIF9iaW5kTGlzdGVuZXJzKCkge1xuICAgIHRoaXMub24oe1xuICAgICAgY29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcbiAgICAgIGRyYWdzdGFydDogdGhpcy5fb25IYW5kbGVEcmFnU3RhcnQsXG4gICAgICBkcmFnOiB0aGlzLl9vbkhhbmRsZURyYWcsXG4gICAgICBkcmFnZW5kOiB0aGlzLl9vbkhhbmRsZURyYWdFbmQsXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9oYW5kbGVkLl9tYXAub24oJ3pvb21lbmQnLCB0aGlzLnVwZGF0ZUhhbmRsZSwgdGhpcyk7XG4gICAgdGhpcy5faGFuZGxlZC5vbigndXBkYXRlJywgdGhpcy51cGRhdGVIYW5kbGUsIHRoaXMpO1xuICB9LFxuXG4gIF91bmJpbmRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5vZmYoe1xuICAgICAgY29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcbiAgICAgIGRyYWdzdGFydDogdGhpcy5fb25IYW5kbGVEcmFnU3RhcnQsXG4gICAgICBkcmFnOiB0aGlzLl9vbkhhbmRsZURyYWcsXG4gICAgICBkcmFnZW5kOiB0aGlzLl9vbkhhbmRsZURyYWdFbmQsXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9oYW5kbGVkLl9tYXAub2ZmKCd6b29tZW5kJywgdGhpcy51cGRhdGVIYW5kbGUsIHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZWQub2ZmKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZUhhbmRsZSwgdGhpcyk7XG4gIH0sXG5cbiAgLyogVGFrZXMgdHdvIGxhdGxuZ3MgYW5kIGNhbGN1bGF0ZXMgdGhlIHNjYWxpbmcgZGlmZmVyZW5jZS4gKi9cbiAgX2NhbGN1bGF0ZVNjYWxpbmdGYWN0b3IobGF0bG5nQSwgbGF0bG5nQikge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcblxuICAgIGNvbnN0IGNlbnRlclBvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENlbnRlcigpKTtcbiAgICBjb25zdCBmb3JtZXJQb2ludCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQSk7XG4gICAgY29uc3QgbmV3UG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0IpO1xuICAgIGNvbnN0IGZvcm1lclJhZGl1c1NxdWFyZWQgPSB0aGlzLl9kMihjZW50ZXJQb2ludCwgZm9ybWVyUG9pbnQpO1xuICAgIGNvbnN0IG5ld1JhZGl1c1NxdWFyZWQgPSB0aGlzLl9kMihjZW50ZXJQb2ludCwgbmV3UG9pbnQpO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydChuZXdSYWRpdXNTcXVhcmVkIC8gZm9ybWVyUmFkaXVzU3F1YXJlZCk7XG4gIH0sXG5cbiAgLyogRGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzIGluIGNhcnRlc2lhbiBzcGFjZSwgc3F1YXJlZCAoZGlzdGFuY2UgZm9ybXVsYSkuICovXG4gIF9kMihhLCBiKSB7XG4gICAgY29uc3QgZHggPSBhLnggLSBiLng7XG4gICAgY29uc3QgZHkgPSBhLnkgLSBiLnk7XG5cbiAgICByZXR1cm4gTWF0aC5wb3coZHgsIDIpICsgTWF0aC5wb3coZHksIDIpO1xuICB9LFxuXG4gIC8qIFRha2VzIHR3byBsYXRsbmdzIGFuZCBjYWxjdWxhdGVzIHRoZSBhbmdsZSBiZXR3ZWVuIHRoZW0uICovXG4gIGNhbGN1bGF0ZUFuZ2xlRGVsdGEobGF0bG5nQSwgbGF0bG5nQikge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcblxuXG4gICAgY29uc3QgY2VudGVyUG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KG92ZXJsYXkuZ2V0Q2VudGVyKCkpO1xuICAgIGNvbnN0IGZvcm1lclBvaW50ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmdBKTtcbiAgICBjb25zdCBuZXdQb2ludCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQik7XG5cbiAgICBjb25zdCBpbml0aWFsQW5nbGUgPSAoXG4gICAgICBNYXRoLmF0YW4yKGNlbnRlclBvaW50LnkgLSBmb3JtZXJQb2ludC55LCBjZW50ZXJQb2ludC54IC0gZm9ybWVyUG9pbnQueClcbiAgICApO1xuICAgIGNvbnN0IG5ld0FuZ2xlID0gKFxuICAgICAgTWF0aC5hdGFuMihjZW50ZXJQb2ludC55IC0gbmV3UG9pbnQueSwgY2VudGVyUG9pbnQueCAtIG5ld1BvaW50LngpXG4gICAgKTtcblxuICAgIHJldHVybiBuZXdBbmdsZSAtIGluaXRpYWxBbmdsZTtcbiAgfSxcbn0pO1xuIiwiTC5EaXN0b3J0SGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAnZGlzdG9ydCcsXG4gICAgaWNvbjogTC5pY29uKHtcbiAgICAgIGljb25Vcmw6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQWtsRVFWUjRBZXdhZnRJQUFBQ2hTVVJCVk8zQklVNERVUmdHd05rdkwyQjZBa1FUTEJxUDRRQ29TbTdERFhvQkxCWkhEYmZnSUNBSVpqRVYzWVRuOXVWSGRNWlp0Y25DZkkxM2JJenhnMGVtZzZObTZRVmJZejNqeWxFc1hScnZ3b21tYjQ5WDY3akZrejgwZlI5TWIxWXhUenFpV0JTTFlsRXNpa1d4S0JiRm9sZ1VpMkpSTElwRnNTZ1d4YUpZMDNmSEhPdTQwZEgwN2JBeldDeDlHZS9UaVdicEhnZHNqUEdOQjJmL3lTKzd4UkN5aWlaUEpRQUFBQUJKUlU1RXJrSmdnZz09JyxcbiAgICAgIGljb25TaXplOiBbMzIsIDMyXSxcbiAgICAgIGljb25BbmNob3I6IFsxNiwgMTZdLFxuICAgIH0pLFxuICB9LFxuXG4gIF9vbkhhbmRsZURyYWcoKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX2hhbmRsZWQ7XG5cbiAgICBvdmVybGF5LnNldENvcm5lcih0aGlzLl9jb3JuZXIsIHRoaXMuZ2V0TGF0TG5nKCkpO1xuICB9LFxuXG4gIHVwZGF0ZUhhbmRsZSgpIHtcbiAgICB0aGlzLnNldExhdExuZyh0aGlzLl9oYW5kbGVkLmdldENvcm5lcih0aGlzLl9jb3JuZXIpKTtcbiAgfSxcbn0pO1xuXG5MLmRpc3RvcnRIYW5kbGUgPSBmdW5jdGlvbihvdmVybGF5LCBpZHgsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRIYW5kbGUob3ZlcmxheSwgaWR4LCBvcHRpb25zKTtcbn07XG4iLCJMLkRyYWdIYW5kbGUgPSBMLkVkaXRIYW5kbGUuZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIFRZUEU6ICdkcmFnJyxcbiAgICBpY29uOiBMLmljb24oe1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgIGljb25Vcmw6ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXNWSlJFRlVlTnJNVnp0TFhFRVV2bk5WRkFWQkFoWTJhUktiVFpFSEpOcFlhYnVOalNnWWcvR3hkc21QU0prVUFhL1pkVkVYOG1nV1lWdXRiSHhBSGtWc2tqUUJ1VVVnQklTVmhDUWszd25md01sazFydXNOMXdIUHViT3pKbHp2amx6NXN4YzAxTWEvaFVFd1Fud0RJanFjN3V2Z3Y5WVlPODZxZ0l3Q1hRYmROVGxROGtjQ0JIZ0JjaDhUY2xvRjZvSkdyNnBoazZFUUFrZmR6M3p2Z0RyOU1yN0ZnMWZwdEVab004anNtcm9rcGZzaUlGTzRJSWp1RTJ2MUVEbVI0TFJkbFI1R2g1MWhqOEQzNEFCdG04WVR0cW5hMFRna2xJdzVDZ1FndUt4SW9qRWptRlJPZy9NS1FPMjdOa0ZBQis0d0FQb3VHVUppSXZXS0h3YkF4WDJYeVdSS1drcWhUK3BiSm50SlpKdVV6SVNXMCs1aFcrb2J4clZCc2Z2b0gvZHFDQ0p1VTk3R0JoMlZ0ZUxTaVl2QXJtRXJUOEVWb0FLOUJ3N2VuYnBWWW12QVFseW93WWZvcnJINWpYTDJyUEhJL1RLT05EQjd1OUFsYXZkYVRCUHZQbWF6VWVRdXk4ZjdVb21VZ1RFd0lKUEVRM3NRR0UvNmxsMmw5SC9LY0V6QmNmV24ySWNsbHVNM0RwZGRKeFNIdWpsRmtzY2JVUHZtQjBMSFZuTHJJZDdubGFaVmtFYzZRR1hRSTFNQXdaY1dtVlJIZU5hUXdKTU1pVTJjd3k0czdwL1JKMmNrcHZJUXMrY0lzKzVHeml0bG9MS0hVVjNNUFJFdVhiVE9LTzkxZFgzODdnR1RPTnhJZ0VXbStFNjFGRnJwY3lxWExIc0V3aURqRXNqQWtzcXc1WFBvTDlNSFZybjZRUjRxK1hackRhUjRSb1d6cTJ5bWFmdVJBL01xMXN0U3NITFZrY2JkZjlWak9jeDhaSDMrU0ZXY0NXbFZQeVd1VUJPd1VXZEMxd1A1TlZqWWlYRldMTzY5UFo2Q1JUVVk2S1NJb0VLZGY2VDNJenpnSHhuc3lIY3ROQkVrbW42T29iOEV4VURnL2FoR3liZDE3N2NEanpINXhId2dEaVN2b1M3SS9MWnl2eEpaajB3b2Q3dGtYNUcwWFZDN3JFeUxoZkxKakJHYktvTExFZlpXT2J5S2VaNm9ZODJnK3lmNVpuL21KeUhYN1BNZjA0ei9UMy9MY0FBdTRFNmlpeUpxZjBBQUFBQVNVVk9SSzVDWUlJPScsXG4gICAgICBpY29uU2l6ZTogWzMyLCAzMl0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDE2XSxcbiAgICB9KSxcbiAgfSxcblxuICBfb25IYW5kbGVEcmFnKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IGZvcm1lckxhdExuZyA9IG92ZXJsYXkuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcik7XG4gICAgY29uc3QgbmV3TGF0TG5nID0gdGhpcy5nZXRMYXRMbmcoKTtcblxuICAgIG92ZXJsYXkuZHJhZ0J5KGZvcm1lckxhdExuZywgbmV3TGF0TG5nKTtcbiAgfSxcblxuICB1cGRhdGVIYW5kbGUoKSB7XG4gICAgdGhpcy5zZXRMYXRMbmcodGhpcy5faGFuZGxlZC5nZXRDb3JuZXIodGhpcy5fY29ybmVyKSk7XG4gIH0sXG59KTtcblxuTC5kcmFnSGFuZGxlID0gZnVuY3Rpb24ob3ZlcmxheSwgaWR4LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5EcmFnSGFuZGxlKG92ZXJsYXksIGlkeCwgb3B0aW9ucyk7XG59O1xuIiwiTC5GcmVlUm90YXRlSGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAnZnJlZVJvdGF0ZScsXG4gICAgaWNvbjogTC5pY29uKHtcbiAgICAgIGljb25Vcmw6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQWtsRVFWUjRBZXdhZnRJQUFBSGlTVVJCVk1YQmEzSGJTaGdBMFBNcC8xc0NDbzhvQ0VwZ1RhQ1hnSVhBSmlEenlDSm9BVVRtNFVWUUFuczFZOCtzblduVHZKeWVFMTZoa2pEZ0RyZm9OVE1LY3BDOVVQaUxTbzhKeWV0a2pFSHhqUENNeW9TMTk5a0ZvejhJdjFIcE1hTjNxV0RDSG9lZ09La2tSd25KcFJtcm9IZ2lQRkVaOElCZWt6RUd4UXRVRWhLU1MvZkI3RXc0VStseGNHa1ZaRzlRV1dQU0ZBeEJjZEs1OUtBcHVBK3lOd3AydUVkeDFHTjI1c1pKWlVMU2ZBdG03N1NsYk5qanU2TXZHNzV1K1dIUldWUjZyRFZqTVBzZ3dZeVZabDNwTFRwSGt5WUhPeDhzeU1pYXlhSnpsRFRaOVl5YVpORlZraVlIMlpVRUJjVkpKWFZJbXV6NkpzM1FvZmU1OXBxN0RvT1RJTHUrZythMjg4bUNvdWs3LzFpSDRxVFMrMlFkRHBwYlYxWkptcm5EWG5QbmM1VU9zMlowZlVtVHV5QnIra3J2U2lvSnlVbVFPMGRaTTdtZXBNa1duYU5Sa3lySkI2dXNrVFNqeFkzRmxsOGJ2bUp3bERiODNGSjhnTXFBQjgwdXlCWTNUcmI4MlBBZnZqajZ2dUhubHVJZEtnTWVOWE93Y3RLNU5LQm9IaXRyYjFSSmVIUnA1VXg0b2pMZzBhV01IR1F2VU9reElXa0tWc0hzVFBpTlNvOEhEQzVsWklzZ082bjB1TVVkUnZRdUZReEI4VVI0Um1YQzJ2dnNndEVmaEwrbzlKaVF2RTdHR0JUUENLOVFTVWpvTVdnS0R0aGpEcklYK2gvazBJN2d0aDZONWdBQUFBQkpSVTVFcmtKZ2dnPT0nLFxuICAgICAgaWNvblNpemU6IFszMiwgMzJdLFxuICAgICAgaWNvbkFuY2hvcjogWzE2LCAxNl0sXG4gICAgfSksXG4gIH0sXG5cbiAgX29uSGFuZGxlRHJhZygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5faGFuZGxlZDtcbiAgICBjb25zdCBtYXAgPSBvdmVybGF5Ll9tYXA7XG4gICAgY29uc3QgZm9ybWVyTGF0TG5nID0gb3ZlcmxheS5nZXRDb3JuZXIodGhpcy5fY29ybmVyKTtcbiAgICBjb25zdCBuZXdMYXRMbmcgPSB0aGlzLmdldExhdExuZygpO1xuICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5jYWxjdWxhdGVBbmdsZURlbHRhKGZvcm1lckxhdExuZywgbmV3TGF0TG5nKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhbGN1bGF0ZVNjYWxpbmdGYWN0b3IoZm9ybWVyTGF0TG5nLCBuZXdMYXRMbmcpO1xuXG4gICAgaWYgKGFuZ2xlICE9PSAwKSB7IG92ZXJsYXkucm90YXRlQnkoYW5nbGUsICdyYWQnKTsgfVxuXG4gICAgbGV0IGVkZ2VNaW5XaWR0aCA9IG92ZXJsYXkuZWRnZU1pbldpZHRoO1xuICAgIGlmICghZWRnZU1pbldpZHRoKSB7IGVkZ2VNaW5XaWR0aCA9IDUwOyB9IC8qIGp1c3QgaW4gY2FzZSAqL1xuXG4gICAgY29uc3QgY29ybmVyMSA9IG1hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KG92ZXJsYXkuZ2V0Q29ybmVyKDApKTtcbiAgICBjb25zdCBjb3JuZXIyID0gbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMSkpO1xuICAgIGNvbnN0IHcgPSBNYXRoLmFicyhjb3JuZXIxLnggLSBjb3JuZXIyLngpO1xuICAgIGNvbnN0IGggPSBNYXRoLmFicyhjb3JuZXIxLnkgLSBjb3JuZXIyLnkpO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpO1xuICAgIGlmIChkaXN0YW5jZSA+IGVkZ2VNaW5XaWR0aCB8fCBzY2FsZSA+IDEpIHtcbiAgICAgIG92ZXJsYXkuc2NhbGVCeShzY2FsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG92ZXJsYXkuc2NhbGVCeSgxKTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlSGFuZGxlKCkge1xuICAgIHRoaXMuc2V0TGF0TG5nKHRoaXMuX2hhbmRsZWQuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcikpO1xuICB9LFxufSk7XG5cbkwuZnJlZVJvdGF0ZUhhbmRsZSA9IChvdmVybGF5LCBpZHgsIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBMLkZyZWVSb3RhdGVIYW5kbGUob3ZlcmxheSwgaWR4LCBvcHRpb25zKTtcbn07XG4iLCJMLkxvY2tIYW5kbGUgPSBMLkVkaXRIYW5kbGUuZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIFRZUEU6ICdsb2NrJyxcbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgaWNvbjogTC5pY29uKHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICBpY29uVXJsOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUFrbEVRVlI0QWV3YWZ0SUFBQUQ4U1VSQlZPM0JQVTdDWUFBQTBBZGZqSWNRbFJDUUJHN0MzZ2sydUlQRzJSQzNEazE2R3owRlRPMVdacy9nd0dDTVAvMit4c1NsNytuMWVyMUl6OUx0UlFqYVBlTWVPK1RpbkxEQ0pWNzhZcWpkQTA0WW9kS3V4aFVhUEdvUnhNbXh3UlFaU3Q4N1lvNEtFeEdDZUFVeUxMRkI0Yk1hY3h5d0VDbElVMktES1hiSW5UVVlvOEpDZ29GdUdveFFPNXVpd1kxRUE5MVZtRHFyY0tlRG9YOFdkTk5nakFwdm1HR0xYS0lnWFkweEdreFFZSXRyckZGSUVLUTVZbzRLRXg5eXJERkRobEtrSUY2Tk9RNVkrS3BBaGlYV0tFUUk0cHh3aXdvTFB5dXh3UXc3NUZvRTdmWllvY0ZFdXdJN2pIQ0JWMzlnTDkyVFhxL1hpL0FPY21jelptYUlNU2NBQUFBQVNVVk9SSzVDWUlJPScsXG4gICAgICBpY29uU2l6ZTogWzMyLCAzMl0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDE2XSxcbiAgICB9KSxcbiAgfSxcblxuICBvblJlbW92ZShtYXApIHtcbiAgICB0aGlzLnVuYmluZFRvb2x0aXAoKTtcbiAgICBMLkVkaXRIYW5kbGUucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcbiAgfSxcblxuICBfYmluZExpc3RlbmVycygpIHtcbiAgICBjb25zdCBpY29uID0gdGhpcy5nZXRFbGVtZW50KCk7XG5cbiAgICBMLkVkaXRIYW5kbGUucHJvdG90eXBlLl9iaW5kTGlzdGVuZXJzLmNhbGwodGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGljb24sIHtcbiAgICAgIG1vdXNlZG93bjogdGhpcy5fdG9vbHRpcE9uLFxuICAgICAgbW91c2V1cDogdGhpcy5fdG9vbHRpcE9mZixcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsICdwb2ludGVybGVhdmUnLCB0aGlzLl90b29sdGlwT2ZmLCB0aGlzKTtcbiAgfSxcblxuICBfdW5iaW5kTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGljb24gPSB0aGlzLmdldEVsZW1lbnQoKTtcblxuICAgIEwuRWRpdEhhbmRsZS5wcm90b3R5cGUuX2JpbmRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGljb24sIHtcbiAgICAgIG1vdXNlZG93bjogdGhpcy5fdG9vbHRpcE9uLFxuICAgICAgbW91c2V1cDogdGhpcy5fdG9vbHRpcE9mZixcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCAncG9pbnRlcmxlYXZlJywgdGhpcy5fdG9vbHRpcE9mZiwgdGhpcyk7XG4gIH0sXG5cbiAgLyogY2Fubm90IGJlIGRyYWdnZWQgKi9cbiAgX29uSGFuZGxlRHJhZygpIHtcbiAgfSxcblxuICB1cGRhdGVIYW5kbGUoKSB7XG4gICAgdGhpcy5zZXRMYXRMbmcodGhpcy5faGFuZGxlZC5nZXRDb3JuZXIodGhpcy5fY29ybmVyKSk7XG4gIH0sXG5cbiAgX3Rvb2x0aXBPbihlKSB7XG4gICAgY29uc3QgZVAgPSB0aGlzLl9oYW5kbGVkLnBhcmVudEdyb3VwO1xuICAgIGNvbnN0IGVkaXQgPSBlUCA/IGVQLmVkaXRpbmcgOiB0aGlzLl9oYW5kbGVkLmVkaXRpbmc7XG5cbiAgICBpZiAoZS5zaGlmdEtleSkgeyByZXR1cm47IH1cbiAgICBpZiAoIXRoaXMuX2hhbmRsZWQuaXNTZWxlY3RlZCgpICYmIChlUCAmJiAhZVAuaXNDb2xsZWN0ZWQodGhpcy5faGFuZGxlZCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlc0FyciA9IGVkaXQuX2xvY2tIYW5kbGVzO1xuXG4gICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KEwuYmluZChmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl90aW1lb3V0KSB7IGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTsgfVxuXG4gICAgICBpZiAoIXRoaXMuZ2V0VG9vbHRpcCgpKSB7XG4gICAgICAgIHRoaXMuYmluZFRvb2x0aXAoJ0xvY2tlZCEnLCB7cGVybWFuZW50OiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVzQXJyLmVhY2hMYXllcihmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICBpZiAodGhpcyAhPT0gaGFuZGxlKSB7IGhhbmRsZS5jbG9zZVRvb2x0aXAoKTsgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcGVuVG9vbHRpcCgpO1xuICAgIH0sIHRoaXMpLCA1MDApO1xuICB9LFxuXG4gIF90b29sdGlwT2ZmKGUpIHtcbiAgICBjb25zdCBlUCA9IHRoaXMuX2hhbmRsZWQucGFyZW50R3JvdXA7XG4gICAgY29uc3QgZWRpdCA9IGVQID8gZVAuZWRpdGluZyA6IHRoaXMuX2hhbmRsZWQuZWRpdGluZztcblxuICAgIGlmIChlLnNoaWZ0S2V5KSB7IHJldHVybjsgfVxuICAgIGlmICghdGhpcy5faGFuZGxlZC5pc1NlbGVjdGVkKCkgJiYgKGVQICYmICFlUC5pc0NvbGxlY3RlZCh0aGlzLl9oYW5kbGVkKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVzQXJyID0gZWRpdC5fbG9ja0hhbmRsZXM7XG5cbiAgICBpZiAoZS5jdXJyZW50VGFyZ2V0ID09PSBkb2N1bWVudCkge1xuICAgICAgaGFuZGxlc0Fyci5lYWNoTGF5ZXIoZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGhhbmRsZS5jbG9zZVRvb2x0aXAoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl90aW1lcikgeyBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpOyB9XG5cbiAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChMLmJpbmQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsb3NlVG9vbHRpcCgpO1xuICAgIH0sIHRoaXMpLCA0MDApO1xuICB9LFxufSk7XG5cbkwubG9ja0hhbmRsZSA9IGZ1bmN0aW9uKG92ZXJsYXksIGlkeCwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IEwuTG9ja0hhbmRsZShvdmVybGF5LCBpZHgsIG9wdGlvbnMpO1xufTtcbiIsIkwuUm90YXRlSGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAncm90YXRlJyxcbiAgICBpY29uOiBMLmljb24oe1xuICAgICAgaWNvblVybDpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFBa2xFUVZSNEFld2FmdElBQUFIaVNVUkJWTVhCYTNIYlNoZ0EwUE1wLzFzQ0NvOG9DRXBnVGFDWGdJWEFKaUR6eUNKb0FVVG00VVZRQW5zMVk4K3NuV25Udkp5ZUUxNmhrakRnRHJmb05UTUtjcEM5VVBpTFNvOEp5ZXRrakVIeGpQQ015b1MxOTlrRm96OEl2MUhwTWFOM3FXRENIb2VnT0tra1J3bkpwUm1yb0hnaVBGRVo4SUJla3pFR3hRdFVFaEtTUy9mQjdFdzRVK2x4Y0drVlpHOVFXV1BTRkF4QmNkSzU5S0FwdUEreU53cDJ1RWR4MUdOMjVzWkpaVUxTZkF0bTc3U2xiTmpqdTZNdkc3NXUrV0hSV1ZSNnJEVmpNUHNnd1l5VlpsM3BMVHBIa3lZSE94OHN5TWlheWFKemxEVFo5WXlhWk5GVmtpWUgyWlVFQmNWSkpYVkltdXo2SnMzUW9mZTU5cHE3RG9PVElMdStnK2EyODhtQ291azcvMWlINHFUUysyUWREcHBiVjFaSm1ybkRYblBuYzVVT3MyWjBmVW1UdXlCcitrcnZTaW9KeVVtUU8wZFpNN21lcE1rV25hTlJreXJKQjZ1c2tUU2p4WTNGbGw4YnZtSndsRGI4M0ZKOGdNcUFCODB1eUJZM1RyYjgyUEFmdmpqNnZ1SG5sdUlkS2dNZU5YT3djdEs1TktCb0hpdHJiMVJKZUhScDVVeDRvakxnMGFXTUhHUXZVT2t4SVdrS1ZzSHNUUGlOU284SERDNWxaSXNnTzZuMHVNVWRSdlF1RlF4QjhVUjRSbVhDMnZ2c2d0RWZoTCtvOUppUXZFN0dHQlRQQ0s5UVNVam9NV2dLRHRoakRySVgraC9rMEk3Z3RoNk41Z0FBQUFCSlJVNUVya0pnZ2c9PScsXG4gICAgICBpY29uU2l6ZTogWzMyLCAzMl0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDE2XSxcbiAgICB9KSxcbiAgfSxcblxuICBfb25IYW5kbGVEcmFnKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9oYW5kbGVkO1xuICAgIGNvbnN0IGZvcm1lckxhdExuZyA9IG92ZXJsYXkuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcik7XG4gICAgY29uc3QgbmV3TGF0TG5nID0gdGhpcy5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBhbmdsZSA9IHRoaXMuY2FsY3VsYXRlQW5nbGVEZWx0YShmb3JtZXJMYXRMbmcsIG5ld0xhdExuZyk7XG5cbiAgICAvKlxuICAgICAqIHJ1bm5pbmcgcm90YXRpb24gbG9naWMgZXZlbiBmb3IgYW4gYW5nbGUgZGVsdGEgb2YgMFxuICAgICAqIHByZXZlbnRzIGEgc21hbGwsIG9jY2FzaW9uYWwgbWFya2VyIGZsaWNrZXJcbiAgICAgKi9cbiAgICBvdmVybGF5LnJvdGF0ZUJ5KGFuZ2xlLCAncmFkJyk7XG4gIH0sXG5cbiAgdXBkYXRlSGFuZGxlKCkge1xuICAgIHRoaXMuc2V0TGF0TG5nKHRoaXMuX2hhbmRsZWQuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcikpO1xuICB9LFxufSk7XG5cbkwucm90YXRlSGFuZGxlID0gZnVuY3Rpb24ob3ZlcmxheSwgaWR4LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5Sb3RhdGVIYW5kbGUob3ZlcmxheSwgaWR4LCBvcHRpb25zKTtcbn07XG4iLCJMLlNjYWxlSGFuZGxlID0gTC5FZGl0SGFuZGxlLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBUWVBFOiAnc2NhbGUnLFxuICAgIGljb246IEwuaWNvbih7XG4gICAgICBpY29uVXJsOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUIyWlhKemFXOXVQU0l4TGpFaUlIZHBaSFJvUFNJME5Ua2lJR2hsYVdkb2REMGlORFkwSWlCbGJtRmliR1V0WW1GamEyZHliM1Z1WkQwaWJtVjNJREFnTUNBMU1USWdOVEV5SWlCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElpQnpkSGxzWlQwaUlqNDhjbVZqZENCcFpEMGlZbUZqYTJkeWIzVnVaSEpsWTNRaUlIZHBaSFJvUFNJeE1EQWxJaUJvWldsbmFIUTlJakV3TUNVaUlIZzlJakFpSUhrOUlqQWlJR1pwYkd3OUltNXZibVVpSUhOMGNtOXJaVDBpYm05dVpTSWdZMnhoYzNNOUlpSWdjM1I1YkdVOUlpSXZQanhuSUdOc1lYTnpQU0pqZFhKeVpXNTBUR0Y1WlhJaUlITjBlV3hsUFNJaVBqeDBhWFJzWlQ1TVlYbGxjaUF4UEM5MGFYUnNaVDQ4Y0dGMGFDQmtQU0pOTkRVNUxqQTBPVEUxT1RVek1EUTNNVE0wTERnMkxqa3lOakl6TkRVeE1qVTFNREF5SUZZd0lHZ3RPRFV1TnpFME5UY3pNelUyTXpFeU1Ea2dkakkzTGpBME16Y3hOelF3TXprd05EUTFNaUJJT0RVdU56RTBOVGN6TXpVMk16RXlNRE1nVmpBZ1NEQWdkamcyTGpreU5qSXpORFV4TWpVMU1EQXlJR2d5TlM0M01UUXpOekl3TURZNE9UTTJNallnZGpJNE9TNDNOVFF4TVRVd05ERTRNek0wSUVnd0lIWTROaTQ1TWpZeU16UTFNVEkxTlRBd01pQm9PRFV1TnpFME5UY3pNelUyTXpFeU1Ea2dkaTB5Tnk0d05ETTNNVGMwTURNNU1EUTBOVElnYURJNE5TNDNNVFV5TkRRMU1qRXdOREF6SUhZeU55NHdORE0zTVRjME1ETTVNRFEwTlRJZ2FEZzFMamN4TkRVM016TTFOak14TWpBNUlIWXRPRFl1T1RJMk1qTTBOVEV5TlRVd01ESWdhQzB5TXk0NE1EazJNRE0zTVRBd09EWTJPU0JXT0RZdU9USTJNak0wTlRFeU5UVXdNRElnU0RRMU9TNHdORGt4TlRrMU16QTBOekV6TkNCNlRUTTROQzQzTmpNeE9UVTVOVFV3TURBNUxERXlMalUxTmpBeE1UWTFNVGd4TWpjNE1TQm9OakV1T1RBME9UWTVOalEyTWpJMU16azJJSFkyTWk0M09EQXdOVGd5TlRrd05qTTVNU0JvTFRZeExqa3dORGsyT1RZME5qSXlOVE01TmlCV01USXVOVFUyTURFeE5qVXhPREV5TnpneElIcE5NVEl1TXpnd09Ua3pPVEk1TWpRMU1EVXNNVEl1TlRVMk1ERXhOalV4T0RFeU56Z3hJR2cyTVM0NU1EUTVOamsyTkRZeU1qVXpPVFlnZGpZeUxqYzRNREExT0RJMU9UQTJNemt4SUVneE1pNHpPREE1T1RNNU1qa3lORFV3TlNCV01USXVOVFUyTURFeE5qVXhPREV5TnpneElIcE5OelF1TWpnMU9UWXpOVGMxTkRjd05UTXNORFV4TGpBMU1EVTNNalF4TlRFeU1EWTJJRWd4TWk0ek9EQTVPVE01TWpreU5EVXdOU0IyTFRZeUxqYzRNREExT0RJMU9UQTJNemt4SUdnMk1TNDVNRFE1TmprMk5EWXlNalV6T1RZZ1ZqUTFNUzR3TlRBMU56STBNVFV4TWpBMk5pQjZUVFEwTlM0M01UVTNPREUwTlRJNE1qSTNOQ3cwTlRFdU1EVXdOVGN5TkRFMU1USXdOallnYUMwMk1pNDROVGN6TlRNM09UUTJNamc0TmpRZ2RpMDJNaTQzT0RBd05UZ3lOVGt3TmpNNU1TQm9Oakl1T0RVM016VXpOemswTmpJNE9EWTBJRlkwTlRFdU1EVXdOVGN5TkRFMU1USXdOallnZWswME1EY3VOakl3TkRFMU5URTJOamcwTWpZc016YzJMalk0TURNME9UVTFORE00TXpRMElHZ3RNell1TVRrd05UazNOak01TXpNeE56Y2dkak15TGpnek9EYzVPVGN3TkRjME1URXlJRWc0TlM0M01UUTFOek16TlRZek1USXdNeUIyTFRNeUxqZ3pPRGM1T1Rjd05EYzBNVEV5SUVnME9TNDFNak01TnpVM01UWTVPREF6TWlCV09EWXVPVEkyTWpNME5URXlOVFV3TURJZ2FETTJMakU1TURVNU56WXpPVE16TVRjM0lGWTFNQzR5TWpRd05EWTJNRGN5TlRFeE1qVWdhREk0Tnk0Mk1qQXdNVEk0TVRjNE5EY3lJSFl6Tmk0M01ESXhPRGM1TURVeU9UZzVJR2d6TkM0eU9EVTRNamt6TkRJMU1qUTRNelVnVmpNM05pNDJPREF6TkRrMU5UUXpPRE0wTkNCNklpQnBaRDBpYzNablh6SWlJR05zWVhOelBTSWlJR1pwYkd3OUlpTXhZVEZoWldJaUlHWnBiR3d0YjNCaFkybDBlVDBpTVNJdlBqd3ZaejQ4TDNOMlp6ND0nLFxuICAgICAgaWNvblNpemU6IFszMiwgMzJdLFxuICAgICAgaWNvbkFuY2hvcjogWzE2LCAxNl0sXG4gICAgfSksXG4gIH0sXG5cbiAgX29uSGFuZGxlRHJhZygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5faGFuZGxlZDtcbiAgICBjb25zdCBtYXAgPSBvdmVybGF5Ll9tYXA7XG4gICAgbGV0IGVkZ2VNaW5XaWR0aCA9IG92ZXJsYXkuZWRnZU1pbldpZHRoO1xuICAgIGNvbnN0IGZvcm1lckxhdExuZyA9IG92ZXJsYXkuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcik7XG4gICAgY29uc3QgbmV3TGF0TG5nID0gdGhpcy5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhbGN1bGF0ZVNjYWxpbmdGYWN0b3IoZm9ybWVyTGF0TG5nLCBuZXdMYXRMbmcpO1xuXG4gICAgLypcbiAgICAgKiBjaGVja3Mgd2hldGhlciB0aGUgXCJlZGdlTWluV2lkdGhcIiBwcm9wZXJ0eSBpcyBzZXQgYW5kIHRyYWNrcyB0aGUgbWluaW11bSBlZGdlIGxlbmd0aDtcbiAgICAgKiB0aGlzIGVuYWJsZXMgcHJldmVudGluZyBzY2FsaW5nIHRvIHplcm8sIGJ1dCB3ZSBtaWdodCBhbHNvIGFkZCBhbiBvdmVyYWxsIHNjYWxlIGxpbWl0XG4gICAgICovXG5cbiAgICBpZiAoIWVkZ2VNaW5XaWR0aCkgeyBlZGdlTWluV2lkdGggPSA1MDsgfSAvKiBqdXN0IGluIGNhc2UgKi9cbiAgICBjb25zdCBjb3JuZXIxID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigwKSk7XG4gICAgY29uc3QgY29ybmVyMiA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMSkpO1xuICAgIGNvbnN0IHcgPSBNYXRoLmFicyhjb3JuZXIxLnggLSBjb3JuZXIyLngpO1xuICAgIGNvbnN0IGggPSBNYXRoLmFicyhjb3JuZXIxLnkgLSBjb3JuZXIyLnkpO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpO1xuXG4gICAgaWYgKGRpc3RhbmNlID4gZWRnZU1pbldpZHRoIHx8IHNjYWxlID4gMSkge1xuICAgICAgb3ZlcmxheS5zY2FsZUJ5KHNjYWxlKTtcbiAgICAgIC8qXG4gICAgICAgKiBydW5uaW5nIHNjYWxlIGxvZ2ljIGV2ZW4gZm9yIGEgc2NhbGUgcmF0aW8gb2YgMVxuICAgICAgICogcHJldmVudHMgYSBzbWFsbCwgb2NjYXNpb25hbCBtYXJrZXIgZmxpY2tlclxuICAgICAgICovXG4gICAgfSBlbHNlIHtcbiAgICAgIG92ZXJsYXkuc2NhbGVCeSgxKTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlSGFuZGxlKCkge1xuICAgIHRoaXMuc2V0TGF0TG5nKHRoaXMuX2hhbmRsZWQuZ2V0Q29ybmVyKHRoaXMuX2Nvcm5lcikpO1xuICB9LFxufSk7XG5cbkwuc2NhbGVIYW5kbGUgPSBmdW5jdGlvbihvdmVybGF5LCBpZHgsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLlNjYWxlSGFuZGxlKG92ZXJsYXksIGlkeCwgb3B0aW9ucyk7XG59O1xuIiwiLyogdGhpcyBpcyB0aGUgYmFzZWNsYXNzIG90aGVyIEljb25TZXRzIGluaGVyaXQgZnJvbSxcbiogd2UgZG9uJ3QgdXNlIGl0IGRpcmVjdGx5ICovXG5MLkljb25TZXQgPSBMLkNsYXNzLmV4dGVuZCh7XG5cbiAgX3N2ZzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPicsXG5cbiAgX3N5bWJvbHM6ICcnLFxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmFkZFN5bWJvbHModGhpcy5fc3ltYm9scyk7XG4gICAgcmV0dXJuIHRoaXMuX3N2ZztcbiAgfSxcblxuICBhZGRTeW1ib2xzKHN5bWJvbHMpIHtcbiAgICB0aGlzLl9zdmcgKz0gc3ltYm9scztcbiAgfSxcbn0pO1xuIiwiTC5LZXltYXBwZXJJY29uU2V0ID0gTC5JY29uU2V0LmV4dGVuZCh7XG5cbiAgX3N5bWJvbHM6XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAyNSAyNVwiIGlkPVwia2V5Ym9hcmRfb3BlblwiPjxwYXRoIGQ9XCJNMTIgMjNsNC00SDhsNCA0em03LTE1aC0yVjZoMnYyem0wIDNoLTJWOWgydjJ6bS0zLTNoLTJWNmgydjJ6bTAgM2gtMlY5aDJ2MnptMCA0SDh2LTJoOHYyek03IDhINVY2aDJ2MnptMCAzSDVWOWgydjJ6bTEtMmgydjJIOFY5em0wLTNoMnYySDhWNnptMyAzaDJ2MmgtMlY5em0wLTNoMnYyaC0yVjZ6bTktM0g0Yy0xLjEgMC0yIC45LTIgMnYxMGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6XCIvPjwvc3ltYm9sPicsXG5cbn0pO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuTC5Ub29sYmFySWNvblNldCA9IEwuSWNvblNldC5leHRlbmQoe1xuICBfc3ltYm9sczpcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJib3JkZXJfY2xlYXJcIj48cGF0aCBkPVwiTTUuMjUgMy43NWgxLjV2LTEuNWgtMS41djEuNXptMCA2aDEuNXYtMS41aC0xLjV2MS41em0wIDZoMS41di0xLjVoLTEuNXYxLjV6bTMtM2gxLjV2LTEuNWgtMS41djEuNXptMCAzaDEuNXYtMS41aC0xLjV2MS41em0tNiAwaDEuNXYtMS41aC0xLjV2MS41em0wLTNoMS41di0xLjVoLTEuNXYxLjV6bTAtM2gxLjV2LTEuNWgtMS41djEuNXptMC0zaDEuNXYtMS41aC0xLjV2MS41em0wLTNoMS41di0xLjVoLTEuNXYxLjV6bTYgNmgxLjV2LTEuNWgtMS41djEuNXptNiAzaDEuNXYtMS41aC0xLjV2MS41em0wLTNoMS41di0xLjVoLTEuNXYxLjV6bTAgNmgxLjV2LTEuNWgtMS41djEuNXptMC05aDEuNXYtMS41aC0xLjV2MS41em0tNiAwaDEuNXYtMS41aC0xLjV2MS41em02LTQuNXYxLjVoMS41di0xLjVoLTEuNXptLTYgMS41aDEuNXYtMS41aC0xLjV2MS41em0zIDEyaDEuNXYtMS41aC0xLjV2MS41em0wLTZoMS41di0xLjVoLTEuNXYxLjV6bTAtNmgxLjV2LTEuNWgtMS41djEuNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiYm9yZGVyX291dGVyXCI+PHBhdGggZD1cIk05Ljc1IDUuMjVoLTEuNXYxLjVoMS41di0xLjV6bTAgM2gtMS41djEuNWgxLjV2LTEuNXptMyAwaC0xLjV2MS41aDEuNXYtMS41em0tMTAuNS02djEzLjVoMTMuNVYyLjI1SDIuMjV6bTEyIDEySDMuNzVWMy43NWgxMC41djEwLjV6bS00LjUtM2gtMS41djEuNWgxLjV2LTEuNXptLTMtM2gtMS41djEuNWgxLjV2LTEuNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiY2FuY2VsXCI+PHBhdGggZD1cIk0xMy4yNzkgNS43NzlsLTEuMDU4LTEuMDU4TDkgNy45NDIgNS43NzkgNC43MjEgNC43MjEgNS43NzkgNy45NDIgOWwtMy4yMjEgMy4yMjEgMS4wNTggMS4wNThMOSAxMC4wNTdsMy4yMjEgMy4yMjIgMS4wNTgtMS4wNThMMTAuMDU3IDl6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cImNyb3Bfcm90YXRlXCI+PHBhdGggZD1cIk01LjYwMyAxNi4xMTdDMy4xNSAxNC45NDcgMS4zOTQgMTIuNTcgMS4xMjUgOS43NUgwQy4zODMgMTQuMzcgNC4yNDUgMTggOC45NjMgMThjLjE3MiAwIC4zMy0uMDE1LjQ5NS0uMDIzTDYuNiAxNS4xMTNsLS45OTcgMS4wMDV6TTkuMDM3IDBjLS4xNzIgMC0uMzMuMDE1LS40OTUuMDNMMTEuNCAyLjg4OGwuOTk4LS45OThhNy44NzYgNy44NzYgMCAwIDEgNC40NzcgNi4zNkgxOEMxNy42MTcgMy42MyAxMy43NTUgMCA5LjAzNyAwek0xMiAxMC41aDEuNVY2QTEuNSAxLjUgMCAwIDAgMTIgNC41SDcuNVY2SDEydjQuNXpNNiAxMlYzSDQuNXYxLjVIM1Y2aDEuNXY2QTEuNSAxLjUgMCAwIDAgNiAxMy41aDZWMTVoMS41di0xLjVIMTVWMTJINnpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiZGVsZXRlX2ZvcmV2ZXJcIj48cGF0aCBkPVwiTTQuNSAxNC4yNWMwIC44MjUuNjc1IDEuNSAxLjUgMS41aDZjLjgyNSAwIDEuNS0uNjc1IDEuNS0xLjV2LTloLTl2OXptMS44NDUtNS4zNGwxLjA1OC0xLjA1OEw5IDkuNDQzbDEuNTktMS41OSAxLjA1OCAxLjA1OC0xLjU5IDEuNTkgMS41OSAxLjU5LTEuMDU4IDEuMDU4TDkgMTEuNTU4bC0xLjU5IDEuNTktMS4wNTgtMS4wNTggMS41OS0xLjU5LTEuNTk3LTEuNTl6TTExLjYyNSAzbC0uNzUtLjc1aC0zLjc1bC0uNzUuNzVIMy43NXYxLjVoMTAuNVYzaC0yLjYyNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiZGlzdG9ydFwiPjxwYXRoIGQ9XCJNMS43IDEuNEg2djEuNGg1LjhWMS40aDQuM3Y0LjNoLTEuNHY1LjhoMS40djQuNGgtNC4zdi0xLjVINnYxLjVIMS43di00LjRoMS40VjUuN0gxLjdWMS40em0xMC4xIDQuM1Y0LjNINnYxLjRINC42djUuOEg2VjEzaDUuOHYtMS41aDEuNFY1LjdoLTEuNHpNMy4xIDIuOHYxLjVoMS41VjIuOEgzLjF6bTEwLjEgMHYxLjVoMS41VjIuOGgtMS41ek0zLjEgMTN2MS40aDEuNVYxM0gzLjF6bTEwLjEgMHYxLjRoMS41VjEzaC0xLjV6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cImV4cGxvcmVcIj48cGF0aCBkPVwiTTkgMS41QzQuODYgMS41IDEuNSA0Ljg2IDEuNSA5YzAgNC4xNCAzLjM2IDcuNSA3LjUgNy41IDQuMTQgMCA3LjUtMy4zNiA3LjUtNy41IDAtNC4xNC0zLjM2LTcuNS03LjUtNy41ek05IDE1Yy0zLjMwOCAwLTYtMi42OTMtNi02IDAtMy4zMDggMi42OTItNiA2LTYgMy4zMDcgMCA2IDIuNjkyIDYgNiAwIDMuMzA3LTIuNjkzIDYtNiA2em0tNC4xMjUtMS44NzVsNS42MzMtMi42MTcgMi42MTctNS42MzMtNS42MzMgMi42MTctMi42MTcgNS42MzN6TTkgOC4xNzVjLjQ1NyAwIC44MjUuMzY3LjgyNS44MjVBLjgyMy44MjMgMCAwIDEgOSA5LjgyNS44MjMuODIzIDAgMCAxIDguMTc1IDljMC0uNDU3LjM2Ny0uODI1LjgyNS0uODI1elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJmbGlwX3RvX2JhY2tcIj48cGF0aCBkPVwiTTYuNzUgNS4yNWgtMS41djEuNWgxLjV2LTEuNXptMCAzaC0xLjV2MS41aDEuNXYtMS41em0wLTZhMS41IDEuNSAwIDAgMC0xLjUgMS41aDEuNXYtMS41em0zIDloLTEuNXYxLjVoMS41di0xLjV6bTQuNS05djEuNWgxLjVjMC0uODI1LS42NzUtMS41LTEuNS0xLjV6bS00LjUgMGgtMS41djEuNWgxLjV2LTEuNXptLTMgMTAuNXYtMS41aC0xLjVhMS41IDEuNSAwIDAgMCAxLjUgMS41em03LjUtM2gxLjV2LTEuNWgtMS41djEuNXptMC0zaDEuNXYtMS41aC0xLjV2MS41em0wIDZjLjgyNSAwIDEuNS0uNjc1IDEuNS0xLjVoLTEuNXYxLjV6bS0xMC41LTcuNWgtMS41djlhMS41IDEuNSAwIDAgMCAxLjUgMS41aDl2LTEuNWgtOXYtOXptNy41LTEuNWgxLjV2LTEuNWgtMS41djEuNXptMCA5aDEuNXYtMS41aC0xLjV2MS41elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJmbGlwX3RvX2Zyb250XCI+PHBhdGggZD1cIk0yLjI1IDkuNzVoMS41di0xLjVoLTEuNXYxLjV6bTAgM2gxLjV2LTEuNWgtMS41djEuNXptMS41IDN2LTEuNWgtMS41YTEuNSAxLjUgMCAwIDAgMS41IDEuNXptLTEuNS05aDEuNXYtMS41aC0xLjV2MS41em05IDloMS41di0xLjVoLTEuNXYxLjV6bTMtMTMuNWgtNy41YTEuNSAxLjUgMCAwIDAtMS41IDEuNXY3LjVhMS41IDEuNSAwIDAgMCAxLjUgMS41aDcuNWMuODI1IDAgMS41LS42NzUgMS41LTEuNXYtNy41YzAtLjgyNS0uNjc1LTEuNS0xLjUtMS41em0wIDloLTcuNXYtNy41aDcuNXY3LjV6bS02IDQuNWgxLjV2LTEuNWgtMS41djEuNXptLTMgMGgxLjV2LTEuNWgtMS41djEuNXpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwiZ2V0X2FwcFwiPjxwYXRoIGQ9XCJNMTQuNjYyIDYuOTVoLTMuMTV2LTQuNUg2Ljc4N3Y0LjVoLTMuMTVMOS4xNSAxMi4ybDUuNTEyLTUuMjV6TTMuNjM3IDEzLjd2MS41aDExLjAyNXYtMS41SDMuNjM3elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJsb2NrXCI+PHBhdGggZD1cIk0xMy41IDZoLS43NVY0LjVDMTIuNzUgMi40MyAxMS4wNy43NSA5IC43NSA2LjkzLjc1IDUuMjUgMi40MyA1LjI1IDQuNVY2SDQuNUMzLjY3NSA2IDMgNi42NzUgMyA3LjVWMTVjMCAuODI1LjY3NSAxLjUgMS41IDEuNWg5Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41VjcuNWMwLS44MjUtLjY3NS0xLjUtMS41LTEuNXpNNi43NSA0LjVBMi4yNDcgMi4yNDcgMCAwIDEgOSAyLjI1YTIuMjQ3IDIuMjQ3IDAgMCAxIDIuMjUgMi4yNVY2aC00LjVWNC41ek0xMy41IDE1aC05VjcuNWg5VjE1ek05IDEyLjc1Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41cy0uNjc1LTEuNS0xLjUtMS41LTEuNS42NzUtMS41IDEuNS42NzUgMS41IDEuNSAxLjV6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cIm9wYWNpdHlcIj48cGF0aCBkPVwiTTEzLjI0NSA2TDkgMS43NjMgNC43NTUgNkE2LjAxNSA2LjAxNSAwIDAgMCAzIDEwLjIzYzAgMS41LjU4NSAzLjA4MiAxLjc1NSA0LjI1MmE1Ljk5MyA1Ljk5MyAwIDAgMCA4LjQ5IDBBNi4wNjYgNi4wNjYgMCAwIDAgMTUgMTAuMjNjMC0xLjUtLjU4NS0zLjA2LTEuNzU1LTQuMjN6TTQuNSAxMC41Yy4wMDgtMS41LjQ2NS0yLjQ1MyAxLjMyLTMuM0w5IDMuOTUybDMuMTggMy4yODVjLjg1NS44NCAxLjMxMyAxLjc2MyAxLjMyIDMuMjYzaC05elwiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE0IDE4XCIgaWQ9XCJvcGFjaXR5X2VtcHR5XCI+PHBhdGggc3Ryb2tlPVwiIzAwNzhBOFwiIHN0cm9rZS13aWR0aD1cIjEuN1wiIGQ9XCJNMTAuNzA4IDYuMjVBNS4xMTMgNS4xMTMgMCAwIDEgMTIuMiA5Ljg0NmMwIDEuMjc1LS40OTcgMi42Mi0xLjQ5MiAzLjYxNGE1LjA5NCA1LjA5NCAwIDAgMS03LjIxNiAwQTUuMTU2IDUuMTU2IDAgMCAxIDIgOS44NDZjMC0xLjI3NS40OTctMi42MDEgMS40OTItMy41OTZMNy4xIDIuNjQ4bDMuNjA4IDMuNjAyem0wIDBMNy4xIDIuNjQ4IDMuNDkyIDYuMjVBNS4xMTMgNS4xMTMgMCAwIDAgMiA5Ljg0NmMwIDEuMjc1LjQ5NyAyLjYyIDEuNDkyIDMuNjE0YTUuMDk0IDUuMDk0IDAgMCAwIDcuMjE2IDBBNS4xNTYgNS4xNTYgMCAwIDAgMTIuMiA5Ljg0NmE1LjExMyA1LjExMyAwIDAgMC0xLjQ5Mi0zLjU5NnpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxNCAxOFwiIGlkPVwib3BhY2l0aWVzXCI+PGcgZmlsbD1cIiMwMDc4YThcIj48cGF0aCBkPVwibTIuMSAxMC44NWMuMi45OC42OCAxLjg5IDEuMzkgMi42MSAwIDAgLjAxLjAxLjAxLjAxLjk5Ljk5IDIuMyAxLjQ5IDMuNiAxLjQ5aC4wMWMxLjMgMCAyLjYtLjUgMy41OS0xLjUuNzMtLjczIDEuMTktMS42NiAxLjM5LTIuNjF6XCIgb3BhY2l0eT1cIi43NVwiLz48cGF0aCBkPVwibTIgOS44NWMwIC4zNC4wNC42OC4xIDEuMDFoOS45OWMuMDctLjM0LjExLS42Ny4xMS0xLjAxIDAtMS4xMy0uNC0yLjIxLTEuMDgtMy4wOWgtOC4wNGMtLjcuOTEtMS4wOCAyLjAxLTEuMDggMy4wOXpcIiBvcGFjaXR5PVwiLjVcIi8+PHBhdGggZD1cIm0zLjA4IDYuNzVoOC4wM2MtLjEzLS4xNy0uMjYtLjM1LS40MS0uNWwtMy42LTMuNi0zLjYxIDMuNmMtLjE1LjE2LS4yNy4zMy0uNDEuNXpcIiBvcGFjaXR5PVwiLjI1XCIvPjwvZz48cGF0aCBkPVwibTEwLjcxIDYuMjVjLjk1Ljk2IDEuNDkgMi4yNSAxLjQ5IDMuNiAwIDEuMjctLjUgMi42Mi0xLjQ5IDMuNjEtMS45OSAxLjk5LTUuMjEgMi03LjIuMDEgMCAwLS4wMS0uMDEtLjAxLS4wMS0uOTYtLjk2LTEuNS0yLjI2LTEuNS0zLjYxIDAtMS4yNy41LTIuNiAxLjQ5LTMuNmwzLjYxLTMuNnpcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMwMDc4YThcIiBzdHJva2Utd2lkdGg9XCIuMVwiLz48cGF0aCBkPVwibTEwLjcxIDYuMjVjLjk1Ljk2IDEuNDkgMi4yNSAxLjQ5IDMuNiAwIDEuMjctLjUgMi42Mi0xLjQ5IDMuNjEtMS45OSAxLjk5LTUuMjEgMi03LjIuMDEgMCAwLS4wMS0uMDEtLjAxLS4wMS0uOTYtLjk2LTEuNS0yLjI2LTEuNS0zLjYxIDAtMS4yNy41LTIuNiAxLjQ5LTMuNmwzLjYxLTMuNnpcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMwMDc4YThcIiBzdHJva2Utd2lkdGg9XCIxLjdcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwicmVzdG9yZVwiPjxwYXRoIGQ9XCJNMTUuNjcgMy44MzlhLjI5NS4yOTUgMCAwIDAtLjIyLjEwM2wtNS4xMTYgMy4yNDlWNC4xNzlhLjM0Mi4zNDIgMCAwIDAtLjE5My0uMzE1LjI5LjI5IDAgMCAwLS4zMzguMDc4TDMuODA2IDcuNzUxdi00LjYzaC0uMDAybC4wMDItLjAyMmMwLS4yNzctLjIwNC0uNTAyLS40NTYtLjUwMmgtLjg3M1YyLjZjLS4yNTMgMC0uNDU3LjIyNS0uNDU3LjUwM2wuMDAyLjAyNnYxMC44ODNoLjAwNWMuMDIxLjI1Ny4yMTcuNDU0LjQ1Mi40NTVsLjAxNi0uMDAyaC44MjJjLjAxMy4wMDEuMDI1LjAwNC4wMzguMDA0LjI1MiAwIC40NTctLjIyNS40NTctLjUwMmEuNTA1LjUwNSAwIDAgMC0uMDA2LS4wNjhWOS4zMThsNi4wMDEgMy44MTFhLjI4OC4yODggMCAwIDAgLjMzMi4wNzQuMzQuMzQgMCAwIDAgLjE5NC0uMzA2VjkuODc4bDUuMTIgMy4yNTJhLjI4OC4yODggMCAwIDAgLjMzMi4wNzMuMzQuMzQgMCAwIDAgLjE5NC0uMzA2VjQuMThhLjM1OC4zNTggMCAwIDAtLjA5LS4yNC4yOTYuMjk2IDAgMCAwLS4yMTgtLjF6XCIvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cInJvdGF0ZVwiPjxwYXRoIGQ9XCJNNS41MDUgNC44MDhMLjY0NSA5LjY3NWw0Ljg2NyA0Ljg2IDQuODY4LTQuODYtNC44NzUtNC44Njh6TTIuNzY4IDkuNjc1TDUuNTEzIDYuOTMgOC4yNSA5LjY3NSA1LjUwNSAxMi40MiAyLjc2OCA5LjY3NXpNMTQuNTIgNC45OEE2LjcxMyA2LjcxMyAwIDAwOS43NSAzVi41N0w2LjU3IDMuNzVsMy4xOCAzLjE4VjQuNWE1LjIzIDUuMjMgMCAwMTMuNzEzIDEuNTM3IDUuMjU1IDUuMjU1IDAgMDEwIDcuNDI2IDUuMjMgNS4yMyAwIDAxLTUuODQzIDEuMDhMNi41MDMgMTUuNjZhNi43NiA2Ljc2IDAgMDAzLjI0Ny44NGMxLjcyNSAwIDMuNDU3LS42NiA0Ljc3LTEuOThhNi43MzUgNi43MzUgMCAwMDAtOS41NHpcIi8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwic2NhbGVcIj48cGF0aCBkPVwiTTguMjUgOWgtNmEuNzUuNzUgMCAwMC0uNzUuNzV2NmMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDZhLjc1Ljc1IDAgMDAuNzUtLjc1di02QS43NS43NSAwIDAwOC4yNSA5em0tLjc1IDZIM3YtNC41aDQuNVYxNXptOC45NC0xMy4wMzVhLjc1Ljc1IDAgMDAtLjQwNS0uNDA1Ljc1Ljc1IDAgMDAtLjI4NS0uMDZoLTQuNWEuNzUuNzUgMCAwMDAgMS41aDIuNjkyTDkuOTY3IDYuOTY4YS43NS43NSAwIDAwMCAxLjA2NC43NS43NSAwIDAwMS4wNjUgMEwxNSA0LjA1N1Y2Ljc1YS43NS43NSAwIDEwMS41IDB2LTQuNWEuNzUuNzUgMCAwMC0uMDYtLjI4NXpcIiAvPjwvc3ltYm9sPicgK1xuICAgICc8c3ltYm9sIHZpZXdCb3g9XCIwIDAgMTggMThcIiBpZD1cInNwaW5uZXJcIj48cGF0aCBkPVwiTTkgNi40OGMtLjIxNiAwLS4zNi0uMTQ0LS4zNi0uMzZWMy4yNGMwLS4yMTYuMTQ0LS4zNi4zNi0uMzZzLjM2LjE0NC4zNi4zNnYyLjg4YzAgLjIxNi0uMTQ0LjM2LS4zNi4zNnpcIi8+PHBhdGggZD1cIk05IDE1LjEyYy0uMjE2IDAtLjM2LS4xNDQtLjM2LS4zNnYtMi44OGMwLS4yMTYuMTQ0LS4zNi4zNi0uMzZzLjM2LjE0NC4zNi4zNnYyLjg4YzAgLjIxNi0uMTQ0LjM2LS4zNi4zNnptMS40NC04LjI4Yy0uMDcyIDAtLjEwOCAwLS4xOC0uMDM2LS4xNDQtLjEwOC0uMjE2LS4yODgtLjEwOC0uNDY4bDEuNDQtMi40ODRjLjEwOC0uMTQ0LjI4OC0uMjE2LjQ2OC0uMTA4LjE0NC4xMDguMjE2LjI4OC4xMDguNDY4bC0xLjQ0IDIuNDg0Yy0uMDcyLjA3Mi0uMTguMTQ0LS4yODguMTQ0em0tNC4zMiA3LjQ4OGMtLjA3MiAwLS4xMDggMC0uMTgtLjAzNi0uMTQ0LS4xMDgtLjIxNi0uMjg4LS4xMDgtLjQ2OGwxLjQ0LTIuNDg0Yy4xMDgtLjE0NC4yODgtLjIxNi40NjgtLjEwOC4xNDQuMTA4LjIxNi4yODguMTA4LjQ2OGwtMS40NCAyLjQ4NGMtLjA3Mi4wNzItLjE4LjE0NC0uMjg4LjE0NHpcIiBvcGFjaXR5PVwiLjNcIi8+PHBhdGggZD1cIk03LjU2IDYuODRjLS4xMDggMC0uMjE2LS4wNzItLjI4OC0uMThsLTEuNDQtMi40ODRjLS4xMDgtLjE0NC0uMDM2LS4zNi4xMDgtLjQ2OC4xNDQtLjEwOC4zNi0uMDM2LjQ2OC4xMDhMNy44NDggNi4zYy4xMDguMTQ0LjAzNi4zNi0uMTA4LjQ2OC0uMDcyLjA3Mi0uMTA4LjA3Mi0uMTguMDcyelwiIG9wYWNpdHk9XCIuOTNcIi8+PHBhdGggZD1cIk0xMS44OCAxNC4zMjhjLS4xMDggMC0uMjE2LS4wNzItLjI4OC0uMThsLTEuNDQtMi40ODRjLS4xMDgtLjE0NC0uMDM2LS4zNi4xMDgtLjQ2OC4xNDQtLjEwOC4zNi0uMDM2LjQ2OC4xMDhsMS40NCAyLjQ4NGMuMTA4LjE0NC4wMzYuMzYtLjEwOC40NjgtLjA3Mi4wMzYtLjEwOC4wNzItLjE4LjA3MnpcIiBvcGFjaXR5PVwiLjNcIi8+PHBhdGggZD1cIk02LjEyIDkuMzZIMy4yNGMtLjIxNiAwLS4zNi0uMTQ0LS4zNi0uMzZzLjE0NC0uMzYuMzYtLjM2aDIuODhjLjIxNiAwIC4zNi4xNDQuMzYuMzZzLS4xNDQuMzYtLjM2LjM2elwiIG9wYWNpdHk9XCIuNjVcIi8+PHBhdGggZD1cIk0xNC43NiA5LjM2aC0yLjg4Yy0uMjE2IDAtLjM2LS4xNDQtLjM2LS4zNnMuMTQ0LS4zNi4zNi0uMzZoMi44OGMuMjE2IDAgLjM2LjE0NC4zNi4zNnMtLjE0NC4zNi0uMzYuMzZ6XCIgb3BhY2l0eT1cIi4zXCIvPjxwYXRoIGQ9XCJNNi41MTYgNy44ODRjLS4wNzIgMC0uMTA4IDAtLjE4LS4wMzZsLTIuNDg0LTEuNDRjLS4xNDQtLjEwOC0uMjE2LS4yODgtLjEwOC0uNDY4LjEwOC0uMTQ0LjI4OC0uMjE2LjQ2OC0uMTA4bDIuNDg0IDEuNDRjLjE0NC4xMDguMjE2LjI4OC4xMDguNDY4YS4zMjcuMzI3IDAgMDEtLjI4OC4xNDR6XCIgb3BhY2l0eT1cIi44NlwiLz48cGF0aCBkPVwiTTE0LjAwNCAxMi4yMDRjLS4wNzIgMC0uMTA4IDAtLjE4LS4wMzZsLTIuNDg0LTEuNDRjLS4xNDQtLjEwOC0uMjE2LS4yODgtLjEwOC0uNDY4LjEwOC0uMTQ0LjI4OC0uMjE2LjQ2OC0uMTA4bDIuNDg0IDEuNDRjLjE0NC4xMDguMjE2LjI4OC4xMDguNDY4YS4zMjcuMzI3IDAgMDEtLjI4OC4xNDR6XCIgb3BhY2l0eT1cIi4zXCIvPjxwYXRoIGQ9XCJNMy45OTYgMTIuMjA0Yy0uMTA4IDAtLjIxNi0uMDcyLS4yODgtLjE4LS4xMDgtLjE0NC0uMDM2LS4zNi4xMDgtLjQ2OGwyLjQ4NC0xLjQ0Yy4xNDQtLjEwOC4zNi0uMDM2LjQ2OC4xMDguMTA4LjE0NC4wMzYuMzYtLjEwOC40NjhsLTIuNDg0IDEuNDRjLS4wMzYuMDcyLS4xMDguMDcyLS4xOC4wNzJ6XCIgb3BhY2l0eT1cIi40NFwiLz48cGF0aCBkPVwiTTExLjQ4NCA3Ljg4NGMtLjEwOCAwLS4yMTYtLjA3Mi0uMjg4LS4xOC0uMTA4LS4xNDQtLjAzNi0uMzYuMTA4LS40NjhsMi40ODQtMS40NGMuMTQ0LS4xMDguMzYtLjAzNi40NjguMTA4LjEwOC4xNDQuMDM2LjM2LS4xMDguNDY4bC0yLjQ4NCAxLjQ0Yy0uMDcyLjA3Mi0uMTA4LjA3Mi0uMTguMDcyelwiIG9wYWNpdHk9XCIuM1wiLz48L3N5bWJvbD4nICtcbiAgICAnPHN5bWJvbCB2aWV3Qm94PVwiMCAwIDE4IDE4XCIgaWQ9XCJkcmFnXCI+PHBhdGggZD1cIk0yLjMgMTYuNWMtMC4yIDAtMC40LTAuMS0wLjUtMC4yIC0wLjItMC4yLTAuMy0wLjUtMC4yLTAuOGwyLjUtNi41IC0yLjUtNi41QzEuNSAyLjMgMS41IDIgMS43IDEuOGMwLjItMC4yIDAuNS0wLjMgMC44LTAuMmw2LjUgMi41IDYuNS0yLjVjMC4zLTAuMSAwLjYgMCAwLjggMC4yIDAuMiAwLjIgMC4zIDAuNSAwLjIgMC44bC0yLjUgNi41IDIuNSA2LjVjMC4xIDAuMyAwIDAuNi0wLjIgMC44IC0wLjIgMC4yLTAuNSAwLjMtMC44IDAuMmwtNi41LTIuNSAtNi41IDIuNUMyLjQgMTYuNSAyLjMgMTYuNSAyLjMgMTYuNXpNMy42IDMuNmwyIDUuMWMwLjEgMC4yIDAuMSAwLjQgMCAwLjVsLTIgNS4xIDUuMS0yYzAuMi0wLjEgMC40LTAuMSAwLjUgMGw1LjEgMkwxMi40IDkuM2MtMC4xLTAuMi0wLjEtMC40IDAtMC41bDItNS4xTDkuMyA1LjZjLTAuMiAwLjEtMC40IDAuMS0wLjUgMEwzLjYgMy42elwiIC8+PC9zeW1ib2w+JyArXG4gICAgJzxzeW1ib2wgdmlld0JveD1cIjAgMCAxOCAxOFwiIGlkPVwidW5sb2NrXCI+PHBhdGggZD1cIk0xMy41IDZoLS43NVY0LjVDMTIuNzUgMi40MyAxMS4wNy43NSA5IC43NSA2LjkzLjc1IDUuMjUgMi40MyA1LjI1IDQuNWgxLjVBMi4yNDcgMi4yNDcgMCAwIDEgOSAyLjI1YTIuMjQ3IDIuMjQ3IDAgMCAxIDIuMjUgMi4yNVY2SDQuNUMzLjY3NSA2IDMgNi42NzUgMyA3LjVWMTVjMCAuODI1LjY3NSAxLjUgMS41IDEuNWg5Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41VjcuNWMwLS44MjUtLjY3NS0xLjUtMS41LTEuNXptMCA5aC05VjcuNWg5VjE1ek05IDEyLjc1Yy44MjUgMCAxLjUtLjY3NSAxLjUtMS41cy0uNjc1LTEuNS0xLjUtMS41LTEuNS42NzUtMS41IDEuNS42NzUgMS41IDEuNSAxLjV6XCIvPjwvc3ltYm9sPicsXG59KTtcbiIsIkwuRGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZSB8fCB7fTtcbkwuZGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAgPSB7fTtcblxuTC5FZGl0QWN0aW9uID0gTC5Ub29sYmFyMi5BY3Rpb24uZXh0ZW5kKHtcbiAgb3B0aW9uczoge1xuICAgIHRvb2xiYXJJY29uOiB7XG4gICAgICBzdmc6IGZhbHNlLFxuICAgICAgaHRtbDogJycsXG4gICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgdG9vbHRpcDogJycsXG4gICAgfSxcbiAgfSxcblxuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIHRoaXMuX292ZXJsYXkgPSBvdmVybGF5O1xuICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgIEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICBMLlRvb2xiYXIyLkFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5faW5qZWN0SWNvblNldCgpO1xuICB9LFxuXG4gIF9jcmVhdGVJY29uKHRvb2xiYXIsIGNvbnRhaW5lciwgYXJncykge1xuICAgIGNvbnN0IGljb25PcHRpb25zID0gdGhpcy5vcHRpb25zLnRvb2xiYXJJY29uO1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGljb25PcHRpb25zLmNsYXNzTmFtZTtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5vcHRpb25zLnRvb2xiYXJJY29uLnN0eWxlO1xuXG4gICAgdGhpcy50b29sYmFyID0gdG9vbGJhcjtcbiAgICB0aGlzLl9pY29uID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGknLCAnJywgY29udGFpbmVyKTtcbiAgICB0aGlzLl9saW5rID0gTC5Eb21VdGlsLmNyZWF0ZSgnYScsICcnLCB0aGlzLl9pY29uKTtcblxuICAgIGlmIChpY29uT3B0aW9ucy5zdmcpIHtcbiAgICAgIHRoaXMuX2xpbmsuaW5uZXJIVE1MID0gTC5JY29uVXRpbC5jcmVhdGUoaWNvbk9wdGlvbnMuaHRtbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpbmsuaW5uZXJIVE1MID0gaWNvbk9wdGlvbnMuaHRtbDtcbiAgICB9XG5cbiAgICB0aGlzLl9saW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsICcjJyk7XG4gICAgdGhpcy5fbGluay5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgaWNvbk9wdGlvbnMudG9vbHRpcCk7XG4gICAgaWYgKHN0eWxlKSB7IHRoaXMuX2xpbmsuc2V0QXR0cmlidXRlKCdzdHlsZScsIHN0eWxlKTsgfTtcbiAgICB0aGlzLl9saW5rLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcblxuICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9saW5rLCB0aGlzLmNvbnN0cnVjdG9yLmJhc2VDbGFzcyk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGluaywgY2xhc3NOYW1lKTtcbiAgICAgIGlmIChjbGFzc05hbWUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2ljb24sIGNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoY2xhc3NOYW1lID09PSBlZGl0Ll9tb2RlKSB7XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9saW5rLCAnc2VsZWN0ZWQtbW9kZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xpbmssICdzZWxlY3RlZC1tb2RlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5vbih0aGlzLl9saW5rLCAnY2xpY2snLCB0aGlzLmVuYWJsZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vbih0aGlzLl9vdmVybGF5LCAndXBkYXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLl9saW5rLmlubmVySFRNTC5tYXRjaCgveGxpbms6aHJlZj1cIiNyZXN0b3JlXCIvKTtcbiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPT09IDEpIHsgdGhpcy5fZW5hYmxlQWN0aW9uKCk7IH1cbiAgICB9KTtcblxuICAgIC8qIEFkZCBzZWNvbmRhcnkgdG9vbGJhciAqL1xuICAgIHRoaXMuX2FkZFN1YlRvb2xiYXIodG9vbGJhciwgdGhpcy5faWNvbiwgYXJncyk7XG4gIH0sXG5cbiAgX2luamVjdEljb25TZXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpY29uc2V0JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsLmlkID0gJ2ljb25zZXQnO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuICAgIGVsLmlubmVySFRNTCA9IG5ldyBMLlRvb2xiYXJJY29uU2V0KCkucmVuZGVyKCk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVhZmxldC1tYXJrZXItcGFuZScpLmFwcGVuZENoaWxkKGVsKTtcbiAgfSxcblxuICBfZW5hYmxlQWN0aW9uKCkge1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9saW5rLnBhcmVudEVsZW1lbnQsICdkaXNhYmxlZCcpO1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9saW5rLCAnZGlzYWJsZWQnKTtcbiAgfSxcblxuICBfZGlzYWJsZUFjdGlvbigpIHtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGluay5wYXJlbnRFbGVtZW50LCAnZGlzYWJsZWQnKTtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGluaywgJ2Rpc2FibGVkJyk7XG4gIH0sXG59KTtcblxuTC5lZGl0QWN0aW9uID0gZnVuY3Rpb24obWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTC5FZGl0QWN0aW9uKG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG59O1xuIiwiTC5Cb3JkZXJBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IG1vZGUgPSBlZGl0Ll9tb2RlO1xuICAgIGxldCB1c2U7XG4gICAgbGV0IHRvb2x0aXA7XG5cbiAgICBpZiAoZWRpdC5fb3V0bGluZWQpIHtcbiAgICAgIHVzZSA9ICdib3JkZXJfb3V0ZXInO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5yZW1vdmVCb3JkZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZSA9ICdib3JkZXJfY2xlYXInO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5hZGRCb3JkZXI7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6IHVzZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBjbGFzc05hbWU6IG1vZGUgPT09ICdsb2NrJyA/ICdkaXNhYmxlZCcgOiAnJyxcbiAgICB9O1xuXG4gICAgLy8gY29uZGl0aW9uYWwgZm9yIGRpc2FibGluZyBrZXliaW5kaW5ncyBmb3IgdGhpcyBhY3Rpb24gd2hlbiB0aGUgaW1hZ2UgaXMgbG9ja2VkLlxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLmIgPSBtb2RlID09PSAnbG9jaycgPyAnJyA6ICdfdG9nZ2xlQm9yZGVyJztcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcblxuICAgIEwuSWNvblV0aWwudG9nZ2xlWGxpbmsodGhpcy5fbGluaywgJ2JvcmRlcl9jbGVhcicsICdib3JkZXJfb3V0ZXInKTtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVRpdGxlKHRoaXMuX2xpbmssICdSZW1vdmUgQm9yZGVyJywgJ0FkZCBCb3JkZXInKTtcbiAgICBlZGl0Ll90b2dnbGVCb3JkZXIoKTtcbiAgfSxcbn0pO1xuIiwiTC5EZWxldGVBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IHVzZSA9ICdkZWxldGVfZm9yZXZlcic7XG4gICAgbGV0IHRvb2x0aXA7XG4gICAgLyoqXG4gICAgICAqIHdlIGNhbiB0ZWxsIHdoZXRoZXIgdGhlIG92ZXJsYXkgaXMgYW4gaW5zdGFuY2Ugb2YgYEwuRGlzdG9ydGFibGVJbWFnZU92ZXJsYXlgIG9yIGBMLkRpc3RvcnRhYmxlQ29sbGVjdGlvbmAgYmMgb25seVxuICAgICAgKiB0aGUgZm9ybWVyIHNob3VsZCBoYXZlIGBwYXJlbnRHcm91cGAgZGVmaW5lZCBvbiBpdC4gRnJvbSB0aGVyZSB3ZSBjYWxsIHRoZSBhcHBvcnByaWF0ZSBrZXliaW5kaW5ncyBhbmQgbWV0aG9kcy5cbiAgICAgICovXG4gICAgaWYgKGVkaXQgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCkge1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5kZWxldGVJbWFnZTtcbiAgICAgIC8vIGJhY2tzcGFjZSB3aW5kb3dzIC8gZGVsZXRlIG1hY1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAuQmFja3NwYWNlID0gKFxuICAgICAgICBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnJyA6ICdfcmVtb3ZlT3ZlcmxheSdcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvb2x0aXAgPSBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uZGVsZXRlSW1hZ2VzO1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmdyb3VwX2FjdGlvbl9tYXAuQmFja3NwYWNlID0gKFxuICAgICAgICBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnJyA6ICdfcmVtb3ZlR3JvdXAnXG4gICAgICApO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiB1c2UsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgY2xhc3NOYW1lOiBlZGl0Ll9tb2RlID09PSAnbG9jaycgPyAnZGlzYWJsZWQnIDogJycsXG4gICAgfTtcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcblxuICAgIGlmIChlZGl0IGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQpIHsgZWRpdC5fcmVtb3ZlT3ZlcmxheSgpOyB9XG4gICAgZWxzZSB7IGVkaXQuX3JlbW92ZUdyb3VwKCk7IH1cbiAgfSxcbn0pO1xuIiwiTC5EaXN0b3J0QWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6ICdkaXN0b3J0JyxcbiAgICAgIHRvb2x0aXA6IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5kaXN0b3J0SW1hZ2UsXG4gICAgICBjbGFzc05hbWU6ICdkaXN0b3J0JyxcbiAgICB9O1xuXG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAuZCA9ICdfZGlzdG9ydE1vZGUnO1xuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcbiAgICBlZGl0Ll9kaXN0b3J0TW9kZSgpO1xuICB9LFxufSk7XG4iLCJMLkRyYWdBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ2RyYWcnLFxuICAgICAgdG9vbHRpcDogb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLmRyYWdJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogJ2RyYWcnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5EID0gJ19kcmFnTW9kZSc7XG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGVkaXQuX2RyYWdNb2RlKCk7XG4gIH0sXG59KTtcbiIsIkwuRXhwb3J0QWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgdGltZSB3ZSBzZWxlY3QgYW4gaW1hZ2VcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlZGl0ID0gb3ZlcmxheS5lZGl0aW5nO1xuICAgIGxldCB0b29sdGlwO1xuXG4gICAgdGhpcy5pc0V4cG9ydGluZyA9IGZhbHNlO1xuICAgIHRoaXMubW91c2VMZWF2ZVNraXAgPSB0cnVlO1xuICAgIHRoaXMuaXNIb29rc0V4ZWN1dGVkID0gZmFsc2U7XG5cbiAgICBpZiAoZWRpdCBpbnN0YW5jZW9mIEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0KSB7XG4gICAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5lID0gJ19nZXRFeHBvcnQnO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5leHBvcnRJbWFnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmdyb3VwX2FjdGlvbl9tYXAuZSA9ICdydW5FeHBvcnRlcic7XG4gICAgICB0b29sdGlwID0gb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLmV4cG9ydEltYWdlcztcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ2dldF9hcHAnLFxuICAgICAgdG9vbHRpcDogdG9vbHRpcCxcbiAgICB9O1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuXG4gICAgaWYgKGVkaXQgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCkge1xuICAgICAgZWRpdC5fZ2V0RXhwb3J0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgYWRkSG9va3MgaXMgZXhlY3V0ZWQgb25seSBvbmNlLCBldmVudCBsaXN0ZW5lcnMgd2lsbCBoYW5kbGUgdGhlIHJlc3RcbiAgICBpZiAodGhpcy5pc0hvb2tzRXhlY3V0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc0hvb2tzRXhlY3V0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGV4cG9ydFRvb2wgPSB0aGlzLl9saW5rLnBhcmVudEVsZW1lbnQ7XG5cbiAgICB0aGlzLm1vdXNlRW50ZXJIYW5kbGVyID0gdGhpcy5oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3VzZUxlYXZlSGFuZGxlciA9IHRoaXMuaGFuZGxlTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuXG4gICAgTC5Eb21FdmVudC5vbihleHBvcnRUb29sLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc0V4cG9ydGluZykge1xuICAgICAgICB0aGlzLmlzRXhwb3J0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJFeHBvcnRJY29uKCk7XG5cbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmF0dGFjaE1vdXNlRXZlbnRMaXN0ZW5lcnMuYmluZCh0aGlzLCBleHBvcnRUb29sKSwgMTAwKTtcbiAgICAgICAgZWRpdC5ydW5FeHBvcnRlcigpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhpcy5yZXNldFN0YXRlKCk7XG4gICAgICAgICAgICAgIHRoaXMuZGV0YWNoTW91c2VFdmVudExpc3RlbmVycyhleHBvcnRUb29sKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xpY2tpbmcgb24gdGhlIGV4cG9ydCBpY29uIGFmdGVyIGV4cG9ydCBoYXMgc3RhcnRlZCB3aWxsIGJlIGlnbm9yZWRcbiAgICAgICAgaWYgKHRoaXMubW91c2VMZWF2ZVNraXApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcbiAgICAgICAgdGhpcy5kZXRhY2hNb3VzZUV2ZW50TGlzdGVuZXJzKGV4cG9ydFRvb2wpO1xuICAgICAgICBlZGl0LmNhbmNlbEV4cG9ydCgpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuXG4gIHJlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5yZW5kZXJEb3dubG9hZEljb24oKTtcbiAgICB0aGlzLmlzRXhwb3J0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5tb3VzZUxlYXZlU2tpcCA9IHRydWU7XG4gIH0sXG5cbiAgYXR0YWNoTW91c2VFdmVudExpc3RlbmVycyhlbGVtZW50KSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5tb3VzZUVudGVySGFuZGxlcik7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5tb3VzZUxlYXZlSGFuZGxlcik7XG4gIH0sXG5cbiAgZGV0YWNoTW91c2VFdmVudExpc3RlbmVycyhlbGVtZW50KSB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5tb3VzZUVudGVySGFuZGxlcik7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5tb3VzZUxlYXZlSGFuZGxlcik7XG4gIH0sXG5cbiAgaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICB0aGlzLnJlbmRlckNhbmNlbEljb24oKTtcbiAgfSxcblxuICBoYW5kbGVNb3VzZUxlYXZlKCkge1xuICAgIGlmICh0aGlzLm1vdXNlTGVhdmVTa2lwKSB7XG4gICAgICB0aGlzLm1vdXNlTGVhdmVTa2lwID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyRXhwb3J0SWNvbigpO1xuICAgIH1cbiAgfSxcblxuICByZW5kZXJEb3dubG9hZEljb24oKSB7XG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayh0aGlzLl9saW5rLCAnZ2V0X2FwcCcsICdzcGlubmVyJyk7XG4gICAgTC5JY29uVXRpbC50b2dnbGVUaXRsZSh0aGlzLl9saW5rLCAnRXhwb3J0IEltYWdlcycsICdMb2FkaW5nLi4uJyk7XG4gICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xpbmsuZmlyc3RDaGlsZCwgJ2xvYWRlcicpO1xuICB9LFxuXG4gIHJlbmRlckV4cG9ydEljb24oKSB7XG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayh0aGlzLl9saW5rLCAnc3Bpbm5lcicpO1xuICAgIEwuSWNvblV0aWwudG9nZ2xlVGl0bGUodGhpcy5fbGluaywgJ0V4cG9ydCBJbWFnZXMnLCAnTG9hZGluZy4uLicpO1xuICAgIEwuSWNvblV0aWwuYWRkQ2xhc3NUb1N2Zyh0aGlzLl9saW5rLCAnbG9hZGVyJyk7XG4gIH0sXG5cbiAgcmVuZGVyQ2FuY2VsSWNvbigpIHtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVhsaW5rKHRoaXMuX2xpbmssICdjYW5jZWwnKTtcbiAgICBMLkljb25VdGlsLnRvZ2dsZVRpdGxlKHRoaXMuX2xpbmssICdDYW5jZWwgRXhwb3J0JywgJ0xvYWRpbmcuLi4nKTtcbiAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbGluay5maXJzdENoaWxkLCAnbG9hZGVyJyk7XG4gIH0sXG59KTtcbiIsIkwuRnJlZVJvdGF0ZUFjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAnY3JvcF9yb3RhdGUnLFxuICAgICAgdG9vbHRpcDogb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLmZyZWVSb3RhdGVJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogJ2ZyZWVSb3RhdGUnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5mID0gJ19mcmVlUm90YXRlTW9kZSc7XG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGVkaXQuX2ZyZWVSb3RhdGVNb2RlKCk7XG4gIH0sXG59KTtcbiIsIkwuR2VvbG9jYXRlQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWRpdCA9IG92ZXJsYXkuZWRpdGluZztcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAnZXhwbG9yZScsXG4gICAgICB0b29sdGlwOiBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uZ2VvbG9jYXRlSW1hZ2UsXG4gICAgICBjbGFzc05hbWU6IGVkaXQuX21vZGUgPT09ICdsb2NrJyA/ICdkaXNhYmxlZCcgOiAnJyxcbiAgICB9O1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX292ZXJsYXkuZ2V0RWxlbWVudCgpO1xuXG4gICAgRVhJRi5nZXREYXRhKGltYWdlLCBMLkVYSUYoaW1hZ2UpKTtcbiAgfSxcbn0pO1xuIiwiTC5Mb2NrQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWRpdCA9IG92ZXJsYXkuZWRpdGluZztcbiAgICBsZXQgdXNlO1xuICAgIGxldCB0b29sdGlwO1xuXG4gICAgaWYgKGVkaXQgaW5zdGFuY2VvZiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdCkge1xuICAgICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAudSA9ICdfdW5sb2NrJztcbiAgICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLmwgPSAnX2xvY2snO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5sb2NrTW9kZTtcblxuICAgICAgdXNlID0gZWRpdC5pc01vZGUoJ2xvY2snKSA/ICdsb2NrJyA6ICd1bmxvY2snO1xuICAgIH0gZWxzZSB7XG4gICAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuZ3JvdXBfYWN0aW9uX21hcC5sID0gJ19sb2NrR3JvdXAnO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5sb2NrSW1hZ2VzO1xuICAgICAgdXNlID0gJ2xvY2snO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiB1c2UsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgY2xhc3NOYW1lOiAnbG9jaycsXG4gICAgfTtcblxuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcblxuICAgIGlmIChlZGl0IGluc3RhbmNlb2YgTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQpIHsgZWRpdC5fdG9nZ2xlTG9ja01vZGUoKTsgfVxuICAgIGVsc2UgeyBlZGl0Ll9sb2NrR3JvdXAoKTsgfVxuICB9LFxufSk7XG4iLCJsZXQgb3BhY2l0aWVzID0gWzEwMCwgODAsIDYwLCA0MCwgMjAsIDBdOyAvLyBTZXQgbnVtZXJpYyB2YWx1ZXMgZnJvbSAwIHRvIDEwMC5cblxuLy8gQWRkIGN1c3RvbSBDU1Mgc2NyaXB0cyBhbmQgb3ZlcndyaXRlcy4gUGVuZGluZyBmb3IgYmV0dGVyIGltcGxlbWVudGF0aW9uIG9mIENTU1N0eWxlU2hlZXQgaW4gYnJvd3NlcnMuXG5jb25zdCBzdWJ0b29sYmFyQ3NzID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbnN1YnRvb2xiYXJDc3MucmVwbGFjZVN5bmMoXG4gICAgYC5sZWFmbGV0LXRvb2xiYXItaWNvbi12ZXJ0aWNhbCB7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDtcbiAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICAgICAgd2lkdGg6IDMwcHggIWltcG9ydGFudDtcbiAgICAgICAgaGVpZ2h0OiAzMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICBib3JkZXI6IGluc2V0IDAuNXB4IGxpZ2h0Z3JheSAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IzAwODdBOCAhaW1wb3J0YW50O1xuICAgICAgICBmbG9hdDogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW46IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgei1pbmRleDo5MDAgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICBgXG4pO1xuXG5zdWJ0b29sYmFyQ3NzLmluc2VydFJ1bGUoXG4gICAgYC5sZWFmbGV0LXRvb2xiYXItMSBsaTpmaXJzdC1jaGlsZCBhIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwcHggMHB4ICFpbXBvcnRhbnQ7XG4gICAgfWBcbik7XG5kb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbc3VidG9vbGJhckNzc107XG5cbm9wYWNpdGllcyA9IG9wYWNpdGllcy5tYXAoKG8pID0+IHtcbiAgKGlzTmFOKG8pIHx8IG8gPiAxMDApID8gbyA9IDEwMCA6IG87XG4gIChvIDwgMCkgPyBvID0gMCA6IG87XG5cbiAgcmV0dXJuIEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHRvb2xiYXJJY29uOiB7XG4gICAgICAgIGh0bWw6IG8sXG4gICAgICAgIHRvb2x0aXA6ICdPcGFjaXR5ICcgKyBvICsnJScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2xlYWZsZXQtdG9vbGJhci1pY29uLXZlcnRpY2FsJyxcbiAgICAgICAgc3R5bGU6ICdiYWNrZ3JvdW5kLWNvbG9yOnJnYignICsgKDEwMCAtIG8pICsgJyUsJyArICgxMDAgLSBvKSArICclLCcgKyAoMTAwIC0gbykgKyAnJSk7JyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBhZGRIb29rcygpIHtcbiAgICAgIHRoaXMuX292ZXJsYXkuZWRpdGluZy5fc2V0T3BhY2l0aWVzKG8vMTAwKTtcbiAgICB9LFxuICB9KTtcbn0pO1xuXG5MLk9wYWNpdGllc1Rvb2xiYXIyID0gTC5Ub29sYmFyMi5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgY2xhc3NOYW1lOiAnJyxcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICBhY3Rpb25zOiBbXSxcbiAgICBzdHlsZTogYHRyYW5zbGF0ZSgtMXB4LCAtJHsgKChvcGFjaXRpZXMubGVuZ3RoICsgMSkgKiAzMCl9cHgpYCxcbiAgfSxcblxuICBhcHBlbmRUb0NvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICBsZXQgYmFzZUNsYXNzID0gdGhpcy5jb25zdHJ1Y3Rvci5iYXNlQ2xhc3MgKyAnLScgKyB0aGlzLl9jYWxjdWxhdGVEZXB0aCgpO1xuICAgIGxldCBjbGFzc05hbWUgPSBiYXNlQ2xhc3MgKyAnICcgKyB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lO1xuICAgIGxldCBBY3Rpb247IGxldCBhY3Rpb247XG4gICAgbGV0IGk7IGxldCBqOyBsZXQgbDsgbGV0IG07XG5cbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5fdWwgPSBMLkRvbVV0aWwuY3JlYXRlKCd1bCcsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcbiAgICB0aGlzLl91bC5zdHlsZS50cmFuc2Zvcm0gPSAoIHRoaXMub3B0aW9ucy5zdHlsZSApID8gdGhpcy5vcHRpb25zLnN0eWxlIDogJyc7XG5cbiAgICAvLyBFbnN1cmUgdGhhdCBjbGlja3MsIGRyYWdzLCBldGMuIGRvbid0IGJ1YmJsZSB1cCB0byB0aGUgbWFwLlxuICAgIC8vIFRoZXNlIGFyZSB0aGUgbWFwIGV2ZW50cyB0aGF0IHRoZSBMLkRyYXcuUG9seWxpbmUgaGFuZGxlciBsaXN0ZW5zIGZvci5cbiAgICAvLyBOb3RlIHRoYXQgTC5EcmF3LlBvbHlsaW5lIGxpc3RlbnMgdG8gJ21vdXNldXAnLCBub3QgJ21vdXNlZG93bicsIGJ1dFxuICAgIC8vIGlmIG9ubHkgJ21vdXNldXAnIGlzIHNpbGVuY2VkLCB0aGVuIHRoZSBtYXAgZ2V0cyBzdHVjayBpbiBhIGhhbGZ3YXlcbiAgICAvLyBzdGF0ZSBiZWNhdXNlIGl0IHJlY2VpdmVzIGEgJ21vdXNlZG93bicgZXZlbnQgYW5kIGlzIHdhaXRpbmcgZm9yIHRoZVxuICAgIC8vIGNvcnJlc3BvbmRpbmcgJ21vdXNldXAnIGV2ZW50LlxuICAgIHRoaXMuX2Rpc2FibGVkRXZlbnRzID0gW1xuICAgICAgJ2NsaWNrJywgJ21vdXNlbW92ZScsICdkYmxjbGljaycsXG4gICAgICAnbW91c2Vkb3duJywgJ21vdXNldXAnLCAndG91Y2hzdGFydCcsXG4gICAgXTtcblxuICAgIGZvciAoaiA9IDAsIG0gPSB0aGlzLl9kaXNhYmxlZEV2ZW50cy5sZW5ndGg7IGogPCBtOyBqKyspIHtcbiAgICAgIEwuRG9tRXZlbnQub24odGhpcy5fdWwsIHRoaXMuX2Rpc2FibGVkRXZlbnRzW2pdLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XG4gICAgfVxuXG4gICAgLyogSW5zdGFudGlhdGUgZWFjaCB0b29sYmFyIGFjdGlvbiBhbmQgYWRkIGl0cyBjb3JyZXNwb25kaW5nIHRvb2xiYXIgaWNvbi4gKi9cbiAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5vcHRpb25zLmFjdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBBY3Rpb24gPSB0aGlzLl9nZXRBY3Rpb25Db25zdHJ1Y3Rvcih0aGlzLm9wdGlvbnMuYWN0aW9uc1tpXSk7XG5cbiAgICAgIGFjdGlvbiA9IG5ldyBBY3Rpb24oKTtcbiAgICAgIGFjdGlvbi5fY3JlYXRlSWNvbih0aGlzLCB0aGlzLl91bCwgdGhpcy5fYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sXG59KTtcblxuXG5MLk9wYWNpdGllc0FjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGVkaXQgPSBvdmVybGF5LmVkaXRpbmc7XG4gICAgY29uc3QgbW9kZSA9IGVkaXQuX21vZGU7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ29wYWNpdGllcycsXG4gICAgICB0b29sdGlwOiAnU2V0IGN1c3RvbSBvcGFjaXR5JyxcbiAgICAgIGNsYXNzTmFtZTogbW9kZSA9PT0gJ2xvY2snID8gJ2Rpc2FibGVkJyA6ICcnLFxuICAgIH07XG5cbiAgICBvcHRpb25zLnN1YlRvb2xiYXIgPSBuZXcgTC5PcGFjaXRpZXNUb29sYmFyMih7XG4gICAgICBhY3Rpb25zOiBvcGFjaXRpZXMsXG4gICAgfSk7XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5vID0gbW9kZSA9PT0gJ2xvY2snID8gJycgOiAnX3NldE9wYWNpdGllcyc7XG5cbiAgICBMLkVkaXRBY3Rpb24ucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBtYXAsIG92ZXJsYXksIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IGxpbmsgPSB0aGlzLl9saW5rO1xuICAgIGlmIChMLkRvbVV0aWwuaGFzQ2xhc3MobGluaywgJ3N1YnRvb2xiYXJfZW5hYmxlZCcpKSB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MobGluaywgJ3N1YnRvb2xiYXJfZW5hYmxlZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5zdWJUb29sYmFyLl9oaWRlKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobGluaywgJ3N1YnRvb2xiYXJfZW5hYmxlZCcpO1xuICAgIH07XG5cbiAgICBMLkljb25VdGlsLnRvZ2dsZVhsaW5rKGxpbmssICdvcGFjaXRpZXMnLCAnY2FuY2VsJyk7XG4gICAgTC5JY29uVXRpbC50b2dnbGVUaXRsZShsaW5rLCAnTWFrZSBJbWFnZSBUcmFuc3BhcmVudCcsICdDYW5jZWwnKTtcbiAgfSxcbn0pO1xuIiwiTC5PcGFjaXR5QWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZWRpdCA9IG92ZXJsYXkuZWRpdGluZztcbiAgICBjb25zdCBtb2RlID0gZWRpdC5fbW9kZTtcbiAgICBsZXQgdXNlO1xuICAgIGxldCB0b29sdGlwO1xuXG4gICAgaWYgKGVkaXQuX3RyYW5zcGFyZW50KSB7XG4gICAgICB1c2UgPSAnb3BhY2l0eV9lbXB0eSc7XG4gICAgICB0b29sdGlwID0gb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLm1ha2VJbWFnZU9wYXF1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlID0gJ29wYWNpdHknO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5tYWtlSW1hZ2VUcmFuc3BhcmVudDtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogdXNlLFxuICAgICAgdG9vbHRpcDogdG9vbHRpcCxcbiAgICAgIGNsYXNzTmFtZTogbW9kZSA9PT0gJ2xvY2snID8gJ2Rpc2FibGVkJyA6ICcnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5vID0gbW9kZSA9PT0gJ2xvY2snID8gJycgOiAnX3RvZ2dsZU9wYWNpdHknO1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBlZGl0ID0gdGhpcy5fb3ZlcmxheS5lZGl0aW5nO1xuICAgIGNvbnN0IGxpbmsgPSB0aGlzLl9saW5rO1xuXG4gICAgTC5JY29uVXRpbC50b2dnbGVYbGluayhsaW5rLCAnb3BhY2l0eScsICdvcGFjaXR5X2VtcHR5Jyk7XG4gICAgTC5JY29uVXRpbC50b2dnbGVUaXRsZShsaW5rLCAnTWFrZSBJbWFnZSBUcmFuc3BhcmVudCcsICdNYWtlIEltYWdlIE9wYXF1ZScpO1xuICAgIGVkaXQuX3RvZ2dsZU9wYWNpdHkoKTtcbiAgfSxcbn0pO1xuIiwiTC5SZXN0b3JlQWN0aW9uID0gTC5FZGl0QWN0aW9uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwLCBvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgbW9kZSA9IEwuVXRpbHMuZ2V0TmVzdGVkVmFsKG92ZXJsYXksICdlZGl0aW5nJywgJ19tb2RlJyk7XG4gICAgY29uc3QgZWRpdGVkID0gb3ZlcmxheS5lZGl0ZWQ7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ3Jlc3RvcmUnLFxuICAgICAgdG9vbHRpcDogb3ZlcmxheS5vcHRpb25zLnRyYW5zbGF0aW9uLnJlc3RvcmVJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogZWRpdGVkICYmIG1vZGUgIT09ICdsb2NrJyA/ICcnIDogJ2Rpc2FibGVkJyxcbiAgICB9O1xuXG4gICAgTC5FZGl0QWN0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbWFwLCBvdmVybGF5LCBvcHRpb25zKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKG92LCB7XG4gICAgICBlZGl0OiB0aGlzLl9lbmFibGVBY3Rpb24sXG4gICAgICByZXN0b3JlOiB0aGlzLl9kaXNhYmxlQWN0aW9uLFxuICAgIH0sIHRoaXMpO1xuXG4gICAgb3YucmVzdG9yZSgpO1xuICB9LFxufSk7XG4iLCJMLlJvdGF0ZUFjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAncm90YXRlJyxcbiAgICAgIHRvb2x0aXA6IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5yb3RhdGVJbWFnZSxcbiAgICAgIGNsYXNzTmFtZTogJ3JvdGF0ZScsXG4gICAgfTtcblxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5hY3Rpb25fbWFwLnIgPSAnX3JvdGF0ZU1vZGUnO1xuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcbiAgICBlZGl0Ll9yb3RhdGVNb2RlKCk7XG4gIH0sXG59KTtcbiIsIkwuU2NhbGVBY3Rpb24gPSBMLkVkaXRBY3Rpb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXAsIG92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnRvb2xiYXJJY29uID0ge1xuICAgICAgc3ZnOiB0cnVlLFxuICAgICAgaHRtbDogJ3NjYWxlJyxcbiAgICAgIHRvb2x0aXA6IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5zY2FsZUltYWdlLFxuICAgICAgY2xhc3NOYW1lOiAnc2NhbGUnLFxuICAgIH07XG5cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5zID0gJ19zY2FsZU1vZGUnO1xuICAgIEwuRWRpdEFjdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG1hcCwgb3ZlcmxheSwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZWRpdCA9IHRoaXMuX292ZXJsYXkuZWRpdGluZztcbiAgICBlZGl0Ll9zY2FsZU1vZGUoKTtcbiAgfSxcbn0pO1xuIiwiTC5TdGFja0FjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGVkaXQgPSBvdmVybGF5LmVkaXRpbmc7XG4gICAgbGV0IHVzZTtcbiAgICBsZXQgdG9vbHRpcDtcblxuICAgIGlmIChlZGl0Ll90b2dnbGVkSW1hZ2UpIHtcbiAgICAgIHVzZSA9ICdmbGlwX3RvX2JhY2snO1xuICAgICAgdG9vbHRpcCA9IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi5zdGFja1RvRnJvbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZSA9ICdmbGlwX3RvX2Zyb250JztcbiAgICAgIHRvb2x0aXAgPSBvdmVybGF5Lm9wdGlvbnMudHJhbnNsYXRpb24uc3RhY2tUb0JhY2s7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50b29sYmFySWNvbiA9IHtcbiAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgIGh0bWw6IHVzZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBjbGFzc05hbWU6IGVkaXQuX21vZGUgPT09ICdsb2NrJyA/ICdkaXNhYmxlZCcgOiAnJyxcbiAgICB9O1xuXG4gICAgTC5EaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAucSA9IGVkaXQuX21vZGUgPT09ICdsb2NrJyA/ICcnIDogJ19zdGFja1VwJztcbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcC5hID0gZWRpdC5fbW9kZSA9PT0gJ2xvY2snID8gJycgOiAnX3N0YWNrRG93bic7XG5cbiAgICBMLkVkaXRBY3Rpb24ucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBtYXAsIG92ZXJsYXksIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLl9vdmVybGF5LmVkaXRpbmc7XG5cbiAgICBMLkljb25VdGlsLnRvZ2dsZVhsaW5rKHRoaXMuX2xpbmssICdmbGlwX3RvX2Zyb250JywgJ2ZsaXBfdG9fYmFjaycpO1xuICAgIEwuSWNvblV0aWwudG9nZ2xlVGl0bGUodGhpcy5fbGluaywgJ1N0YWNrIHRvIEZyb250JywgJ1N0YWNrIHRvIEJhY2snKTtcbiAgICBlZGl0Ll90b2dnbGVPcmRlcigpO1xuICB9LFxufSk7XG4iLCJMLlVubG9ja0FjdGlvbiA9IEwuRWRpdEFjdGlvbi5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCwgb3ZlcmxheSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudG9vbGJhckljb24gPSB7XG4gICAgICBzdmc6IHRydWUsXG4gICAgICBodG1sOiAndW5sb2NrJyxcbiAgICAgIHRvb2x0aXA6IG92ZXJsYXkub3B0aW9ucy50cmFuc2xhdGlvbi51bmxvY2tJbWFnZXMsXG4gICAgfTtcblxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5ncm91cF9hY3Rpb25fbWFwLnUgPSAnX3VubG9ja0dyb3VwJztcbiAgICBMLkVkaXRBY3Rpb24ucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBtYXAsIG92ZXJsYXksIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGNvbnN0IGVkaXQgPSB0aGlzLl9vdmVybGF5LmVkaXRpbmc7XG4gICAgZWRpdC5fdW5sb2NrR3JvdXAoKTtcbiAgfSxcbn0pO1xuIiwiTC5EaXN0b3J0YWJsZUltYWdlID0gTC5EaXN0b3J0YWJsZUltYWdlIHx8IHt9O1xuTC5kaXN0b3J0YWJsZUltYWdlID0gTC5EaXN0b3J0YWJsZUltYWdlO1xuXG5MLkRpc3RvcnRhYmxlSW1hZ2UuYWN0aW9uX21hcCA9IHt9O1xuXG5MLkRpc3RvcnRhYmxlSW1hZ2UuUG9wdXBCYXIgPSBMLlRvb2xiYXIyLlBvcHVwLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBhbmNob3I6IFswLCAtMTBdLFxuICB9LFxuXG4gIGluaXRpYWxpemUobGF0bG5nLCBvcHRpb25zKSB7XG4gICAgTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIEwuVG9vbGJhcjIuUG9wdXAucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBsYXRsbmcsIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKG1hcCwgb3YpIHtcbiAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICB0aGlzLm92ID0gb3Y7XG4gIH0sXG5cbiAgdG9vbHMoKSB7XG4gICAgaWYgKHRoaXMuX3VsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdWwuY2hpbGRyZW47XG4gICAgfVxuICB9LFxuXG4gIGNsaWNrVG9vbChuYW1lKSB7XG4gICAgY29uc3QgdG9vbHMgPSB0aGlzLnRvb2xzKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b29scy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdG9vbCA9IHRvb2xzLml0ZW0oaSkuY2hpbGRyZW5bMF07XG4gICAgICBpZiAoTC5Eb21VdGlsLmhhc0NsYXNzKHRvb2wsIG5hbWUpKSB7XG4gICAgICAgIHRvb2wuY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRvb2w7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbn0pO1xuXG5MLmRpc3RvcnRhYmxlSW1hZ2UucG9wdXBCYXIgPSBmdW5jdGlvbihsYXRsbmcsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlSW1hZ2UuUG9wdXBCYXIobGF0bG5nLCBvcHRpb25zKTtcbn07XG5cbkwuRGlzdG9ydGFibGVJbWFnZU92ZXJsYXkuYWRkSW5pdEhvb2soZnVuY3Rpb24oKSB7XG4gIC8qKiBEZWZhdWx0IGFjdGlvbnMgKi9cbiAgdGhpcy5BQ1RJT05TID0gW1xuICAgIEwuRHJhZ0FjdGlvbixcbiAgICBMLlNjYWxlQWN0aW9uLFxuICAgIEwuRGlzdG9ydEFjdGlvbixcbiAgICBMLlJvdGF0ZUFjdGlvbixcbiAgICBMLkZyZWVSb3RhdGVBY3Rpb24sXG4gICAgTC5Mb2NrQWN0aW9uLFxuICAgIEwuT3BhY2l0eUFjdGlvbixcbiAgICBMLk9wYWNpdGllc0FjdGlvbixcbiAgICBMLkJvcmRlckFjdGlvbixcbiAgICBMLkV4cG9ydEFjdGlvbixcbiAgICBMLkRlbGV0ZUFjdGlvbixcbiAgXTtcblxuICAvLyBhbGwgcG9zc2libGUgbW9kZXNcbiAgTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVMgPSB7XG4gICAgZHJhZzogTC5EcmFnQWN0aW9uLFxuICAgIHNjYWxlOiBMLlNjYWxlQWN0aW9uLFxuICAgIGRpc3RvcnQ6IEwuRGlzdG9ydEFjdGlvbixcbiAgICByb3RhdGU6IEwuUm90YXRlQWN0aW9uLFxuICAgIGZyZWVSb3RhdGU6IEwuRnJlZVJvdGF0ZUFjdGlvbixcbiAgICBsb2NrOiBMLkxvY2tBY3Rpb24sXG4gIH07XG5cbiAgY29uc3QgYSA9IHRoaXMub3B0aW9ucy5hY3Rpb25zID8gdGhpcy5vcHRpb25zLmFjdGlvbnMgOiB0aGlzLkFDVElPTlM7XG5cbiAgdGhpcy5lZGl0aW5nID0gTC5kaXN0b3J0YWJsZUltYWdlLmVkaXQodGhpcywge2FjdGlvbnM6IGF9KTtcbn0pO1xuIiwiTC5kaXN0b3J0YWJsZUltYWdlID0gTC5EaXN0b3J0YWJsZUltYWdlIHx8IHt9O1xuTC5kaXN0b3J0YWJsZUltYWdlID0gTC5EaXN0b3J0YWJsZUltYWdlO1xuXG5MLkRpc3RvcnRhYmxlSW1hZ2UuZ3JvdXBfYWN0aW9uX21hcCA9IHt9O1xuXG5MLkRpc3RvcnRhYmxlSW1hZ2UuQ29udHJvbEJhciA9IEwuVG9vbGJhcjIuQ29udHJvbC5leHRlbmQoe30pO1xuXG5MLmRpc3RvcnRhYmxlSW1hZ2UuY29udHJvbEJhciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlSW1hZ2UuQ29udHJvbEJhcihvcHRpb25zKTtcbn07XG5cbi8qKiBhZGRJbml0SG9va3MgcnVuIGJlZm9yZSBvbkFkZCAqL1xuTC5EaXN0b3J0YWJsZUNvbGxlY3Rpb24uYWRkSW5pdEhvb2soZnVuY3Rpb24oKSB7XG4gIC8qKiBEZWZhdWx0IGFjdGlvbnMgKi9cbiAgdGhpcy5BQ1RJT05TID0gW1xuICAgIEwuRXhwb3J0QWN0aW9uLFxuICAgIEwuRGVsZXRlQWN0aW9uLFxuICAgIEwuTG9ja0FjdGlvbixcbiAgICBMLlVubG9ja0FjdGlvbixcbiAgXTtcblxuICAvLyBhbGwgcG9zc2libGUgbW9kZXNcbiAgTC5EaXN0b3J0YWJsZUNvbGxlY3Rpb24uRWRpdC5NT0RFUyA9IHtcbiAgICBsb2NrOiBMLkxvY2tBY3Rpb24sXG4gICAgdW5sb2NrOiBMLlVubG9ja0FjdGlvbixcbiAgfTtcblxuICBjb25zdCBhID0gdGhpcy5vcHRpb25zLmFjdGlvbnMgPyB0aGlzLm9wdGlvbnMuYWN0aW9ucyA6IHRoaXMuQUNUSU9OUztcblxuICB0aGlzLmVkaXRpbmcgPSBMLmRpc3RvcnRhYmxlQ29sbGVjdGlvbi5lZGl0KHRoaXMsIHthY3Rpb25zOiBhfSk7XG59KTtcbiIsIkwuRGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZSB8fCB7fTtcblxuLy8gaG9sZHMgdGhlIGtleWJpbmRpbmdzICYgdG9vbGJhciBBUEkgZm9yIGFuIGluZGl2aWR1YWwgaW1hZ2UgaW5zdGFuY2VcbkwuRGlzdG9ydGFibGVJbWFnZS5FZGl0ID0gTC5IYW5kbGVyLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgb3V0bGluZTogJzFweCBzb2xpZCByZWQnLFxuICAgIGtleW1hcDogTC5kaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAsXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZShvdmVybGF5LCBvcHRpb25zKSB7XG4gICAgdGhpcy5fb3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgdGhpcy5fdG9nZ2xlZEltYWdlID0gZmFsc2U7XG4gICAgdGhpcy5fbW9kZSA9IG92ZXJsYXkub3B0aW9ucy5tb2RlO1xuICAgIHRoaXMuX3RyYW5zcGFyZW50ID0gZmFsc2U7XG4gICAgdGhpcy5fb3V0bGluZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9vcGFjaXR5ID0gb3B0aW9ucy5vcGFjaXR5O1xuXG4gICAgTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgTC5kaXN0b3J0YWJsZUltYWdlLmFjdGlvbl9tYXAuRXNjYXBlID0gJ19kZXNlbGVjdCc7XG4gIH0sXG5cbiAgLyogUnVuIG9uIGltYWdlIHNlbGVjdGlvbi4gKi9cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuX292ZXJsYXk7XG5cbiAgICB0aGlzLmVkaXRBY3Rpb25zID0gdGhpcy5vcHRpb25zLmFjdGlvbnM7XG5cbiAgICAvKiBicmluZyB0aGUgc2VsZWN0ZWQgaW1hZ2UgaW50byB2aWV3ICovXG4gICAgb3ZlcmxheS5icmluZ1RvRnJvbnQoKTtcbiAgICB0aGlzLl9pbml0TW9kZXMoKTtcbiAgICB0aGlzLl9pbml0SGFuZGxlcygpO1xuICAgIHRoaXMuX2FwcGVuZEhhbmRsZXNhbmREcmFnYWJsZSgpO1xuXG4gICAgaWYgKG92ZXJsYXkuaXNTZWxlY3RlZCgpICYmICFvdmVybGF5Lm9wdGlvbnMuc3VwcHJlc3NUb29sYmFyKSB7XG4gICAgICB0aGlzLl9hZGRUb29sYmFyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJlbnRHcm91cCA9IG92ZXJsYXkuZVAgPyBvdmVybGF5LmVQIDogZmFsc2U7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKG92ZXJsYXkuZ2V0RWxlbWVudCgpLCB7XG4gICAgICBkYmxjbGljazogdGhpcy5uZXh0TW9kZSxcbiAgICB9LCB0aGlzKTtcblxuICAgIEwuRG9tRXZlbnQub24od2luZG93LCAna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgdGhpcyk7XG4gIH0sXG5cbiAgLyogUnVuIG9uIGltYWdlIGRlc2VsZWN0aW9uLiAqL1xuICByZW1vdmVIb29rcygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG5cbiAgICAvLyBGaXJzdCwgY2hlY2sgaWYgZHJhZ2dpbmcgZXhpc3RzIC0gaXQgbWF5IGJlIG9mZiBkdWUgdG8gbG9ja2luZ1xuICAgIHRoaXMuX2Rpc2FibGVEcmFnZ2luZygpO1xuXG4gICAgaWYgKHRoaXMudG9vbGJhcikgeyB0aGlzLl9yZW1vdmVUb29sYmFyKCk7IH1cblxuICAgIGZvciAoY29uc3QgaGFuZGxlIGluIHRoaXMuX2hhbmRsZXMpIHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmUoaGFuZGxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBlbnN1cmVzIGlmIHlvdSBkaXNhYmxlIGFuIGltYWdlIHdoaWxlIGl0IGlzIG11bHRpLXNlbGVjdGVkXG4gICAgICogYWRkaXRpb25hbCBkZXNlbGVjdGlvbiBsb2dpYyBpcyBydW5cbiAgICAgKi9cbiAgICBpZiAoTC5Eb21VdGlsLmhhc0NsYXNzKG92ZXJsYXkuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJykpIHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhvdmVybGF5LmdldEVsZW1lbnQoKSwgJ2NvbGxlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChlUCAmJiAoIWVQLmFueUNvbGxlY3RlZCgpICYmIGVQLmVkaXRpbmcudG9vbGJhcikpIHtcbiAgICAgIGVQLmVkaXRpbmcuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICB9XG5cbiAgICBMLkRvbUV2ZW50Lm9mZihvdmVybGF5LmdldEVsZW1lbnQoKSwge1xuICAgICAgZGJsY2xpY2s6IHRoaXMubmV4dE1vZGUsXG4gICAgfSwgdGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZih3aW5kb3csICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzKTtcbiAgfSxcblxuICBkaXNhYmxlKCkge1xuICAgIGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgdGhpcy5fb3ZlcmxheS5kZXNlbGVjdCgpO1xuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbW92ZUhvb2tzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX2luaXRNb2RlcygpIHtcbiAgICB0aGlzLl9tb2RlcyA9IHt9O1xuICAgIC8vIHBhc3NlZCBmcm9tIEwuRGlzdG9ydGFibEltYWdlLlBvcHVwQmFyLiBJZiB0aGUgbW9kZSBpcyBvbmVcbiAgICAvLyBvZiB0aGUgY3VycmVudCB0b29sYmFyIGFjdGlvbnMsIGFkZHMgaXQgdG8gdGhpcy5fbW9kZXNcbiAgICBmb3IgKGNvbnN0IG1vZGUgaW4gTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVMpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTW21vZGVdO1xuICAgICAgaWYgKHRoaXMuZWRpdEFjdGlvbnMuaW5kZXhPZihhY3Rpb24pICE9PSAtMSkge1xuICAgICAgICB0aGlzLl9tb2Rlc1ttb2RlXSA9IGFjdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXRzIHRoZSBjdXJyZW50IG1vZGUgdG8gdGhlIDFzdCBhdmFpbGFibGUgb25lIGlmIHRoZSBvbmUgc2VsZWN0ZWRcbiAgICAvLyBkdXJpbmcgaW5pdGlhbGl6YXRpb24gaXMgbm90IGF2YWlsYWJsZVxuICAgIGlmICghdGhpcy5fbW9kZXNbdGhpcy5fbW9kZV0pIHtcbiAgICAgIHRoaXMuX21vZGUgPSBPYmplY3Qua2V5cyh0aGlzLl9tb2RlcylbMF07XG4gICAgfVxuICB9LFxuXG5cbiAgX2luaXRIYW5kbGVzKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9vdmVybGF5O1xuICAgIGxldCBpO1xuXG4gICAgdGhpcy5fZHJhZ0hhbmRsZXMgPSBMLmxheWVyR3JvdXAoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLl9kcmFnSGFuZGxlcy5hZGRMYXllcihMLmRyYWdIYW5kbGUob3ZlcmxheSwgaSkpO1xuICAgIH1cblxuICAgIHRoaXMuX3NjYWxlSGFuZGxlcyA9IEwubGF5ZXJHcm91cCgpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuX3NjYWxlSGFuZGxlcy5hZGRMYXllcihMLnNjYWxlSGFuZGxlKG92ZXJsYXksIGkpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kaXN0b3J0SGFuZGxlcyA9IEwubGF5ZXJHcm91cCgpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuX2Rpc3RvcnRIYW5kbGVzLmFkZExheWVyKEwuZGlzdG9ydEhhbmRsZShvdmVybGF5LCBpKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcm90YXRlSGFuZGxlcyA9IEwubGF5ZXJHcm91cCgpOyAvLyBpbmRpdmlkdWFsIHJvdGF0ZVxuICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuX3JvdGF0ZUhhbmRsZXMuYWRkTGF5ZXIoTC5yb3RhdGVIYW5kbGUob3ZlcmxheSwgaSkpO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBpbmNsdWRlcyByb3RhdGUgQU5EIHNjYWxlXG4gICAgdGhpcy5fZnJlZVJvdGF0ZUhhbmRsZXMgPSBMLmxheWVyR3JvdXAoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLl9mcmVlUm90YXRlSGFuZGxlcy5hZGRMYXllcihMLmZyZWVSb3RhdGVIYW5kbGUob3ZlcmxheSwgaSkpO1xuICAgIH1cblxuICAgIHRoaXMuX2xvY2tIYW5kbGVzID0gTC5sYXllckdyb3VwKCk7XG4gICAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGhpcy5fbG9ja0hhbmRsZXMuYWRkTGF5ZXIoTC5sb2NrSGFuZGxlKG92ZXJsYXksIGksIHtkcmFnZ2FibGU6IGZhbHNlfSkpO1xuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZXMgPSB7XG4gICAgICBkcmFnOiB0aGlzLl9kcmFnSGFuZGxlcyxcbiAgICAgIHNjYWxlOiB0aGlzLl9zY2FsZUhhbmRsZXMsXG4gICAgICBkaXN0b3J0OiB0aGlzLl9kaXN0b3J0SGFuZGxlcyxcbiAgICAgIHJvdGF0ZTogdGhpcy5fcm90YXRlSGFuZGxlcyxcbiAgICAgIGZyZWVSb3RhdGU6IHRoaXMuX2ZyZWVSb3RhdGVIYW5kbGVzLFxuICAgICAgbG9jazogdGhpcy5fbG9ja0hhbmRsZXMsXG4gICAgfTtcbiAgfSxcblxuICBfYXBwZW5kSGFuZGxlc2FuZERyYWdhYmxlKCkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcblxuICAgIC8vIHdvbid0IHRocm93IGVycm9yIGlmIHVzZXIgYWRkcyAwIG1vZGUgYWN0aW9ucyB0byB0b29sYmFyXG4gICAgaWYgKCF0aGlzLl9tb2RlKSB7XG4gICAgICB0aGlzLl9lbmFibGVEcmFnZ2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUhhbmRsZSgpO1xuXG4gICAgaWYgKCFvdi5pc1NlbGVjdGVkKCkgJiYgdGhpcy5jdXJyZW50SGFuZGxlKSB7XG4gICAgICB0aGlzLmN1cnJlbnRIYW5kbGUuZWFjaExheWVyKChoYW5kbGUpID0+IHtcbiAgICAgICAgaGFuZGxlLnNldE9wYWNpdHkoMCk7XG4gICAgICAgIGlmIChoYW5kbGUuZHJhZ2dpbmcpIHsgaGFuZGxlLmRyYWdnaW5nLmRpc2FibGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pc01vZGUoJ2xvY2snKSkgeyB0aGlzLl9lbmFibGVEcmFnZ2luZygpOyB9XG4gIH0sXG5cbiAgX29uS2V5RG93bihlKSB7XG4gICAgY29uc3Qga2V5bWFwID0gdGhpcy5vcHRpb25zLmtleW1hcDtcbiAgICBjb25zdCBoYW5kbGVyTmFtZSA9IGtleW1hcFtlLmtleV07XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcblxuICAgIGlmIChlUCAmJiBlUC5hbnlDb2xsZWN0ZWQoKSkgeyByZXR1cm47IH1cblxuICAgIGlmICh0aGlzW2hhbmRsZXJOYW1lXSAhPT0gdW5kZWZpbmVkICYmICFvdi5vcHRpb25zLnN1cHByZXNzVG9vbGJhcikge1xuICAgICAgaWYgKG92LmlzU2VsZWN0ZWQoKSAmJiB0aGlzLnRvb2xiYXIpIHtcbiAgICAgICAgdGhpc1toYW5kbGVyTmFtZV0uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcmVwbGFjZVRvb2wob2xkLCBuZXh0KSB7XG4gICAgaWYgKG5leHQuYmFzZUNsYXNzICE9PSAnbGVhZmxldC10b29sYmFyLWljb24nIHx8IHRoaXMuaGFzVG9vbChuZXh0KSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMuZWRpdEFjdGlvbnMuc29tZSgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICBpZiAoaXRlbSA9PT0gb2xkKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICAgICAgdGhpcy5lZGl0QWN0aW9uc1tpZHhdID0gbmV4dDtcbiAgICAgICAgdGhpcy5fYWRkVG9vbGJhcigpO1xuICAgICAgICBmb3IgKGNvbnN0IG1vZGUgaW4gTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVMpIHtcbiAgICAgICAgICBpZiAoTC5EaXN0b3J0YWJsZUltYWdlLkVkaXQuTU9ERVNbbW9kZV0gPT09IG9sZCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVzW21vZGVdO1xuICAgICAgICAgICAgdGhpcy5fbmV4dE9yTm9uZShtb2RlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTW21vZGVdID09PSBuZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9tb2Rlc1ttb2RlXSA9IG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGFkZFRvb2wodmFsdWUpIHtcbiAgICBpZiAodmFsdWUuYmFzZUNsYXNzID09PSAnbGVhZmxldC10b29sYmFyLWljb24nICYmICF0aGlzLmhhc1Rvb2wodmFsdWUpKSB7XG4gICAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgICB0aGlzLmVkaXRBY3Rpb25zLnB1c2godmFsdWUpO1xuICAgICAgdGhpcy5fYWRkVG9vbGJhcigpO1xuICAgICAgZm9yIChjb25zdCBtb2RlIGluIEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0Lk1PREVTKSB7XG4gICAgICAgIGlmIChMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdC5NT0RFU1ttb2RlXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICB0aGlzLl9tb2Rlc1ttb2RlXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX292ZXJsYXkuaXNTZWxlY3RlZCgpKSB7IHRoaXMuX3JlbW92ZVRvb2xiYXIoKTsgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBoYXNUb29sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZWRpdEFjdGlvbnMuc29tZShhY3Rpb24gPT4gYWN0aW9uID09PSB2YWx1ZSk7XG4gIH0sXG5cbiAgcmVtb3ZlVG9vbCh2YWx1ZSkge1xuICAgIHRoaXMuZWRpdEFjdGlvbnMuc29tZSgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICBpZiAoaXRlbSA9PT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlVG9vbGJhcigpO1xuICAgICAgICB0aGlzLmVkaXRBY3Rpb25zLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB0aGlzLl9hZGRUb29sYmFyKCk7XG4gICAgICAgIGZvciAoY29uc3QgbW9kZSBpbiBMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdC5NT0RFUykge1xuICAgICAgICAgIGlmIChMLkRpc3RvcnRhYmxlSW1hZ2UuRWRpdC5NT0RFU1ttb2RlXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9tb2Rlc1ttb2RlXTtcbiAgICAgICAgICAgIHRoaXMuX25leHRPck5vbmUobW9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghdGhpcy5fb3ZlcmxheS5pc1NlbGVjdGVkKCkpIHsgdGhpcy5fcmVtb3ZlVG9vbGJhcigpOyB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLy8gc2V0IHRoZSBtb2RlIHRvIHRoZSBuZXh0IG1vZGUgb3IgaWYgdGhhdCB3YXMgdGhlIGxhc3Qgb25lIHNldCBtb2RlIHRvICcnXG4gIF9uZXh0T3JOb25lKG1vZGUpIHtcbiAgICBpZiAodGhpcy5pc01vZGUobW9kZSkpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmdldE1vZGVzKCkpLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHRoaXMubmV4dE1vZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtb2RlID09PSAnbG9jaycpIHsgdGhpcy5fZW5hYmxlRHJhZ2dpbmcoKTsgfVxuICAgICAgICB0aGlzLl9tb2RlID0gJyc7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUhhbmRsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfcmVtb3ZlVG9vbGJhcigpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgbWFwID0gb3YuX21hcDtcblxuICAgIGlmICh0aGlzLnRvb2xiYXIpIHtcbiAgICAgIG1hcC5yZW1vdmVMYXllcih0aGlzLnRvb2xiYXIpO1xuICAgICAgdGhpcy50b29sYmFyID0gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIF9lbmFibGVEcmFnZ2luZygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBtYXAgPSBvdmVybGF5Ll9tYXA7XG5cbiAgICB0aGlzLmRyYWdnaW5nID0gbmV3IEwuRHJhZ2dhYmxlKG92ZXJsYXkuZ2V0RWxlbWVudCgpKTtcbiAgICB0aGlzLmRyYWdnaW5nLmVuYWJsZSgpO1xuXG4gICAgLyogSGlkZSB0b29sYmFycyBhbmQgbWFya2VycyB3aGlsZSBkcmFnZ2luZzsgY2xpY2sgd2lsbCByZS1zaG93IGl0ICovXG4gICAgdGhpcy5kcmFnZ2luZy5vbignZHJhZ3N0YXJ0JywgKCkgPT4ge1xuICAgICAgb3ZlcmxheS5maXJlKCdkcmFnc3RhcnQnKTtcbiAgICAgIHRoaXMuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogQWRqdXN0IGRlZmF1bHQgYmVoYXZpb3Igb2YgTC5EcmFnZ2FibGUsIHdoaWNoIG92ZXJ3cml0ZXMgdGhlIENTUzNcbiAgICAgKiBkaXN0b3J0IHRyYW5zZm9ybWF0aW9ucyB0aGF0IHdlIHNldCB3aGVuIGl0IGNhbGxzIEwuRG9tVXRpbC5zZXRQb3NpdGlvbi5cbiAgICAgKi9cbiAgICB0aGlzLmRyYWdnaW5nLl91cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgdG9wTGVmdCA9IG92ZXJsYXkuZ2V0Q29ybmVyKDApO1xuICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLl9uZXdQb3Muc3VidHJhY3QobWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0b3BMZWZ0KSk7XG4gICAgICBsZXQgY3VycmVudFBvaW50O1xuICAgICAgY29uc3QgY29ybmVycyA9IHt9O1xuICAgICAgbGV0IGk7XG5cbiAgICAgIHRoaXMuZmlyZSgncHJlZHJhZycpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRQb2ludCA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoaSkpO1xuICAgICAgICBjb3JuZXJzW2ldID0gbWFwLmxheWVyUG9pbnRUb0xhdExuZyhjdXJyZW50UG9pbnQuYWRkKGRlbHRhKSk7XG4gICAgICB9XG5cbiAgICAgIG92ZXJsYXkuc2V0Q29ybmVycyhjb3JuZXJzKTtcbiAgICAgIG92ZXJsYXkuZmlyZSgnZHJhZycpO1xuXG4gICAgICB0aGlzLmZpcmUoJ2RyYWcnKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmFnZ2luZy5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgIG92ZXJsYXkuZmlyZSgnZHJhZ2VuZCcpO1xuICAgIH0pO1xuICB9LFxuXG4gIF9kaXNhYmxlRHJhZ2dpbmcoKSB7XG4gICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgIHRoaXMuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgICAgZGVsZXRlIHRoaXMuZHJhZ2dpbmc7XG4gICAgfVxuICB9LFxuXG4gIF9kcmFnTW9kZSgpIHtcbiAgICB0aGlzLnNldE1vZGUoJ2RyYWcnKTtcbiAgfSxcblxuICBfc2NhbGVNb2RlKCkge1xuICAgIHRoaXMuc2V0TW9kZSgnc2NhbGUnKTtcbiAgfSxcblxuICBfZGlzdG9ydE1vZGUoKSB7XG4gICAgdGhpcy5zZXRNb2RlKCdkaXN0b3J0Jyk7XG4gIH0sXG5cbiAgX3JvdGF0ZU1vZGUoKSB7XG4gICAgdGhpcy5zZXRNb2RlKCdyb3RhdGUnKTtcbiAgfSxcblxuICBfZnJlZVJvdGF0ZU1vZGUoKSB7XG4gICAgdGhpcy5zZXRNb2RlKCdmcmVlUm90YXRlJyk7XG4gIH0sXG5cbiAgX3RvZ2dsZUxvY2tNb2RlKCkge1xuICAgIGlmICh0aGlzLmlzTW9kZSgnbG9jaycpKSB7IHRoaXMuX3VubG9jaygpOyB9XG4gICAgZWxzZSB7IHRoaXMuX2xvY2soKTsgfVxuICB9LFxuXG4gIF90b2dnbGVPcGFjaXR5KCkge1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5fb3ZlcmxheS5nZXRFbGVtZW50KCk7XG5cbiAgICBpZiAoIXRoaXMuaGFzVG9vbChMLk9wYWNpdHlBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5fdHJhbnNwYXJlbnQgPSAhdGhpcy5fdHJhbnNwYXJlbnQ7XG4gICAgY29uc3Qgb3BhY2l0eSA9IHRoaXMuX3RyYW5zcGFyZW50ID8gdGhpcy5vcHRpb25zLm9wYWNpdHkgOiAxO1xuXG4gICAgTC5Eb21VdGlsLnNldE9wYWNpdHkoaW1hZ2UsIG9wYWNpdHkpO1xuICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIG9wYWNpdHkpO1xuXG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9LFxuXG4gIF9zZXRPcGFjaXRpZXMobykge1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5fb3ZlcmxheS5nZXRFbGVtZW50KCk7XG4gICAgdGhpcy5fb3BhY2l0eSA9IG87XG4gICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5PcGFjaXRpZXNBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgKHRoaXMuX29wYWNpdHkgPCAxKSA/IHRoaXMuX3RyYW5zcGFyZW50ID0gdHJ1ZSA6IHRoaXMuX3RyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICBMLkRvbVV0aWwuc2V0T3BhY2l0eShpbWFnZSwgdGhpcy5fb3BhY2l0eSk7XG4gICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdvcGFjaXR5JywgdGhpcy5fb3BhY2l0eSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH0sXG5cbiAgX3RvZ2dsZUJvcmRlcigpIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX292ZXJsYXkuZ2V0RWxlbWVudCgpO1xuXG4gICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5Cb3JkZXJBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5fb3V0bGluZWQgPSAhdGhpcy5fb3V0bGluZWQ7XG4gICAgY29uc3Qgb3V0bGluZSA9IHRoaXMuX291dGxpbmVkID8gdGhpcy5vcHRpb25zLm91dGxpbmUgOiAnbm9uZSc7XG5cbiAgICBpbWFnZS5zdHlsZS5vdXRsaW5lID0gb3V0bGluZTtcblxuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfSxcblxuICAvLyBjb21wYXJlIHRoaXMgdG8gdXNpbmcgb3ZlcmxheSB6SW5kZXhcbiAgX3RvZ2dsZU9yZGVyKCkge1xuICAgIGlmICh0aGlzLl90b2dnbGVkSW1hZ2UpIHsgdGhpcy5fc3RhY2tVcCgpOyB9XG4gICAgZWxzZSB7IHRoaXMuX3N0YWNrRG93bigpOyB9XG4gIH0sXG5cbiAgX3JlbW92ZU92ZXJsYXkoKSB7XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcblxuICAgIGlmICh0aGlzLmlzTW9kZSgnbG9jaycpIHx8ICF0aGlzLmhhc1Rvb2woTC5EZWxldGVBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgY2hvaWNlID0gTC5Eb21VdGlsLmNvbmZpcm1EZWxldGUoKTtcbiAgICBpZiAoIWNob2ljZSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuX3JlbW92ZVRvb2xiYXIoKTtcblxuICAgIGlmIChlUCkgeyBlUC5yZW1vdmVMYXllcihvdik7IH1cbiAgICBlbHNlIHsgb3YuX21hcC5yZW1vdmVMYXllcihvdik7IH1cbiAgfSxcblxuICAvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vcHVibGljbGFiL21hcGtuaXR0ZXIvYmxvYi84ZDk0MTMyYzgxYjMwNDBhZTBkMGI0NjI3ZTY4NWZmNzUyNzViNDE2L2FwcC9hc3NldHMvamF2YXNjcmlwdHMvbWFwa25pdHRlci9NYXAuanMjTDQ3LUw4MlxuICBfZ2V0RXhwb3J0KCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IG1hcCA9IG92ZXJsYXkuX21hcDtcbiAgICBjb25zdCBpbWcgPSBvdmVybGF5LmdldEVsZW1lbnQoKTtcblxuICAgIGlmICghdGhpcy5oYXNUb29sKEwuRXhwb3J0QWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIC8vIG1ha2UgYSBuZXcgaW1hZ2VcbiAgICBjb25zdCBkb3dubG9hZGFibGUgPSBuZXcgSW1hZ2UoKTtcblxuICAgIGRvd25sb2FkYWJsZS5pZCA9IGRvd25sb2FkYWJsZS5pZCB8fCAndGVtcElkMTIzNDUnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRhYmxlKTtcblxuICAgIGRvd25sb2FkYWJsZS5vbmxvYWQgPSBmdW5jdGlvbiBvbkxvYWREb3dubG9hZGFibGVJbWFnZSgpIHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGRvd25sb2FkYWJsZS5oZWlnaHQ7XG4gICAgICBjb25zdCB3aWR0aCA9IGRvd25sb2FkYWJsZS53aWR0aDtcbiAgICAgIGNvbnN0IG53ID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigwKSk7XG4gICAgICBjb25zdCBuZSA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQob3ZlcmxheS5nZXRDb3JuZXIoMSkpO1xuICAgICAgY29uc3Qgc3cgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KG92ZXJsYXkuZ2V0Q29ybmVyKDIpKTtcbiAgICAgIGNvbnN0IHNlID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChvdmVybGF5LmdldENvcm5lcigzKSk7XG5cbiAgICAgIC8vIEkgdGhpbmsgdGhpcyBpcyB0byBtb3ZlIHRoZSBpbWFnZSB0byB0aGUgdXBwZXIgbGVmdCBjb3JuZXIsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgLy8ganl3YXJyZW46IGkgdGhpbmsgd2UgbWF5IG5lZWQgdGhlc2Ugb3IgdGhlIGltYWdlIGdvZXMgb2ZmIHRoZSBlZGdlIG9mIHRoZSBjYW52YXNcbiAgICAgIC8vIGp5d2FycmVuOiBidXQgdGhlc2Ugc2VlbSB0byBicmVhayB0aGUgZGlzdG9ydGlvbiBtYXRoLi4uXG5cbiAgICAgIC8vIGp5d2FycmVuOiBpIHRoaW5rIGl0IHNob3VsZCBiZSByZWppZ2dlcmVkIHNvIGl0XG4gICAgICAvLyBmaW5kcyB0aGUgbW9zdCBuZWdhdGl2ZSB2YWx1ZXMgb2YgeCBhbmQgeSBhbmQgdGhlblxuICAgICAgLy8gYWRkcyB0aG9zZSB0byBhbGwgY29vcmRpbmF0ZXNcblxuICAgICAgLy8gbncueCAtPSBudy54O1xuICAgICAgLy8gbmUueCAtPSBudy54O1xuICAgICAgLy8gc2UueCAtPSBudy54O1xuICAgICAgLy8gc3cueCAtPSBudy54O1xuXG4gICAgICAvLyBudy55IC09IG53Lnk7XG4gICAgICAvLyBuZS55IC09IG53Lnk7XG4gICAgICAvLyBzZS55IC09IG53Lnk7XG4gICAgICAvLyBzdy55IC09IG53Lnk7XG5cbiAgICAgIC8vIHJ1biBvbmNlIHdhcnBpbmcgaXMgY29tcGxldGVcbiAgICAgIGRvd25sb2FkYWJsZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgTC5Eb21VdGlsLnJlbW92ZShkb3dubG9hZGFibGUpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHdpbmRvdyAmJiB3aW5kb3cuaGFzT3duUHJvcGVydHkoJ3dhcnBXZWJHbCcpKSB7XG4gICAgICAgIHdhcnBXZWJHbChcbiAgICAgICAgICAgIGRvd25sb2FkYWJsZS5pZCxcbiAgICAgICAgICAgIFswLCAwLCB3aWR0aCwgMCwgd2lkdGgsIGhlaWdodCwgMCwgaGVpZ2h0XSxcbiAgICAgICAgICAgIFtudy54LCBudy55LCBuZS54LCBuZS55LCBzZS54LCBzZS55LCBzdy54LCBzdy55XSxcbiAgICAgICAgICAgIHRydWUgLy8gdHJpZ2dlciBkb3dubG9hZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkb3dubG9hZGFibGUuc3JjID0gb3ZlcmxheS5vcHRpb25zLmZ1bGxSZXNvbHV0aW9uU3JjIHx8IGltZy5zcmM7XG4gIH0sXG5cbiAgX3N0YWNrVXAoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuX3RvZ2dsZWRJbWFnZTtcblxuICAgIGlmICghdCB8fCAhdGhpcy5oYXNUb29sKEwuU3RhY2tBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5fdG9nZ2xlZEltYWdlID0gZmFsc2U7XG4gICAgdGhpcy5fb3ZlcmxheS5icmluZ1RvRnJvbnQoKTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH0sXG5cbiAgX3N0YWNrRG93bigpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5fdG9nZ2xlZEltYWdlO1xuXG4gICAgaWYgKHQgfHwgIXRoaXMuaGFzVG9vbChMLlN0YWNrQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuX3RvZ2dsZWRJbWFnZSA9IHRydWU7XG4gICAgdGhpcy5fb3ZlcmxheS5icmluZ1RvQmFjaygpO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfSxcblxuICBfdW5sb2NrKCkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBtYXAgPSBvdi5fbWFwO1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcblxuICAgIGlmICghdGhpcy5pc01vZGUoJ2xvY2snKSkgeyByZXR1cm47IH1cbiAgICBpZiAoKGVQICYmICFlUC5pc0NvbGxlY3RlZChvdikpIHx8ICFlUCkge1xuICAgICAgaWYgKCF0aGlzLmhhc1Rvb2woTC5Mb2NrQWN0aW9uKSkgeyByZXR1cm47IH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50SGFuZGxlKSB7IG1hcC5yZW1vdmVMYXllcih0aGlzLmN1cnJlbnRIYW5kbGUpOyB9XG4gICAgaWYgKG92Lm9wdGlvbnMubW9kZSA9PT0gJ2xvY2snIHx8ICF0aGlzLmhhc01vZGUob3Yub3B0aW9ucy5tb2RlKSkge1xuICAgICAgdGhpcy5fbW9kZSA9ICcnO1xuICAgICAgdGhpcy5jdXJyZW50SGFuZGxlID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21vZGUgPSBvdi5vcHRpb25zLm1vZGU7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUhhbmRsZSgpO1xuICAgIHRoaXMuX2VuYWJsZURyYWdnaW5nKCk7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9LFxuXG4gIF9sb2NrKCkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBtYXAgPSBvdi5fbWFwO1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcblxuICAgIGlmICh0aGlzLmlzTW9kZSgnbG9jaycpKSB7IHJldHVybjsgfVxuICAgIGlmICgoZVAgJiYgIWVQLmlzQ29sbGVjdGVkKG92KSkgfHwgIWVQKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzVG9vbChMLkxvY2tBY3Rpb24pKSB7IHJldHVybjsgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRIYW5kbGUpIHsgbWFwLnJlbW92ZUxheWVyKHRoaXMuY3VycmVudEhhbmRsZSk7IH1cbiAgICB0aGlzLl9tb2RlID0gJ2xvY2snO1xuICAgIHRoaXMuX3VwZGF0ZUhhbmRsZSgpO1xuICAgIHRoaXMuX2Rpc2FibGVEcmFnZ2luZygpO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfSxcblxuICBfZGVzZWxlY3QoKSB7XG4gICAgdGhpcy5fb3ZlcmxheS5kZXNlbGVjdCgpO1xuICB9LFxuXG4gIF9zaG93TWFya2VycyhlKSB7XG4gICAgY29uc3QgZVAgPSB0aGlzLnBhcmVudEdyb3VwO1xuXG4gICAgaWYgKCF0aGlzLmN1cnJlbnRIYW5kbGUpIHsgcmV0dXJuOyB9XG4gICAgLy8gb25seSBtYXJrZXJzIHdlIHdhbnQgaW4gY29sbGVjdCBpbnRlcmZhY2UgZm9yIG5vdyBpcyBsb2NrXG4gICAgaWYgKCF0aGlzLmlzTW9kZSgnbG9jaycpICYmIChlUCAmJiBlUC5hbnlDb2xsZWN0ZWQoKSkpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLmN1cnJlbnRIYW5kbGUuZWFjaExheWVyKChoYW5kbGUpID0+IHtcbiAgICAgIGhhbmRsZS5zZXRPcGFjaXR5KDEpO1xuICAgICAgaWYgKGhhbmRsZS5kcmFnZ2luZykgeyBoYW5kbGUuZHJhZ2dpbmcuZW5hYmxlKCk7IH1cbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhoYW5kbGUuZ2V0RWxlbWVudCgpLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xuICAgIH0pO1xuICB9LFxuXG4gIF9oaWRlTWFya2VycygpIHtcbiAgICBjb25zdCBvdiA9IHRoaXMuX292ZXJsYXk7XG4gICAgY29uc3QgZVAgPSB0aGlzLnBhcmVudEdyb3VwO1xuXG4gICAgLy8gd29ya2Fyb3VuZCBmb3IgcmFjZSBjb25kaXRpb24gdy8gZmVhdHVyZSBncm91cFxuICAgIGlmICghdGhpcy5faGFuZGxlcykgeyB0aGlzLl9pbml0SGFuZGxlcygpOyB9XG5cbiAgICBpZiAoIXRoaXMuY3VycmVudEhhbmRsZSkgeyByZXR1cm47IH1cbiAgICBpZiAodGhpcy5pc01vZGUoJ2xvY2snKSAmJiAoZVAgJiYgZVAuaXNDb2xsZWN0ZWQob3YpKSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuY3VycmVudEhhbmRsZS5lYWNoTGF5ZXIoKGhhbmRsZSkgPT4ge1xuICAgICAgaGFuZGxlLnNldE9wYWNpdHkoMCk7XG4gICAgICBpZiAoaGFuZGxlLmRyYWdnaW5nKSB7IGhhbmRsZS5kcmFnZ2luZy5kaXNhYmxlKCk7IH1cbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhoYW5kbGUuZ2V0RWxlbWVudCgpLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xuICAgIH0pO1xuICB9LFxuXG4gIF91cGRhdGVIYW5kbGUoKSB7XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IG1hcCA9IG92Ll9tYXA7XG4gICAgY29uc3QgbW9kZSA9IHRoaXMuZ2V0TW9kZSgpO1xuXG4gICAgaWYgKHRoaXMuY3VycmVudEhhbmRsZSkgeyBtYXAucmVtb3ZlTGF5ZXIodGhpcy5jdXJyZW50SGFuZGxlKTsgfVxuICAgIHRoaXMuY3VycmVudEhhbmRsZSA9IG1vZGUgPT09ICcnID8gJycgOiB0aGlzLl9oYW5kbGVzW21vZGVdO1xuICAgIGlmICh0aGlzLmN1cnJlbnRIYW5kbGUgIT09ICcnKSB7XG4gICAgICBtYXAuYWRkTGF5ZXIodGhpcy5jdXJyZW50SGFuZGxlKTtcbiAgICB9XG4gIH0sXG5cbiAgX2FkZFRvb2xiYXIoKSB7XG4gICAgY29uc3Qgb3YgPSB0aGlzLl9vdmVybGF5O1xuICAgIGNvbnN0IGVQID0gdGhpcy5wYXJlbnRHcm91cDtcbiAgICBjb25zdCBtYXAgPSBvdi5fbWFwO1xuICAgIC8vIEZpbmQgdGhlIHRvcG1vc3QgcG9pbnQgb24gdGhlIGltYWdlLlxuICAgIGNvbnN0IGNvcm5lcnMgPSBvdi5nZXRDb3JuZXJzKCk7XG4gICAgbGV0IG1heExhdCA9IC1JbmZpbml0eTtcblxuICAgIGlmIChlUCAmJiBlUC5hbnlDb2xsZWN0ZWQoKSkge1xuICAgICAgZVAuZWRpdGluZy5fYWRkVG9vbGJhcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvdi5vcHRpb25zLnN1cHByZXNzVG9vbGJhciB8fCB0aGlzLnRvb2xiYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvcm5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjb3JuZXJzW2ldLmxhdCA+IG1heExhdCkge1xuICAgICAgICBtYXhMYXQgPSBjb3JuZXJzW2ldLmxhdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMb25naXR1ZGUgaXMgYmFzZWQgb24gdGhlIGNlbnRyb2lkIG9mIHRoZSBpbWFnZS5cbiAgICBjb25zdCByYWlzZWRQb2ludCA9IG92LmdldENlbnRlcigpO1xuICAgIHJhaXNlZFBvaW50LmxhdCA9IG1heExhdDtcblxuICAgIHRoaXMudG9vbGJhciA9IEwuZGlzdG9ydGFibGVJbWFnZS5wb3B1cEJhcihyYWlzZWRQb2ludCwge1xuICAgICAgYWN0aW9uczogdGhpcy5lZGl0QWN0aW9ucyxcbiAgICB9KS5hZGRUbyhtYXAsIG92KTtcbiAgICBvdi5maXJlKCd0b29sYmFyOmNyZWF0ZWQnKTtcbiAgfSxcblxuICBfcmVmcmVzaCgpIHtcbiAgICBpZiAodGhpcy50b29sYmFyKSB7IHRoaXMuX3JlbW92ZVRvb2xiYXIoKTsgfVxuICAgIHRoaXMuX2FkZFRvb2xiYXIoKTtcbiAgfSxcblxuICBfdXBkYXRlVG9vbGJhclBvcygpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5fb3ZlcmxheTtcbiAgICAvLyBGaW5kIHRoZSB0b3Btb3N0IHBvaW50IG9uIHRoZSBpbWFnZS5cbiAgICBjb25zdCBjb3JuZXJzID0gb3ZlcmxheS5nZXRDb3JuZXJzKCk7XG4gICAgY29uc3QgdG9vbGJhciA9IHRoaXMudG9vbGJhcjtcbiAgICBsZXQgbWF4TGF0ID0gLUluZmluaXR5O1xuXG4gICAgaWYgKHRvb2xiYXIgJiYgdG9vbGJhciBpbnN0YW5jZW9mIEwuRGlzdG9ydGFibGVJbWFnZS5Qb3B1cEJhcikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb3JuZXJzW2ldLmxhdCA+IG1heExhdCkge1xuICAgICAgICAgIG1heExhdCA9IGNvcm5lcnNbaV0ubGF0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIExvbmdpdHVkZSBpcyBiYXNlZCBvbiB0aGUgY2VudHJvaWQgb2YgdGhlIGltYWdlLlxuICAgICAgY29uc3QgcmFpc2VkUG9pbnQgPSBvdmVybGF5LmdldENlbnRlcigpO1xuICAgICAgcmFpc2VkUG9pbnQubGF0ID0gbWF4TGF0O1xuXG4gICAgICBpZiAoIW92ZXJsYXkub3B0aW9ucy5zdXBwcmVzc1Rvb2xiYXIpIHtcbiAgICAgICAgdGhpcy50b29sYmFyLnNldExhdExuZyhyYWlzZWRQb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGhhc01vZGUobW9kZSkge1xuICAgIHJldHVybiAhIXRoaXMuX21vZGVzW21vZGVdO1xuICB9LFxuXG4gIGdldE1vZGUoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkgeyByZXR1cm47IH1cbiAgICByZXR1cm4gdGhpcy5fbW9kZTtcbiAgfSxcblxuICBnZXRNb2RlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9kZXM7XG4gIH0sXG5cbiAgaXNNb2RlKG1vZGUpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHJldHVybiB0aGlzLl9tb2RlID09PSBtb2RlO1xuICB9LFxuXG4gIHNldE1vZGUobmV3TW9kZSkge1xuICAgIGNvbnN0IG92ID0gdGhpcy5fb3ZlcmxheTtcbiAgICBjb25zdCBlUCA9IHRoaXMucGFyZW50R3JvdXA7XG4gICAgY29uc3QgbW9kZSA9IHRoaXMuZ2V0TW9kZSgpO1xuXG4gICAgaWYgKG1vZGUgPT09IG5ld01vZGUgfHwgIXRoaXMuaGFzTW9kZShuZXdNb2RlKSB8fCAhdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50b29sYmFyKSB7IHRoaXMudG9vbGJhci5jbGlja1Rvb2wobmV3TW9kZSk7IH1cbiAgICBpZiAodGhpcy5pc01vZGUoJ2xvY2snKSAmJiAhdGhpcy5kcmFnZ2luZykgeyB0aGlzLl9lbmFibGVEcmFnZ2luZygpOyB9XG4gICAgdGhpcy5fbW9kZSA9IG5ld01vZGU7XG4gICAgaWYgKHRoaXMuaXNNb2RlKCdsb2NrJykpIHsgdGhpcy5fZGlzYWJsZURyYWdnaW5nKCk7IH1cbiAgICB0aGlzLl91cGRhdGVIYW5kbGUoKTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG5cbiAgICBpZiAoZVAgJiYgZVAuaXNDb2xsZWN0ZWQob3YpKSB7IG92LmRlc2VsZWN0KCk7IH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgICogbmVlZCB0byBhdHRhY2ggYSBzdG9wIHRvIGltZyBkYmxjbGljayBvciBpdCB3aWxsIHByb3BhZ2F0ZSB0b1xuICAgICogdGhlIG1hcCBhbmQgZmlyZSB0aGUgaGFuZGxlciB0aGF0IHNob3dzIG1hcCBsb2NhdGlvbiBsYWJlbHMgb24gbWFwIGRibGNsaWNrLlxuICAgICovXG4gIG5leHRNb2RlKGUpIHtcbiAgICBjb25zdCBtb2RlID0gdGhpcy5nZXRNb2RlKCk7XG4gICAgY29uc3QgZVAgPSB0aGlzLnBhcmVudEdyb3VwO1xuICAgIGNvbnN0IG1vZGVzQXJyYXkgPSBPYmplY3Qua2V5cyh0aGlzLmdldE1vZGVzKCkpO1xuICAgIGNvbnN0IGlkeCA9IG1vZGVzQXJyYXkuaW5kZXhPZihtb2RlKTtcbiAgICBjb25zdCBuZXh0SWR4ID0gKGlkeCArIDEpICUgbW9kZXNBcnJheS5sZW5ndGg7XG4gICAgY29uc3QgbmV3TW9kZSA9IG1vZGVzQXJyYXlbbmV4dElkeF07XG5cbiAgICBpZiAoZSkge1xuICAgICAgaWYgKGVQICYmIGVQLmFueUNvbGxlY3RlZCgpKSB7IHJldHVybjsgfVxuICAgICAgTC5Eb21FdmVudC5zdG9wKGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldE1vZGUobmV3TW9kZSk7XG4gIH0sXG59KTtcblxuTC5kaXN0b3J0YWJsZUltYWdlLmVkaXQgPSAob3ZlcmxheSwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gbmV3IEwuRGlzdG9ydGFibGVJbWFnZS5FZGl0KG92ZXJsYXksIG9wdGlvbnMpO1xufTtcbiIsIkwuRGlzdG9ydGFibGVJbWFnZSA9IEwuRGlzdG9ydGFibGVJbWFnZSB8fCB7fTtcblxuLy8gdGhpcyBjbGFzcyBob2xkcyB0aGUga2V5YmluZGluZ3MgYW5kIHRvb2xiYXIgQVBJIGZvciBhbiBpbWFnZSBjb2xsZWN0aW9uIGluc3RhbmNlXG5MLkRpc3RvcnRhYmxlQ29sbGVjdGlvbi5FZGl0ID0gTC5IYW5kbGVyLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBrZXltYXA6IEwuZGlzdG9ydGFibGVJbWFnZS5ncm91cF9hY3Rpb25fbWFwLFxuICB9LFxuXG4gIGluaXRpYWxpemUoZ3JvdXAsIG9wdGlvbnMpIHtcbiAgICB0aGlzLl9ncm91cCA9IGdyb3VwO1xuICAgIHRoaXMuX2V4cG9ydE9wdHMgPSBncm91cC5vcHRpb25zLmV4cG9ydE9wdHM7XG5cbiAgICBMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICBMLmRpc3RvcnRhYmxlSW1hZ2UuZ3JvdXBfYWN0aW9uX21hcC5Fc2NhcGUgPSAnX2RlY29sbGVjdEFsbCc7XG4gIH0sXG5cbiAgYWRkSG9va3MoKSB7XG4gICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9ncm91cDtcbiAgICBjb25zdCBtYXAgPSBncm91cC5fbWFwO1xuXG4gICAgdGhpcy5lZGl0QWN0aW9ucyA9IHRoaXMub3B0aW9ucy5hY3Rpb25zO1xuICAgIHRoaXMucnVuRXhwb3J0ZXIgPVxuICAgICAgICBMLmJpbmQoTC5VdGlscy5nZXROZXN0ZWRWYWwodGhpcywgJ19leHBvcnRPcHRzJywgJ2V4cG9ydGVyJykgfHxcbiAgICAgICAgdGhpcy5zdGFydEV4cG9ydCwgdGhpcyk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgdGhpcyk7XG5cbiAgICBpZiAoIShtYXAuZG91YmxlQ2xpY2tab29tLmVuYWJsZWQoKSB8fCBtYXAuZG91YmxlQ2xpY2tMYWJlbHMuZW5hYmxlZCgpKSkge1xuICAgICAgTC5Eb21FdmVudC5vbihtYXAsICdjbGljaycsIHRoaXMuX2RlY29sbGVjdEFsbCwgdGhpcyk7XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5vbihtYXAsIHtcbiAgICAgIHNpbmdsZWNsaWNrb246IHRoaXMuX3NpbmdsZUNsaWNrTGlzdGVuZXJzLFxuICAgICAgc2luZ2xlY2xpY2tvZmY6IHRoaXMuX3Jlc2V0Q2xpY2tMaXN0ZW5lcnMsXG4gICAgICBzaW5nbGVjbGljazogdGhpcy5fc2luZ2xlQ2xpY2ssXG4gICAgICBib3hjb2xsZWN0ZW5kOiB0aGlzLl9hZGRDb2xsZWN0aW9ucyxcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuX2dyb3VwLmVkaXRhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLl9ncm91cC5lYWNoTGF5ZXIobGF5ZXIgPT4gbGF5ZXIuZWRpdGluZy5lbmFibGUoKSk7XG4gIH0sXG5cbiAgcmVtb3ZlSG9va3MoKSB7XG4gICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9ncm91cDtcbiAgICBjb25zdCBtYXAgPSBncm91cC5fbWFwO1xuXG4gICAgTC5Eb21FdmVudC5vZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzKTtcblxuICAgIGlmICghKG1hcC5kb3VibGVDbGlja1pvb20uZW5hYmxlZCgpIHx8IG1hcC5kb3VibGVDbGlja0xhYmVscy5lbmFibGVkKCkpKSB7XG4gICAgICBMLkRvbUV2ZW50Lm9mZihtYXAsICdjbGljaycsIHRoaXMuX2RlY29sbGVjdEFsbCwgdGhpcyk7XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5vZmYobWFwLCB7XG4gICAgICBzaW5nbGVjbGlja29uOiB0aGlzLl9zaW5nbGVDbGlja0xpc3RlbmVycyxcbiAgICAgIHNpbmdsZWNsaWNrb2ZmOiB0aGlzLl9yZXNldENsaWNrTGlzdGVuZXJzLFxuICAgICAgc2luZ2xlY2xpY2s6IHRoaXMuX3NpbmdsZUNsaWNrLFxuICAgICAgYm94Y29sbGVjdGVuZDogdGhpcy5fYWRkQ29sbGVjdGlvbnMsXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9kZWNvbGxlY3RBbGwoKTtcbiAgICB0aGlzLl9ncm91cC5lZGl0YWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuX2dyb3VwLmVhY2hMYXllcihsYXllciA9PiBsYXllci5lZGl0aW5nLmRpc2FibGUoKSk7XG4gIH0sXG5cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuYWRkSG9va3MoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBkaXNhYmxlKCkge1xuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbW92ZUhvb2tzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX29uS2V5RG93bihlKSB7XG4gICAgY29uc3Qga2V5bWFwID0gdGhpcy5vcHRpb25zLmtleW1hcDtcbiAgICBjb25zdCBoYW5kbGVyTmFtZSA9IGtleW1hcFtlLmtleV07XG5cbiAgICBpZiAoIXRoaXNbaGFuZGxlck5hbWVdKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHRoaXMuX2dyb3VwLmFueUNvbGxlY3RlZCgpKSB7XG4gICAgICB0aGlzW2hhbmRsZXJOYW1lXS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICBfc2luZ2xlQ2xpY2soZSkge1xuICAgIGlmIChlLnR5cGUgPT09ICdzaW5nbGVjbGljaycpIHsgdGhpcy5fZGVjb2xsZWN0QWxsKGUpOyB9XG4gICAgZWxzZSB7IHJldHVybjsgfVxuICB9LFxuXG4gIF9zaW5nbGVDbGlja0xpc3RlbmVycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9ncm91cC5fbWFwO1xuICAgIEwuRG9tRXZlbnQub2ZmKG1hcCwgJ2NsaWNrJywgdGhpcy5fZGVjb2xsZWN0QWxsLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKG1hcCwgJ3NpbmdsZWNsaWNrJywgdGhpcy5fZGVjb2xsZWN0QWxsLCB0aGlzKTtcbiAgfSxcblxuICBfcmVzZXRDbGlja0xpc3RlbmVycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9ncm91cC5fbWFwO1xuICAgIEwuRG9tRXZlbnQub24obWFwLCAnY2xpY2snLCB0aGlzLl9kZWNvbGxlY3RBbGwsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKG1hcCwgJ3NpbmdsZWNsaWNrJywgdGhpcy5fZGVjb2xsZWN0QWxsLCB0aGlzKTtcbiAgfSxcblxuICBfZGVjb2xsZWN0QWxsKGUpIHtcbiAgICBsZXQgb2U7XG5cbiAgICBpZiAoZSkgeyBvZSA9IGUub3JpZ2luYWxFdmVudDsgfVxuICAgIC8qKlxuICAgICAqIHByZXZlbnRzIGltYWdlIGRlc2VsZWN0aW9uIGZvbGxvd2luZyB0aGUgJ2JveGNvbGxlY3RlbmQnIGV2ZW50IC0gbm90ZSAnc2hpZnQnIG11c3Qgbm90IGJlIHJlbGVhc2VkIHVudGlsIGRyYWdnaW5nIGlzIGNvbXBsZXRlXG4gICAgICogYWxzbyBwcmV2ZW50cyBkZXNlbGVjdGlvbiBmb2xsb3dpbmcgYSBjbGljayBvbiBhIGRpc2FibGVkIGltZyBieSBkaWZmZXJlbnRpYXRpbmcgaXQgZnJvbSB0aGUgbWFwXG4gICAgICovXG4gICAgaWYgKG9lICYmIChvZS5zaGlmdEtleSB8fCBvZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2dyb3VwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhsYXllci5nZXRFbGVtZW50KCksICdjb2xsZWN0ZWQnKTtcbiAgICAgIGxheWVyLmRlc2VsZWN0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG5cbiAgICBpZiAoZSkgeyBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihlKTsgfVxuICB9LFxuXG4gIF91bmxvY2tHcm91cCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzVG9vbChMLlVubG9ja0FjdGlvbikpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLl9ncm91cC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5fZ3JvdXAuaXNDb2xsZWN0ZWQobGF5ZXIpKSB7XG4gICAgICAgIGNvbnN0IGVkaXQgPSBsYXllci5lZGl0aW5nO1xuICAgICAgICBlZGl0Ll91bmxvY2soKTtcbiAgICAgICAgLy8gdW5sb2NrIHVwZGF0ZXMgdGhlIGxheWVyJ3MgaGFuZGxlczsgZGVzZWxlY3QgdG8gZW5zdXJlIHRoZXkncmUgaGlkZGVuXG4gICAgICAgIGxheWVyLmRlc2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgX2xvY2tHcm91cCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzVG9vbChMLkxvY2tBY3Rpb24pKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5fZ3JvdXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2dyb3VwLmlzQ29sbGVjdGVkKGxheWVyKSApIHtcbiAgICAgICAgY29uc3QgZWRpdCA9IGxheWVyLmVkaXRpbmc7XG4gICAgICAgIGVkaXQuX2xvY2soKTtcbiAgICAgICAgLy8gbWFwLmFkZExheWVyIGFsc28gZGVzZWxlY3RzIHRoZSBpbWFnZSwgc28gd2UgcmVzZWxlY3QgaGVyZVxuICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobGF5ZXIuZ2V0RWxlbWVudCgpLCAnY29sbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgX2FkZENvbGxlY3Rpb25zKGUpIHtcbiAgICBjb25zdCBib3ggPSBlLmJveENvbGxlY3RCb3VuZHM7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fZ3JvdXAuX21hcDtcblxuICAgIHRoaXMuX2dyb3VwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IGVkaXQgPSBsYXllci5lZGl0aW5nO1xuXG4gICAgICBpZiAobGF5ZXIuaXNTZWxlY3RlZCgpKSB7IGxheWVyLmRlc2VsZWN0KCk7IH1cblxuICAgICAgY29uc3Qgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgICBjb25zdCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICBsZXQgaW1nQm91bmRzID0gTC5sYXRMbmdCb3VuZHMobGF5ZXIuZ2V0Q29ybmVyKDIpLCBsYXllci5nZXRDb3JuZXIoMSkpO1xuXG4gICAgICBpbWdCb3VuZHMgPSBtYXAuX2xhdExuZ0JvdW5kc1RvTmV3TGF5ZXJCb3VuZHMoaW1nQm91bmRzLCB6b29tLCBjZW50ZXIpO1xuICAgICAgaWYgKGJveC5pbnRlcnNlY3RzKGltZ0JvdW5kcykgJiYgZWRpdC5lbmFibGVkKCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRvb2xiYXIpIHsgdGhpcy5fYWRkVG9vbGJhcigpOyB9XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhsYXllci5nZXRFbGVtZW50KCksICdjb2xsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfcmVtb3ZlR3JvdXAoZSkge1xuICAgIGlmICghdGhpcy5oYXNUb29sKEwuRGVsZXRlQWN0aW9uKSkgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IGxheWVyc1RvUmVtb3ZlID0gdGhpcy5fZ3JvdXAuX3RvUmVtb3ZlKCk7XG4gICAgY29uc3QgbiA9IGxheWVyc1RvUmVtb3ZlLmxlbmd0aDtcblxuICAgIGlmIChuID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgY2hvaWNlID0gTC5Eb21VdGlsLmNvbmZpcm1EZWxldGVzKG4pO1xuXG4gICAgaWYgKGNob2ljZSkge1xuICAgICAgbGF5ZXJzVG9SZW1vdmUuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgdGhpcy5fZ3JvdXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgfSk7XG4gICAgICBpZiAoIXRoaXMuX2dyb3VwLmFueUNvbGxlY3RlZCgpKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZSkgeyBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihlKTsgfVxuICB9LFxuXG4gIGNhbmNlbEV4cG9ydCgpIHtcbiAgICBpZiAoIXRoaXMuY3VzdG9tQ29sbGVjdGlvbikge1xuICAgICAgdGhpcy5fZXhwb3J0T3B0cy5jb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCk7XG4gIH0sXG5cbiAgX2FkZFRvb2xiYXIoKSB7XG4gICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9ncm91cDtcbiAgICBjb25zdCBtYXAgPSBncm91cC5fbWFwO1xuXG4gICAgaWYgKGdyb3VwLm9wdGlvbnMuc3VwcHJlc3NUb29sYmFyIHx8IHRoaXMudG9vbGJhcikgeyByZXR1cm47IH1cbiAgICB0aGlzLnRvb2xiYXIgPSBMLmRpc3RvcnRhYmxlSW1hZ2UuY29udHJvbEJhcih7XG4gICAgICBhY3Rpb25zOiB0aGlzLmVkaXRBY3Rpb25zLFxuICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICB9KS5hZGRUbyhtYXAsIGdyb3VwKTtcbiAgfSxcblxuICBfcmVtb3ZlVG9vbGJhcigpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9ncm91cC5fbWFwO1xuICAgIGlmICh0aGlzLnRvb2xiYXIpIHtcbiAgICAgIG1hcC5yZW1vdmVMYXllcih0aGlzLnRvb2xiYXIpO1xuICAgICAgdGhpcy50b29sYmFyID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgaGFzVG9vbCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmVkaXRBY3Rpb25zLnNvbWUoYWN0aW9uID0+IGFjdGlvbiA9PT0gdmFsdWUpO1xuICB9LFxuXG4gIGFkZFRvb2wodmFsdWUpIHtcbiAgICBpZiAodmFsdWUuYmFzZUNsYXNzID09PSAnbGVhZmxldC10b29sYmFyLWljb24nICYmICF0aGlzLmhhc1Rvb2wodmFsdWUpKSB7XG4gICAgICB0aGlzLl9yZW1vdmVUb29sYmFyKCk7XG4gICAgICB0aGlzLmVkaXRBY3Rpb25zLnB1c2godmFsdWUpO1xuICAgICAgdGhpcy5fYWRkVG9vbGJhcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICByZW1vdmVUb29sKHZhbHVlKSB7XG4gICAgdGhpcy5lZGl0QWN0aW9ucy5zb21lKChpdGVtLCBpZHgpID0+IHtcbiAgICAgIGlmICh0aGlzLmVkaXRBY3Rpb25zW2lkeF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVRvb2xiYXIoKTtcbiAgICAgICAgdGhpcy5lZGl0QWN0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5fYWRkVG9vbGJhcigpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBzdGFydEV4cG9ydCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzVG9vbChMLkV4cG9ydEFjdGlvbikpIHsgcmV0dXJuOyB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9leHBvcnRPcHRzO1xuICAgICAgb3B0cy5yZXNvbHZlID0gcmVzb2x2ZTsgLy8gYWxsb3cgcmVzb2x2aW5nIHByb21pc2UgaW4gdXNlci1kZWZpbmVkIGZ1bmN0aW9ucywgdG8gc3RvcCBzcGlubmVyIG9uIGNvbXBsZXRpb25cblxuICAgICAgbGV0IHN0YXR1c1VybDtcbiAgICAgIHRoaXMudXBkYXRlSW50ZXJ2YWwgPSBudWxsO1xuXG4gICAgICAvLyB0aGlzIG1heSBiZSBvdmVycmlkZGVuIHRvIHVwZGF0ZSB0aGUgVUkgdG8gc2hvdyBleHBvcnQgcHJvZ3Jlc3Mgb3IgY29tcGxldGlvblxuICAgICAgY29uc3QgX2RlZmF1bHRVcGRhdGVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIC8vIG9wdGltaXphdGlvbjogZmV0Y2ggc3RhdHVzIGRpcmVjdGx5IGZyb20gZ29vZ2xlIHN0b3JhZ2U6XG4gICAgICAgIGlmIChkYXRhLnN0YXR1c191cmwpIHtcbiAgICAgICAgICBpZiAoc3RhdHVzVXJsICE9PSBkYXRhLnN0YXR1c191cmwgJiYgZGF0YS5zdGF0dXNfdXJsLm1hdGNoKCcuanNvbicpKSB7XG4gICAgICAgICAgICAvLyBpZiAoZGF0YS5zdGF0dXNfdXJsICYmIGRhdGEuc3RhdHVzX3VybC5zdWJzdHIoMCwxKSA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgIC8vICAgb3B0cy5zdGF0dXNVcmwgPSBvcHRzLnN0YXR1c1VybCArIGRhdGEuc3RhdHVzX3VybDtcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXNVcmwgPSBkYXRhLnN0YXR1c191cmw7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VzdG9tQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLl9leHBvcnRPcHRzLmNvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmpwZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBhbGVydCgnRXhwb3J0IHN1Y2NlZWRlZC4gJyArIG9wdHMuZXhwb3J0VXJsICsgZGF0YS5qcGcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFRPRE86IHVwZGF0ZSB0byBjbGVhckludGVydmFsIHdoZW4gc3RhdHVzID09IFwiZmFpbGVkXCIgaWYgd2UgdXBkYXRlIHRoYXQgaW4gdGhpcyBmaWxlOlxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wdWJsaWNsYWIvbWFwa25pdHRlci1leHBvcnRlci9ibG9iL21haW4vbGliL21hcGtuaXR0ZXJFeHBvcnRlci5yYlxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyByZWNlaXZlcyB0aGUgVVJMIG9mIHN0YXR1cy5qc29uLCBhbmQgc3RhcnRzIHJ1bm5pbmcgdGhlIHVwZGF0ZXIgdG8gcmVwZWF0ZWRseSBmZXRjaCBmcm9tIHN0YXR1cy5qc29uO1xuICAgICAgLy8gdGhpcyBtYXkgYmUgb3ZlcnJpZGRlbiB0byBpbnRlZ3JhdGUgd2l0aCBhbnkgVUlcbiAgICAgIGNvbnN0IF9kZWZhdWx0SGFuZGxlU3RhdHVzUmVzID0gKGRhdGEpID0+IHtcbiAgICAgICAgc3RhdHVzVXJsID0gb3B0cy5zdGF0dXNVcmwgKyBkYXRhO1xuICAgICAgICAvLyByZXBlYXRlZGx5IGZldGNoIHRoZSBzdGF0dXMuanNvblxuICAgICAgICB0aGlzLnVwZGF0ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcU9wdHMgPSB7bWV0aG9kOiAnR0VUJ307XG4gICAgICAgICAgY29uc3QgcmVxID0gbmV3IFJlcXVlc3QoYCR7c3RhdHVzVXJsfT8ke0RhdGUubm93KCl9YCwgcmVxT3B0cyk7XG4gICAgICAgICAgZmV0Y2gocmVxKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkudGhlbihvcHRzLnVwZGF0ZXIpO1xuICAgICAgICB9LCBvcHRzLmZyZXF1ZW5jeSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBpbml0aWF0ZSB0aGUgZXhwb3J0XG4gICAgICBjb25zdCBfZGVmYXVsdEZldGNoU3RhdHVzVXJsID0gKG1lcmdlZE9wdHMpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtLmFwcGVuZCgnY29sbGVjdGlvbicsIEpTT04uc3RyaW5naWZ5KG1lcmdlZE9wdHMuY29sbGVjdGlvbikpO1xuICAgICAgICBmb3JtLmFwcGVuZCgnc2NhbGUnLCBtZXJnZWRPcHRzLnNjYWxlKTtcbiAgICAgICAgZm9ybS5hcHBlbmQoJ3VwbG9hZCcsIHRydWUpO1xuXG4gICAgICAgIGNvbnN0IHJlcU9wdHMgPSB7bWV0aG9kOiAnUE9TVCcsIGJvZHk6IGZvcm19O1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgUmVxdWVzdChtZXJnZWRPcHRzLmV4cG9ydFN0YXJ0VXJsLCByZXFPcHRzKTtcbiAgICAgICAgZmV0Y2gocmVxKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnRleHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4obWVyZ2VkT3B0cy5oYW5kbGVTdGF0dXNSZXMpO1xuICAgICAgfTtcblxuICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzIHBhc3NlZCBjb2xsZWN0aW9uIHByb3BlcnR5XG4gICAgICB0aGlzLmN1c3RvbUNvbGxlY3Rpb24gPSAhIW9wdHMuY29sbGVjdGlvbjtcbiAgICAgIGlmICghdGhpcy5jdXN0b21Db2xsZWN0aW9uKSB7XG4gICAgICAgIG9wdHMuY29sbGVjdGlvbiA9IHRoaXMuX2dyb3VwLmdlbmVyYXRlRXhwb3J0SnNvbigpLmltYWdlcztcbiAgICAgIH1cblxuICAgICAgb3B0cy5mcmVxdWVuY3kgPSBvcHRzLmZyZXF1ZW5jeSB8fCAzMDAwO1xuICAgICAgb3B0cy5zY2FsZSA9IG9wdHMuc2NhbGUgfHwgMTAwOyAvLyBzd2l0Y2ggaXQgdG8gX2dldEF2Z0NtUGVyUGl4ZWwgIVxuICAgICAgb3B0cy51cGRhdGVyID0gb3B0cy51cGRhdGVyIHx8IF9kZWZhdWx0VXBkYXRlcjtcbiAgICAgIG9wdHMuaGFuZGxlU3RhdHVzUmVzID0gb3B0cy5oYW5kbGVTdGF0dXNSZXMgfHwgX2RlZmF1bHRIYW5kbGVTdGF0dXNSZXM7XG4gICAgICBvcHRzLmZldGNoU3RhdHVzVXJsID0gb3B0cy5mZXRjaFN0YXR1c1VybCB8fCBfZGVmYXVsdEZldGNoU3RhdHVzVXJsO1xuXG4gICAgICBvcHRzLmZldGNoU3RhdHVzVXJsKG9wdHMpO1xuICAgIH0pO1xuICB9LFxufSk7XG5cbkwuZGlzdG9ydGFibGVDb2xsZWN0aW9uLmVkaXQgPSAoZ3JvdXAsIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBMLkRpc3RvcnRhYmxlQ29sbGVjdGlvbi5FZGl0KGdyb3VwLCBvcHRpb25zKTtcbn07XG4iLCJMLkRvbVV0aWwgPSBMLkRvbVV0aWwgfHwge307XG5MLkRpc3RvcnRhYmxlSW1hZ2UgPSBMLkRpc3RvcnRhYmxlSW1hZ2UgfHwge307XG5MLmRpc3RvcnRhYmxlSW1hZ2UgPSBMLkRpc3RvcnRhYmxlSW1hZ2U7XG5cbkwuRGlzdG9ydGFibGVJbWFnZS5LZXltYXBwZXIgPSBMLkhhbmRsZXIuZXh0ZW5kKHtcblxuICBvcHRpb25zOiB7XG4gICAgcG9zaXRpb246ICd0b3ByaWdodCcsXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZShtYXAsIG9wdGlvbnMpIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICB9LFxuXG4gIGFkZEhvb2tzKCkge1xuICAgIGlmICghdGhpcy5fa2V5bWFwcGVyKSB7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9idWlsZENvbnRhaW5lcigpO1xuICAgICAgdGhpcy5fc2Nyb2xsV3JhcHBlciA9IHRoaXMuX3dyYXAoKTtcbiAgICAgIHRoaXMuX3RvZ2dsZXIgPSB0aGlzLl9jcmVhdGVCdXR0b24oKTtcbiAgICAgIHRoaXMuX3NldE1hcHBlcih0aGlzLl9jb250YWluZXIsIHRoaXMuX3Njcm9sbFdyYXBwZXIsIHRoaXMuX3RvZ2dsZXIpO1xuXG4gICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuX3RvZ2dsZXIsICdjbGljaycsIHRoaXMuX3RvZ2dsZUtleW1hcHBlciwgdGhpcyk7XG5cbiAgICAgIEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fY29udGFpbmVyKTtcbiAgICAgIEwuRG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgfVxuICB9LFxuXG4gIHJlbW92ZUhvb2tzKCkge1xuICAgIGlmICh0aGlzLl9rZXltYXBwZXIpIHtcbiAgICAgIEwuRG9tRXZlbnQub2ZmKHRoaXMuX3RvZ2dsZXIsICdjbGljaycsIHRoaXMuX3RvZ2dsZUtleW1hcHBlciwgdGhpcyk7XG5cbiAgICAgIEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fdG9nZ2xlcik7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlKHRoaXMuX3Njcm9sbFdyYXBwZXIpO1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgdGhpcy5fa2V5bWFwcGVyID0gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIF9idWlsZENvbnRhaW5lcigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGRpLWtleW1hcHBlci1oaWRlJyk7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnbGRpLWtleW1hcHBlcicpO1xuXG4gICAgY29uc3QgZGl2aWRlciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2JyJywgJ2RpdmlkZXInKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2aWRlcik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9LFxuXG4gIF9jcmVhdGVCdXR0b24oKSB7XG4gICAgY29uc3QgdG9nZ2xlciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCAnJyk7XG4gICAgdG9nZ2xlci5pbm5lckhUTUwgPSBMLkljb25VdGlsLmNyZWF0ZSgna2V5Ym9hcmRfb3BlbicpO1xuXG4gICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvZ2dsZS1rZXltYXBwZXInKTtcbiAgICB0b2dnbGVyLnNldEF0dHJpYnV0ZSgnaHJlZicsICcjJyk7XG4gICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1Nob3cga2V5bWFwJyk7XG4gICAgLy8gV2lsbCBmb3JjZSBzY3JlZW4gcmVhZGVycyBsaWtlIFZvaWNlT3ZlciB0byByZWFkIHRoaXMgYXMgXCJTaG93IGtleW1hcCAtIGJ1dHRvblwiXG4gICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnU2hvdyBrZXltYXAnKTtcblxuICAgIHJldHVybiB0b2dnbGVyO1xuICB9LFxuXG4gIF93cmFwKCkge1xuICAgIGNvbnN0IHdyYXAgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnJyk7XG4gICAgd3JhcC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2tleW1hcHBlci13cmFwcGVyJyk7XG4gICAgd3JhcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgcmV0dXJuIHdyYXA7XG4gIH0sXG5cbiAgX3NldE1hcHBlcihjb250YWluZXIsIHdyYXAsIGJ1dHRvbikge1xuICAgIHRoaXMuX2tleW1hcHBlciA9IEwuY29udHJvbCh7cG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbn0pO1xuXG4gICAgdGhpcy5fa2V5bWFwcGVyLm9uQWRkID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQod3JhcCk7XG4gICAgICB3cmFwLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgICAnYmVmb3JlZW5kJyxcbiAgICAgICAgICAnPHRhYmxlPjx0Ym9keT4nICtcbiAgICAgICAgICAnPGhyIGlkPVwia2V5bWFwcGVyLWhyXCI+JyArXG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPlJvdGF0ZSBNb2RlPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+Ujwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPlJvdGF0ZVNjYWxlIE1vZGU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5yPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+U2NhbGUgTW9kZTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPnM8L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5EaXN0b3J0IE1vZGU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5kPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+RHJhZyBNb2RlPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+RDwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICsgICBcbiAgICAgICAgICAnPHRyPjx0ZD48ZGl2IGNsYXNzPVwibGVmdFwiPjxzcGFuPkxvY2sgKE1vZGUpIC8gVW5sb2NrIEltYWdlPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+bDwva2JkPlxceGEwPGtiZD51PC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+U3RhY2sgdXAgLyBkb3duPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+cTwva2JkPlxceGEwPGtiZD5hPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+QWRkIC8gUmVtb3ZlIEltYWdlIEJvcmRlcjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPmI8L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5Ub2dnbGUgT3BhY2l0eTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj48a2JkPm88L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5EZXNlbGVjdCBBbGw8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5lc2M8L2tiZD48L2Rpdj48L3RkPjwvdHI+JyArXG4gICAgICAgICAgJzx0cj48dGQ+PGRpdiBjbGFzcz1cImxlZnRcIj48c3Bhbj5EZWxldGUgSW1hZ2Uocyk8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0XCI+PGtiZD5kZWxldGU8L2tiZD5cXHhhMDxrYmQ+YmFja3NwYWNlPC9rYmQ+PC9kaXY+PC90ZD48L3RyPicgK1xuICAgICAgICAgICc8dHI+PHRkPjxkaXYgY2xhc3M9XCJsZWZ0XCI+PHNwYW4+RXhwb3J0IEltYWdlKHMpPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodFwiPjxrYmQ+ZTwva2JkPjwvZGl2PjwvdGQ+PC90cj4nICtcbiAgICAgICAgICAnPC90Ym9keT48L3RhYmxlPidcbiAgICAgICk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcblxuICAgIHRoaXMuX2tleW1hcHBlci5hZGRUbyh0aGlzLl9tYXApO1xuICB9LFxuXG4gIF90b2dnbGVLZXltYXBwZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUgPSAoXG4gICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lID09PSAnbGRpLWtleW1hcHBlciBsZWFmbGV0LWNvbnRyb2wnID9cbiAgICAgICAgJ2xkaS1rZXltYXBwZXItaGlkZSBsZWFmbGV0LWNvbnRyb2wnIDpcbiAgICAgICAgJ2xkaS1rZXltYXBwZXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG5cbiAgICB0aGlzLl9zY3JvbGxXcmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAoXG4gICAgICB0aGlzLl9zY3JvbGxXcmFwcGVyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSdcbiAgICApO1xuXG4gICAgdGhpcy5fdG9nZ2xlci5pbm5lckhUTUwgPSAoXG4gICAgICB0aGlzLl90b2dnbGVyLmlubmVySFRNTCA9PT0gJ2Nsb3NlJyA/XG4gICAgICAgIEwuSWNvblV0aWwuY3JlYXRlKCdrZXlib2FyZF9vcGVuJykgOlxuICAgICAgICAnY2xvc2UnXG4gICAgKTtcblxuICAgIEwuSWNvblV0aWwudG9nZ2xlVGl0bGUodGhpcy5fdG9nZ2xlciwgJ1Nob3cga2V5bWFwJywgJ0hpZGUga2V5bWFwJyk7XG4gICAgTC5Eb21VdGlsLnRvZ2dsZUNsYXNzKHRoaXMuX3RvZ2dsZXIsICdjbG9zZS1pY29uJyk7XG4gIH0sXG5cbiAgX2luamVjdEljb25TZXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNrZXltYXBwZXItaWNvbnNldCcpKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnJyk7XG4gICAgZWwuaWQgPSAna2V5bWFwcGVyLWljb25zZXQnO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuXG4gICAgdGhpcy5faWNvbnNldCA9IG5ldyBMLktleW1hcHBlckljb25TZXQoKS5yZW5kZXIoKTtcbiAgICBlbC5pbm5lckhUTUwgPSB0aGlzLl9pY29uc2V0O1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlYWZsZXQtY29udHJvbC1jb250YWluZXInKS5hcHBlbmRDaGlsZChlbCk7XG4gIH0sXG59KTtcblxuTC5EaXN0b3J0YWJsZUltYWdlLktleW1hcHBlci5hZGRJbml0SG9vaygoKSA9PiB7XG4gIEwuRGlzdG9ydGFibGVJbWFnZS5LZXltYXBwZXIucHJvdG90eXBlLl9uID0gKFxuICAgIEwuRGlzdG9ydGFibGVJbWFnZS5LZXltYXBwZXIucHJvdG90eXBlLl9uID9cbiAgICBMLkRpc3RvcnRhYmxlSW1hZ2UuS2V5bWFwcGVyLnByb3RvdHlwZS5fbiArIDEgOlxuICAgIDFcbiAgKTtcbiAgLy8gZG9udCBlbmFibGUga2V5bWFwcGVyIGZvciBtb2JpbGVcbiAgaWYgKEwuRGlzdG9ydGFibGVJbWFnZS5LZXltYXBwZXIucHJvdG90eXBlLl9uID09PSAxICYmICFMLkJyb3dzZXIubW9iaWxlKSB7XG4gICAgdGhpcy5lbmFibGUoKTtcbiAgICB0aGlzLl9pbmplY3RJY29uU2V0KCk7XG4gIH1cbn0pO1xuXG5MLmRpc3RvcnRhYmxlSW1hZ2Uua2V5bWFwcGVyID0gKG1hcCwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gbmV3IEwuRGlzdG9ydGFibGVJbWFnZS5LZXltYXBwZXIobWFwLCBvcHRpb25zKTtcbn07XG4iLCIvKipcbiAqIGBMLk1hcC5Eb3VibGVDbGlja1pvb21gIGZyb20gbGVhZmxldCAxLjUuMSwgb3ZlcnJ3cml0dGVuIHNvIHRoYXQgaXRcbiAqIDEpIEZpcmVzIGEgYHNpbmdsZWNsaWNrYCBldmVudCB0byBhdm9pZCBkZXNlbGVjdGluZyBpbWFnZXMgb24gYGRibGNsaWNrYC5cbiAqIDIpIE1haW50YWlucyBhIG11dHVhbGx5IGV4Y2x1c2l2ZSByZWxhdGlvbnNoaXAgd2l0aCB0aGUgbWFwJ3MgYERvdWJsZUNsaWNrTGFiZWxzYCBoYW5kbGVyXG4gKi9cbkwuTWFwLkRvdWJsZUNsaWNrWm9vbS5pbmNsdWRlKHtcbiAgYWRkSG9va3MoKSB7XG4gICAgdGhpcy5fbWFwLm9uKHtcbiAgICAgIGNsaWNrOiB0aGlzLl9maXJlSWZTaW5nbGUsXG4gICAgICBkYmxjbGljazogdGhpcy5fb25Eb3VibGVDbGljayxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICByZW1vdmVIb29rcygpIHtcbiAgICB0aGlzLl9tYXAub2ZmKHtcbiAgICAgIGNsaWNrOiB0aGlzLl9maXJlSWZTaW5nbGUsXG4gICAgICBkYmxjbGljazogdGhpcy5fb25Eb3VibGVDbGljayxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBlbmFibGUoKSB7XG4gICAgaWYgKHRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIC8vIGRvbid0IGVuYWJsZSAnZG91YmxlQ2xpY2tab29tJyB1bmxlc3MgJ2RvdWJsZUNsaWNrTGFiZWxzJyBpcyBkaXNhYmxlZCBmaXJzdFxuICAgIGlmICh0aGlzLl9tYXAuZG91YmxlQ2xpY2tMYWJlbHMpIHtcbiAgICAgIGlmICh0aGlzLl9tYXAuZG91YmxlQ2xpY2tMYWJlbHMuZW5hYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNpZ25pZnkgdG8gY29sbGVjdGlvbi9pbnN0YW5jZSBjbGFzc2VzIHRvIHR1cm4gb24gJ3NpbmdsZWNsaWNrJyBsaXN0ZW5lcnNcbiAgICB0aGlzLl9tYXAuZmlyZSgnc2luZ2xlY2xpY2tvbicpO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5hZGRIb29rcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGRpc2FibGUoKSB7XG4gICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBzaWduaWZ5IHRvIGNvbGxlY3Rpb24vaW5zdGFuY2Ugc2FmZSB0byBzd2FwICdzaW5nbGVjbGljaycgbGlzdGVuZXJzIHdpdGggJ2NsaWNrJyBsaXN0ZW5lcnMuXG4gICAgdGhpcy5fbWFwLmZpcmUoJ3NpbmdsZWNsaWNrb2ZmJyk7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVIb29rcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9maXJlSWZTaW5nbGUoZSkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBvZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICAgIC8vIHByZXZlbnRzIGRlc2VsZWN0aW9uIGluIGNhc2Ugb2YgYm94IHNlbGVjdG9yXG4gICAgaWYgKG9lICYmIG9lLnNoaWZ0S2V5KSB7IHJldHVybjsgfVxuXG4gICAgbWFwLl9jbGlja2VkICs9IDE7XG4gICAgdGhpcy5fbWFwLl9jbGlja1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG1hcC5fY2xpY2tlZCA9PT0gMSkge1xuICAgICAgICBtYXAuX2NsaWNrZWQgPSAwO1xuICAgICAgICBtYXAuZmlyZSgnc2luZ2xlY2xpY2snLCB7dHlwZTogJ3NpbmdsZWNsaWNrJ30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbWFudWFsbHkgZmlyZSBkb3VibGVjbGljayBldmVudCBvbmx5IGZvciB0b3VjaCBzY3JlZW5zIHRoYXQgZG9uJ3QgbmF0aXZlbHkgZmlyZSBpdFxuICAgICAgICBpZiAoTC5Ccm93c2VyLnRvdWNoICYmIChvZSAmJiBvZS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykpIHtcbiAgICAgICAgICAvKiAgaW4gYERvdWJsZUNsaWNrTGFiZWxzLmpzYCwgd2UganVzdCBkbyBtYXAuZmlyZSgnZGJsY2xpY2snKSBiYyBgX29uRG91YmxDbGlja2AgZG9lc24ndCB1c2UgdGhlXG4gICAgICAgICAgcGFzc2VkIFwiZVwiIChmb3Igbm93KS4gVG8gZ2VuZXJhdGUgYSAncmVhbCcgRE9NIGV2ZW50IHRoYXQgd2lsbCBoYXZlIGFsbCBvZiBpdHMgY29ycmVzcG9uZGluZyBjb3JlXG4gICAgICAgICAgcHJvcGVydGllcyAob3JpZ2luYWxFdmVudCwgbGF0bG5nLCBldGMuKSwgdXNlIExlYWZsZXQncyBgI21hcC5fZmlyZURPTUV2ZW50YCAoTGVhZmxldCAxLjUuMSBzb3VyY2UpICovXG4gICAgICAgICAgbWFwLl9maXJlRE9NRXZlbnQob2UsICdkYmxjbGljaycsIFttYXBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDI1MCk7XG4gIH0sXG5cbiAgX29uRG91YmxlQ2xpY2soZSkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBvZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBtYXAuX2NsaWNrZWQgPSAwO1xuICAgICAgY2xlYXJUaW1lb3V0KG1hcC5fY2xpY2tUaW1lb3V0KTtcbiAgICB9LCAwKTtcblxuICAgIGlmICghb2UpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICBjb25zdCBvbGRab29tID0gbWFwLmdldFpvb20oKTtcbiAgICBjb25zdCBkZWx0YSA9IG1hcC5vcHRpb25zLnpvb21EZWx0YTtcbiAgICBjb25zdCB6b29tID0gb2Uuc2hpZnRLZXkgPyBvbGRab29tIC0gZGVsdGEgOiBvbGRab29tICsgZGVsdGE7XG5cbiAgICBpZiAobWFwLm9wdGlvbnMuZG91YmxlQ2xpY2tab29tID09PSAnY2VudGVyJykge1xuICAgICAgbWFwLnNldFpvb20oem9vbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcC5zZXRab29tQXJvdW5kKGUuY29udGFpbmVyUG9pbnQsIHpvb20pO1xuICAgIH1cbiAgfSxcbn0pO1xuIiwiTC5NYXAubWVyZ2VPcHRpb25zKHtcbiAgYm94Q29sbGVjdG9yOiB0cnVlLFxuICBib3hab29tOiBmYWxzZSxcbn0pO1xuXG4vKipcbiAqIHByaW1hcmlseSBMZWFmbGV0IDEuNS4xIHNvdXJjZSBjb2RlLiBPdmVycmlkZW4gc28gdGhhdCBpdCdzIGEgY29sbGVjdGlvbiBib3ggdXNlZCB3aXRoXG4gKiBvdXIgYEwuRGlzdG9ydGFibGVDb2xsZWN0aW9uYCBjbGFzcyBpbnN0ZWFkIG9mIGEgem9vbSBib3guXG4gKiAqL1xuTC5NYXAuQm94Q29sbGVjdG9yID0gTC5NYXAuQm94Wm9vbS5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9jb250YWluZXIgPSBtYXAuX2NvbnRhaW5lcjtcbiAgICB0aGlzLl9wYW5lID0gbWFwLl9wYW5lcy5vdmVybGF5UGFuZTtcbiAgICB0aGlzLl9yZXNldFN0YXRlVGltZW91dCA9IDA7XG4gICAgbWFwLm9uKCd1bmxvYWQnLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbiAgfSxcblxuICBhZGRIb29rcygpIHtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbiAgfSxcblxuICByZW1vdmVIb29rcygpIHtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG4gIH0sXG5cbiAgbW92ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vdmVkO1xuICB9LFxuXG4gIF9kZXN0cm95KCkge1xuICAgIEwuRG9tVXRpbC5yZW1vdmUodGhpcy5fcGFuZSk7XG4gICAgZGVsZXRlIHRoaXMuX3BhbmU7XG4gIH0sXG5cbiAgX3Jlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSAwO1xuICAgIHRoaXMuX21vdmVkID0gZmFsc2U7XG4gIH0sXG5cbiAgX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9yZXNldFN0YXRlVGltZW91dCAhPT0gMCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0KTtcbiAgICAgIHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gMDtcbiAgICB9XG4gIH0sXG5cbiAgX29uTW91c2VEb3duKGUpIHtcbiAgICBpZiAoIWUuc2hpZnRLZXkgfHwgKGUud2hpY2ggIT09IDEgJiYgZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgdGhlIGRlZmVycmVkIHJlc2V0U3RhdGUgaWYgaXQgaGFzbid0IGV4ZWN1dGVkIHlldCwgb3RoZXJ3aXNlIGl0XG4gICAgLy8gd2lsbCBpbnRlcnJ1cHQgdGhlIGludGVyYWN0aW9uIGFuZCBvcnBoYW4gYSBib3ggZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuICAgIHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG4gICAgdGhpcy5fcmVzZXRTdGF0ZSgpO1xuXG4gICAgTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uKCk7XG4gICAgTC5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKTtcblxuICAgIHRoaXMuX3N0YXJ0UG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKGRvY3VtZW50LCB7XG4gICAgICBjb250ZXh0bWVudTogTC5Eb21FdmVudC5zdG9wLFxuICAgICAgbW91c2Vtb3ZlOiB0aGlzLl9vbk1vdXNlTW92ZSxcbiAgICAgIG1vdXNldXA6IHRoaXMuX29uTW91c2VVcCxcbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICBfb25Nb3VzZU1vdmUoZSkge1xuICAgIGlmICghdGhpcy5fbW92ZWQpIHtcbiAgICAgIHRoaXMuX21vdmVkID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fYm94ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtem9vbS1ib3gnLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG5cbiAgICAgIHRoaXMuX21hcC5maXJlKCdib3h6b29tc3RhcnQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuICAgIHRoaXMuX2JvdW5kcyA9IEwuYm91bmRzKHRoaXMuX3N0YXJ0UG9pbnQsIHRoaXMuX3BvaW50KTtcbiAgICBjb25zdCBzaXplID0gdGhpcy5fYm91bmRzLmdldFNpemUoKTtcblxuICAgIEwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsIHRoaXMuX2JvdW5kcy5taW4pO1xuXG4gICAgdGhpcy5fYm94LnN0eWxlLndpZHRoID0gc2l6ZS54ICsgJ3B4JztcbiAgICB0aGlzLl9ib3guc3R5bGUuaGVpZ2h0ID0gc2l6ZS55ICsgJ3B4JztcbiAgfSxcblxuICBfZmluaXNoKCkge1xuICAgIGlmICh0aGlzLl9tb3ZlZCkge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZSh0aGlzLl9ib3gpO1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY3Jvc3NoYWlyJyk7XG4gICAgfVxuXG4gICAgTC5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcbiAgICBMLkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCk7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwge1xuICAgICAgY29udGV4dG1lbnU6IEwuRG9tRXZlbnQuc3RvcCxcbiAgICAgIG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG4gICAgICBtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cbiAgX29uTW91c2VVcChlKSB7XG4gICAgaWYgKGUud2hpY2ggIT09IDEgJiYgZS5idXR0b24gIT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9maW5pc2goKTtcblxuICAgIGlmICghdGhpcy5fbW92ZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBQb3N0cG9uZSB0byBuZXh0IEpTIHRpY2sgc28gaW50ZXJuYWwgY2xpY2sgZXZlbnQgaGFuZGxpbmdcbiAgICAvLyBzdGlsbCBzZWUgaXQgYXMgXCJtb3ZlZFwiLlxuICAgIHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG4gICAgdGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICBMLlV0aWwuYmluZCh0aGlzLl9yZXNldFN0YXRlLCB0aGlzKSwgMCk7XG5cbiAgICBsZXQgYm91bmRzID0gTC5sYXRMbmdCb3VuZHMoXG4gICAgICAgIHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX2JvdW5kcy5nZXRCb3R0b21MZWZ0KCkpLFxuICAgICAgICB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyh0aGlzLl9ib3VuZHMuZ2V0VG9wUmlnaHQoKSlcbiAgICApO1xuXG4gICAgY29uc3Qgem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpO1xuXG4gICAgLy8gY2FsbHMgdGhlIGBwcm9qZWN0YCBtZXRob2QgYnV0IDFzdCB1cGRhdGVzIHRoZSBwaXhlbCBvcmlnaW4gLSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3B1YmxpY2xhYi9MZWFmbGV0LkRpc3RvcnRhYmxlSW1hZ2UvcHVsbC8zNDRcbiAgICBib3VuZHMgPSB0aGlzLl9tYXAuX2xhdExuZ0JvdW5kc1RvTmV3TGF5ZXJCb3VuZHMoYm91bmRzLCB6b29tLCBjZW50ZXIpO1xuXG4gICAgdGhpcy5fbWFwLmZpcmUoJ2JveGNvbGxlY3RlbmQnLCB7Ym94Q29sbGVjdEJvdW5kczogYm91bmRzfSk7XG4gIH0sXG59KTtcblxuTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnYm94Q29sbGVjdG9yJywgTC5NYXAuQm94Q29sbGVjdG9yKTtcbiIsIkwuTWFwLm1lcmdlT3B0aW9ucyh7XG4gIGRvdWJsZUNsaWNrTGFiZWxzOiB0cnVlLFxufSk7XG5cbi8qKlxuICogVGhlIGBkb3VibGVDbGlja0xhYmVsc2AgaGFuZGxlciByZXBsYWNlcyBgZG91YmxlQ2xpY2tab29tYCBieSBkZWZhdWx0IGlmIGAjYWRkR29vZ2xlTXV0YW50YFxuICogaXMgdXNlZCB1bmxlc3MgdGhlIG9wdGlvbnMgJ2xhYmVsczogZmFsc2UnIG9yICdkb3VibGVDbGlja1pvb206IGZhbHNlYCB3ZXJlIHBhc3NlZCB0byBpdC5cbiAqL1xuTC5NYXAuRG91YmxlQ2xpY2tMYWJlbHMgPSBMLk1hcC5Eb3VibGVDbGlja1pvb20uZXh0ZW5kKHtcbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIGlmICh0aGlzLl9lbmFibGVkKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBkaXNhYmxlICdkb3VibGVDbGlja1pvb20nIGlmICdkb3VibGVDbGlja0xhYmVscycgaXMgZW5hYmxlZC5cbiAgICBpZiAobWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGVkKCkpIHtcbiAgICAgIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX21hcC5maXJlKCdzaW5nbGVjbGlja29uJyk7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmFkZEhvb2tzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZGlzYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbW92ZUhvb2tzKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBfZmlyZUlmU2luZ2xlKGUpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3Qgb2UgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAvLyBwcmV2ZW50cyBkZXNlbGVjdGlvbiBpbiBjYXNlIG9mIGJveCBzZWxlY3RvclxuICAgIGlmIChvZSAmJiBvZS5zaGlmdEtleSkgeyByZXR1cm47IH1cblxuICAgIG1hcC5fY2xpY2tlZCArPSAxO1xuICAgIHRoaXMuX21hcC5fY2xpY2tUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChtYXAuX2NsaWNrZWQgPT09IDEpIHtcbiAgICAgICAgbWFwLl9jbGlja2VkID0gMDtcbiAgICAgICAgbWFwLmZpcmUoJ3NpbmdsZWNsaWNrJywge3R5cGU6ICdzaW5nbGVjbGljayd9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG1hbnVhbGx5IGZpcmUgZG91YmxlY2xpY2sgZXZlbnQgb25seSBmb3IgdG91Y2ggc2NyZWVucyB0aGF0IGRvbid0IG5hdGl2ZWx5IGZpcmUgaXRcbiAgICAgICAgaWYgKEwuQnJvd3Nlci50b3VjaCAmJiAob2UgJiYgb2Uuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpKSB7XG4gICAgICAgICAgbWFwLmZpcmUoJ2RibGNsaWNrJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAyNTApO1xuICB9LFxuXG4gIF9vbkRvdWJsZUNsaWNrKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBsYWJlbHMgPSBtYXAuX2xhYmVscztcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBtYXAuX2NsaWNrZWQgPSAwO1xuICAgICAgY2xlYXJUaW1lb3V0KG1hcC5fY2xpY2tUaW1lb3V0KTtcbiAgICB9LCAwKTtcblxuICAgIGlmICghbGFiZWxzKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGxhYmVscy5vcHRpb25zLm9wYWNpdHkgPT09IDEpIHtcbiAgICAgIGxhYmVscy5vcHRpb25zLm9wYWNpdHkgPSAwO1xuICAgICAgbGFiZWxzLnNldE9wYWNpdHkoMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhYmVscy5vcHRpb25zLm9wYWNpdHkgPSAxO1xuICAgICAgbGFiZWxzLnNldE9wYWNpdHkoMSk7XG4gICAgfVxuICB9LFxufSk7XG5cbkwuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ2RvdWJsZUNsaWNrTGFiZWxzJywgTC5NYXAuRG91YmxlQ2xpY2tMYWJlbHMpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuTC5NYXAuaW5jbHVkZSh7XG5cbiAgX2NsaWNrZWQ6IDAsXG5cbiAgYWRkR29vZ2xlTXV0YW50KG9wdHMpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cDovL210MC5nb29nbGUuY29tL3Z0L2x5cnM9cyZ4PXt4fSZ5PXt5fSZ6PXt6fSc7XG5cbiAgICBvcHRzID0gdGhpcy5tdXRhbnRPcHRpb25zID0gTC5leHRlbmQoe1xuICAgICAgbXV0YW50T3BhY2l0eTogMC44LFxuICAgICAgbWF4Wm9vbTogMjQsXG4gICAgICBtYXhOYXRpdmVab29tOiAyMCxcbiAgICAgIG1pblpvb206IDAsXG4gICAgICBsYWJlbHM6IHRydWUsXG4gICAgICBsYWJlbE9wYWNpdHk6IDEsXG4gICAgICBkb3VibGVDbGlja0xhYmVsczogdHJ1ZSxcbiAgICB9LCBvcHRzKTtcblxuICAgIGlmICghb3B0cy5sYWJlbHMpIHtcbiAgICAgIHRoaXMubXV0YW50T3B0aW9ucyA9IEwuZXh0ZW5kKHRoaXMubXV0YW50T3B0aW9ucywge1xuICAgICAgICBsYWJlbE9wYWNpdHk6IG9wdHMubGFiZWxzID8gMSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZG91YmxlQ2xpY2tMYWJlbHM6IG9wdHMubGFiZWxzID8gdHJ1ZSA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2dvb2dsZU11dGFudCA9IEwudGlsZUxheWVyKHVybCwge1xuICAgICAgbWF4Wm9vbTogb3B0cy5tYXhab29tLFxuICAgICAgbWF4TmF0aXZlWm9vbTogb3B0cy5tYXhOYXRpdmVab29tLFxuICAgICAgbWluWm9vbTogb3B0cy5taW5ab29tLFxuICAgICAgb3BhY2l0eTogb3B0cy5tdXRhbnRPcGFjaXR5LFxuICAgIH0pLmFkZFRvKHRoaXMpO1xuXG4gICAgaWYgKG9wdHMubGFiZWxzKSB7IHRoaXMuX2FkZExhYmVscyhvcHRzKTsgfVxuICAgIC8vIHNob3VsZG4ndCBoYXZlIHRoaXMgaGFuZGxlciBhdCBhbGwgaWYgdGhlcmUgYXJlIG5vIGxhYmVscyB0byB0b2dnbGVcbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZG91YmxlQ2xpY2tMYWJlbHMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX2FkZExhYmVscyhvcHRzKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vc3RhbWVuLXRpbGVzLXtzfS5hLnNzbC5mYXN0bHkubmV0L3RvbmVyLWxhYmVscy97en0ve3h9L3t5fXtyfS57ZXh0fSc7XG5cbiAgICBpZiAob3B0cy5sYWJlbE9wYWNpdHkgIT09IDAgJiYgb3B0cy5sYWJlbE9wYWNpdHkgIT09IDEpIHtcbiAgICAgIG9wdHMubGFiZWxPcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYWJlbHMgPSBMLnRpbGVMYXllcih1cmwsIHtcbiAgICAgIGF0dHJpYnV0aW9uOiAnTWFwIHRpbGVzIGJ5IDxhIGhyZWY9XCJodHRwOi8vc3RhbWVuLmNvbVwiPlN0YW1lbiBEZXNpZ248L2E+LCA8YSBocmVmPVwiaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvMy4wXCI+Q0MgQlkgMy4wPC9hPiAmbWRhc2g7IE1hcCBkYXRhICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJyxcbiAgICAgIHN1YmRvbWFpbnM6ICdhYmNkJyxcbiAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgIG9wYWNpdHk6IG9wdHMubGFiZWxPcGFjaXR5LFxuICAgICAgbWF4Wm9vbTogb3B0cy5tYXhab29tLFxuICAgICAgbWF4TmF0aXZlWm9vbTogb3B0cy5tYXhOYXRpdmVab29tLFxuICAgICAgbWluWm9vbTogb3B0cy5taW5ab29tLFxuICAgICAgZXh0OiAncG5nJyxcbiAgICB9KS5hZGRUbyh0aGlzKTtcblxuICAgIGlmICh0aGlzLm11dGFudE9wdGlvbnMuZG91YmxlQ2xpY2tMYWJlbHMpIHtcbiAgICAgIHRoaXMuZG91YmxlQ2xpY2tMYWJlbHMuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG59KTtcbi8vIHN0YXJ0IG9mZiB3aXRoIGRvdWJsZUNsaWNrWm9vbSBlbmFibGVkLCBkb3VibGVDbGlja0xhYmVscyBjYW4gbGF0ZXIgYmUgZW5hYmxlZCBpbnN0ZWFkXG4vLyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbkwuTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uKCkge1xuICB0aGlzLmRvdWJsZUNsaWNrTGFiZWxzLmRpc2FibGUoKTtcbiAgdGhpcy5kb3VibGVDbGlja1pvb20uZW5hYmxlKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsImtleSIsIm9iaiIsIm5lc3RlZEtleSIsImsiLCJtIiwiaXMzZCIsIm1hdHJpeCIsInN0ciIsImVsIiwiY2xhc3NOYW1lIiwiYyIsIm4iLCJ3YXJuaW5nTXNnIiwicmVmIiwiY29udGFpbmVyIiwibG9hZGVyIiwic3ZnIiwicmVmMSIsInJlZjIiLCJ1c2UiLCJ0b2dnbGVkIiwidGl0bGUxIiwidGl0bGUyIiwib3ZlcmxheSIsIm1hcCIsImEiLCJiIiwiaSIsImoiLCJjaWoiLCJ2IiwicyIsImwiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwieTMiLCJ4NCIsInk0IiwieCIsInkiLCJ4MXMiLCJ5MXMiLCJ4MWQiLCJ5MWQiLCJ4MnMiLCJ5MnMiLCJ4MmQiLCJ5MmQiLCJ4M3MiLCJ5M3MiLCJ4M2QiLCJ5M2QiLCJ4NHMiLCJ5NHMiLCJ4NGQiLCJ5NGQiLCJkIiwidW5pdCIsImFuZ2xlIiwidXJsIiwib3B0aW9ucyIsInVuaXRzIiwiZXZlbnRQYXJlbnRzIiwib3JpZ2luYWxJbWFnZVdpZHRoIiwib3JpZ2luYWxJbWFnZUhlaWdodCIsImFzcGVjdFJhdGlvIiwiaW1hZ2VIZWlnaHQiLCJpbWFnZVdpZHRoIiwiY2VudGVyIiwib2Zmc2V0IiwiZSIsImVkaXQiLCJlUCIsImxheWVyIiwiY29ybmVyIiwibGF0bG5nIiwiem9vbSIsImV4Y2VlZHNUb3AiLCJleGNlZWRzQm90dG9tIiwibGF0bG5nT2JqIiwicG9pbnRzT2JqIiwic2NhbGUiLCJwIiwic2NhbGVkQ29ybmVycyIsInJvdzB4Iiwicm93MHkiLCJyb3cxeCIsInJvdzF5IiwiZGV0ZXJtaW5hbnQiLCJjdXJyZW50QW5nbGUiLCJhbmdsZVRvUm90YXRlQnkiLCJjb3JuZXJzIiwicSIsImZvcm1lclBvaW50IiwibmV3UG9pbnQiLCJ0cmFuc0Nvcm5lcnMiLCJkZWx0YSIsInBvaW50Iiwib3BlbiIsImNsb3NlIiwiaW1hZ2UiLCJsYXRMbmdUb0xheWVyUG9pbnQiLCJ0cmFuc2Zvcm1NYXRyaXgiLCJ0b3BMZWZ0Iiwid2FycCIsImV2ZW50IiwibGF0TG5nVG9OZXdMYXllclBvaW50IiwicmVkdWNlIiwiYWdnIiwibGF0TG5nVG9DYXJ0ZXNpYW4iLCJ3IiwiaCIsImlkIiwiYXJyIiwiZWFjaCIsIm1vZGUiLCJsYXllcnNUb01vdmUiLCJtb3ZlZFBvaW50cyIsImltZ3MiLCJzdW0iLCJpbWciLCJpbmRleCIsImltZ0NvbGxlY3Rpb25Qcm9wcyIsInJlc3BvbnNlIiwiZGF0YSIsImVyciIsImltYWdlQ29sbGVjdGlvbk9iaiIsImFsbEltYWdlcyIsImpzb24iLCJzZWN0aW9ucyIsImZpbGVuYW1lIiwiemMiLCJHUFMiLCJtYXJrZXJPcHRpb25zIiwibGF0bG5nQSIsImxhdGxuZ0IiLCJjZW50ZXJQb2ludCIsImZvcm1lclJhZGl1c1NxdWFyZWQiLCJuZXdSYWRpdXNTcXVhcmVkIiwiZHgiLCJkeSIsImluaXRpYWxBbmdsZSIsImlkeCIsImZvcm1lckxhdExuZyIsIm5ld0xhdExuZyIsImVkZ2VNaW5XaWR0aCIsImNvcm5lcjEiLCJjb3JuZXIyIiwiaWNvbiIsImhhbmRsZXNBcnIiLCJoYW5kbGUiLCJzeW1ib2xzIiwidG9vbGJhciIsImFyZ3MiLCJpY29uT3B0aW9ucyIsInN0eWxlIiwibWF0Y2giLCJ0b29sdGlwIiwiZXhwb3J0VG9vbCIsImVsZW1lbnQiLCJvcGFjaXRpZXMiLCJzdWJ0b29sYmFyQ3NzIiwibyIsIkFjdGlvbiIsImFjdGlvbiIsImxpbmsiLCJlZGl0ZWQiLCJvdiIsIm5hbWUiLCJ0b29scyIsInRvb2wiLCJoYW5kbGVyTmFtZSIsIm9sZCIsIm5leHQiLCJpdGVtIiwidmFsdWUiLCJjdXJyZW50UG9pbnQiLCJvcGFjaXR5Iiwib3V0bGluZSIsImRvd25sb2FkYWJsZSIsImhlaWdodCIsIndpZHRoIiwibnciLCJuZSIsInN3Iiwic2UiLCJtYXhMYXQiLCJyYWlzZWRQb2ludCIsIm5ld01vZGUiLCJtb2Rlc0FycmF5IiwibmV4dElkeCIsImdyb3VwIiwib2UiLCJib3giLCJpbWdCb3VuZHMiLCJsYXllcnNUb1JlbW92ZSIsInJlc29sdmUiLCJvcHRzIiwic3RhdHVzVXJsIiwiX2RlZmF1bHRVcGRhdGVyIiwiX2RlZmF1bHRIYW5kbGVTdGF0dXNSZXMiLCJyZXFPcHRzIiwicmVxIiwicmVzIiwiX2RlZmF1bHRGZXRjaFN0YXR1c1VybCIsIm1lcmdlZE9wdHMiLCJmb3JtIiwiZGl2aWRlciIsInRvZ2dsZXIiLCJ3cmFwIiwiYnV0dG9uIiwidGhpcyIsIm9sZFpvb20iLCJzaXplIiwiYm91bmRzIiwibGFiZWxzIl0sIm1hcHBpbmdzIjoieUJBQUEsRUFBRSxNQUFRLENBQ1IsaUJBQWtCLENBQ2hCLE1BQU1BLEVBQWMsQ0FDbEIsWUFBYSxlQUNiLGFBQWMsZ0JBQ2QsYUFBYyxnQkFDZCxVQUFXLGFBQ1gsWUFB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
